(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{181:(kt,gt,me)=>{"use strict";me.d(gt,{c:()=>Te});var te=me(5730),Re=me(3457);let Ue;const ce=ie=>ie.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Oe=ie=>(void 0===Ue&&(Ue=void 0===ie.style.animationName&&void 0!==ie.style.webkitAnimationName?"-webkit-":""),Ue),U=(ie,O,Ce)=>{const je=O.startsWith("animation")?Oe(ie):"";ie.style.setProperty(je+O,Ce)},ve=(ie,O)=>{const Ce=O.startsWith("animation")?Oe(ie):"";ie.style.removeProperty(Ce+O)},ue=[],ke=(ie=[],O)=>{if(void 0!==O){const Ce=Array.isArray(O)?O:[O];return[...ie,...Ce]}return ie},Te=ie=>{let O,Ce,je,J,pe,he,F,B,Q,fe,ge,tt,be,P=[],se=[],q=[],G=!1,V={},k=[],K=[],De={},Pe=0,ot=!1,ee=!1,ne=!0,j=!1,_e=!0,vt=!1;const qt=ie,zt=[],Wt=[],ye=[],an=[],Kn=[],Pi=[],yo=[],Sr=[],ds=[],$=[],hs="function"==typeof AnimationEffect||void 0!==Re.w&&"function"==typeof Re.w.AnimationEffect,An="function"==typeof Element&&"function"==typeof Element.prototype.animate&&hs,bo=()=>$,hr=(m,I)=>((null!=I&&I.oneTimeCallback?Wt:zt).push({c:m,o:I}),be),gs=()=>{if(An)$.forEach(m=>{m.cancel()}),$.length=0;else{const m=ye.slice();(0,te.r)(()=>{m.forEach(I=>{ve(I,"animation-name"),ve(I,"animation-duration"),ve(I,"animation-timing-function"),ve(I,"animation-iteration-count"),ve(I,"animation-delay"),ve(I,"animation-play-state"),ve(I,"animation-fill-mode"),ve(I,"animation-direction")})})}},tr=()=>{Kn.forEach(m=>{null!=m&&m.parentNode&&m.parentNode.removeChild(m)}),Kn.length=0},Io=()=>void 0!==pe?pe:F?F.getFill():"both",Li=()=>void 0!==Q?Q:void 0!==he?he:F?F.getDirection():"normal",$i=()=>ot?"linear":void 0!==je?je:F?F.getEasing():"linear",un=()=>ee?0:void 0!==fe?fe:void 0!==Ce?Ce:F?F.getDuration():0,Vr=()=>void 0!==J?J:F?F.getIterations():1,vn=()=>void 0!==ge?ge:void 0!==O?O:F?F.getDelay():0,bi=()=>{0!==Pe&&(Pe--,0===Pe&&((()=>{Kt(),Sr.forEach(L=>L()),ds.forEach(L=>L());const m=ne?1:0,I=k,D=K,M=De;ye.forEach(L=>{const R=L.classList;I.forEach(Be=>R.add(Be)),D.forEach(Be=>R.remove(Be));for(const Be in M)M.hasOwnProperty(Be)&&U(L,Be,M[Be])}),zt.forEach(L=>L.c(m,be)),Wt.forEach(L=>L.c(m,be)),Wt.length=0,_e=!0,ne&&(j=!0),ne=!0})(),F&&F.animationFinish()))},fr=(m=!0)=>{tr();const I=(ie=>(ie.forEach(O=>{for(const Ce in O)if(O.hasOwnProperty(Ce)){const je=O[Ce];if("easing"===Ce)O["animation-timing-function"]=je,delete O[Ce];else{const J=ce(Ce);J!==Ce&&(O[J]=je,delete O[Ce])}}}),ie))(P);ye.forEach(D=>{if(I.length>0){const M=((ie=[])=>ie.map(O=>{const Ce=O.offset,je=[];for(const J in O)O.hasOwnProperty(J)&&"offset"!==J&&je.push(`${J}: ${O[J]};`);return`${100*Ce}% { ${je.join(" ")} }`}).join(" "))(I);tt=void 0!==ie?ie:(ie=>{let O=ue.indexOf(ie);return O<0&&(O=ue.push(ie)-1),`ion-animation-${O}`})(M);const L=((ie,O,Ce)=>{var je;const J=(ie=>{const O=void 0!==ie.getRootNode?ie.getRootNode():ie;return O.head||O})(Ce),pe=Oe(Ce),he=J.querySelector("#"+ie);if(he)return he;const P=(null!==(je=Ce.ownerDocument)&&void 0!==je?je:document).createElement("style");return P.id=ie,P.textContent=`@${pe}keyframes ${ie} { ${O} } @${pe}keyframes ${ie}-alt { ${O} }`,J.appendChild(P),P})(tt,M,D);Kn.push(L),U(D,"animation-duration",`${un()}ms`),U(D,"animation-timing-function",$i()),U(D,"animation-delay",`${vn()}ms`),U(D,"animation-fill-mode",Io()),U(D,"animation-direction",Li());const R=Vr()===1/0?"infinite":Vr().toString();U(D,"animation-iteration-count",R),U(D,"animation-play-state","paused"),m&&U(D,"animation-name",`${L.id}-alt`),(0,te.r)(()=>{U(D,"animation-name",L.id||null)})}})},to=(m=!0)=>{(()=>{Pi.forEach(M=>M()),yo.forEach(M=>M());const m=se,I=q,D=V;ye.forEach(M=>{const L=M.classList;m.forEach(R=>L.add(R)),I.forEach(R=>L.remove(R));for(const R in D)D.hasOwnProperty(R)&&U(M,R,D[R])})})(),P.length>0&&(An?(ye.forEach(m=>{const I=m.animate(P,{id:qt,delay:vn(),duration:un(),easing:$i(),iterations:Vr(),fill:Io(),direction:Li()});I.pause(),$.push(I)}),$.length>0&&($[0].onfinish=()=>{bi()})):fr(m)),G=!0},no=m=>{if(m=Math.min(Math.max(m,0),.9999),An)$.forEach(I=>{I.currentTime=I.effect.getComputedTiming().delay+un()*m,I.pause()});else{const I=`-${un()*m}ms`;ye.forEach(D=>{P.length>0&&(U(D,"animation-delay",I),U(D,"animation-play-state","paused"))})}},pr=m=>{$.forEach(I=>{I.effect.updateTiming({delay:vn(),duration:un(),easing:$i(),iterations:Vr(),fill:Io(),direction:Li()})}),void 0!==m&&no(m)},Ur=(m=!0,I)=>{(0,te.r)(()=>{ye.forEach(D=>{U(D,"animation-name",tt||null),U(D,"animation-duration",`${un()}ms`),U(D,"animation-timing-function",$i()),U(D,"animation-delay",void 0!==I?`-${I*un()}ms`:`${vn()}ms`),U(D,"animation-fill-mode",Io()||null),U(D,"animation-direction",Li()||null);const M=Vr()===1/0?"infinite":Vr().toString();U(D,"animation-iteration-count",M),m&&U(D,"animation-name",`${tt}-alt`),(0,te.r)(()=>{U(D,"animation-name",tt||null)})})})},nr=(m=!1,I=!0,D)=>(m&&an.forEach(M=>{M.update(m,I,D)}),An?pr(D):Ur(I,D),be),io=()=>{G&&(An?$.forEach(m=>{m.pause()}):ye.forEach(m=>{U(m,"animation-play-state","paused")}),vt=!0)},va=()=>{B=void 0,bi()},Kt=()=>{B&&clearTimeout(B)},h=m=>new Promise(I=>{null!=m&&m.sync&&(ee=!0,hr(()=>ee=!1,{oneTimeCallback:!0})),G||to(),j&&(An?(no(0),pr()):Ur(),j=!1),_e&&(Pe=an.length+1,_e=!1),hr(()=>I(),{oneTimeCallback:!0}),an.forEach(D=>{D.play()}),An?($.forEach(m=>{m.play()}),(0===P.length||0===ye.length)&&bi()):(()=>{if(Kt(),(0,te.r)(()=>{ye.forEach(m=>{P.length>0&&U(m,"animation-play-state","running")})}),0===P.length||0===ye.length)bi();else{const m=vn()||0,I=un()||0,D=Vr()||1;isFinite(D)&&(B=setTimeout(va,m+I*D+100)),((ie,O)=>{let Ce;const je={passive:!0},pe=he=>{ie===he.target&&(Ce&&Ce(),Kt(),(0,te.r)(()=>{ye.forEach(m=>{ve(m,"animation-duration"),ve(m,"animation-delay"),ve(m,"animation-play-state")}),(0,te.r)(bi)}))};ie&&(ie.addEventListener("webkitAnimationEnd",pe,je),ie.addEventListener("animationend",pe,je),Ce=()=>{ie.removeEventListener("webkitAnimationEnd",pe,je),ie.removeEventListener("animationend",pe,je)})})(ye[0])}})(),vt=!1}),y=(m,I)=>{const D=P[0];return void 0===D||void 0!==D.offset&&0!==D.offset?P=[{offset:0,[m]:I},...P]:D[m]=I,be};return be={parentAnimation:F,elements:ye,childAnimations:an,id:qt,animationFinish:bi,from:y,to:(m,I)=>{const D=P[P.length-1];return void 0===D||void 0!==D.offset&&1!==D.offset?P=[...P,{offset:1,[m]:I}]:D[m]=I,be},fromTo:(m,I,D)=>y(m,I).to(m,D),parent:m=>(F=m,be),play:h,pause:()=>(an.forEach(m=>{m.pause()}),io(),be),stop:()=>{an.forEach(m=>{m.stop()}),G&&(gs(),G=!1),ot=!1,ee=!1,_e=!0,Q=void 0,fe=void 0,ge=void 0,Pe=0,j=!1,ne=!0,vt=!1},destroy:m=>(an.forEach(I=>{I.destroy(m)}),(m=>{gs(),m&&tr()})(m),ye.length=0,an.length=0,P.length=0,zt.length=0,Wt.length=0,G=!1,_e=!0,be),keyframes:m=>{const I=P!==m;return P=m,I&&(m=>{An?bo().forEach(I=>{if(I.effect.setKeyframes)I.effect.setKeyframes(m);else{const D=new KeyframeEffect(I.effect.target,m,I.effect.getTiming());I.effect=D}}):fr()})(P),be},addAnimation:m=>{if(null!=m)if(Array.isArray(m))for(const I of m)I.parent(be),an.push(I);else m.parent(be),an.push(m);return be},addElement:m=>{if(null!=m)if(1===m.nodeType)ye.push(m);else if(m.length>=0)for(let I=0;I<m.length;I++)ye.push(m[I]);else console.error("Invalid addElement value");return be},update:nr,fill:m=>(pe=m,nr(!0),be),direction:m=>(he=m,nr(!0),be),iterations:m=>(J=m,nr(!0),be),duration:m=>(!An&&0===m&&(m=1),Ce=m,nr(!0),be),easing:m=>(je=m,nr(!0),be),delay:m=>(O=m,nr(!0),be),getWebAnimations:bo,getKeyframes:()=>P,getFill:Io,getDirection:Li,getDelay:vn,getIterations:Vr,getEasing:$i,getDuration:un,afterAddRead:m=>(Sr.push(m),be),afterAddWrite:m=>(ds.push(m),be),afterClearStyles:(m=[])=>{for(const I of m)De[I]="";return be},afterStyles:(m={})=>(De=m,be),afterRemoveClass:m=>(K=ke(K,m),be),afterAddClass:m=>(k=ke(k,m),be),beforeAddRead:m=>(Pi.push(m),be),beforeAddWrite:m=>(yo.push(m),be),beforeClearStyles:(m=[])=>{for(const I of m)V[I]="";return be},beforeStyles:(m={})=>(V=m,be),beforeRemoveClass:m=>(q=ke(q,m),be),beforeAddClass:m=>(se=ke(se,m),be),onFinish:hr,isRunning:()=>0!==Pe&&!vt,progressStart:(m=!1,I)=>(an.forEach(D=>{D.progressStart(m,I)}),io(),ot=m,G||to(),nr(!1,!0,I),be),progressStep:m=>(an.forEach(I=>{I.progressStep(m)}),no(m),be),progressEnd:(m,I,D)=>(ot=!1,an.forEach(M=>{M.progressEnd(m,I,D)}),void 0!==D&&(fe=D),j=!1,ne=!0,0===m?(Q="reverse"===Li()?"normal":"reverse","reverse"===Q&&(ne=!1),An?(nr(),no(1-I)):(ge=(1-I)*un()*-1,nr(!1,!1))):1===m&&(An?(nr(),no(I)):(ge=I*un()*-1,nr(!1,!1))),void 0!==m&&(hr(()=>{fe=void 0,Q=void 0,ge=void 0},{oneTimeCallback:!0}),F||h()),be)}}},4349:(kt,gt,me)=>{"use strict";me.d(gt,{G:()=>ce});class Re{constructor(U,ve,we,ze,ue){this.id=ve,this.name=we,this.disableScroll=ue,this.priority=1e6*ze+ve,this.ctrl=U}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const U=this.ctrl.capture(this.name,this.id,this.priority);return U&&this.disableScroll&&this.ctrl.disableScroll(this.id),U}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class Ue{constructor(U,ve,we,ze){this.id=ve,this.disable=we,this.disableScroll=ze,this.ctrl=U}block(){if(this.ctrl){if(this.disable)for(const U of this.disable)this.ctrl.disableGesture(U,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const U of this.disable)this.ctrl.enableGesture(U,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Y="backdrop-no-scroll",ce=new class te{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(U){var ve;return new Re(this,this.newID(),U.name,null!==(ve=U.priority)&&void 0!==ve?ve:0,!!U.disableScroll)}createBlocker(U={}){return new Ue(this,this.newID(),U.disable,!!U.disableScroll)}start(U,ve,we){return this.canStart(U)?(this.requestedStart.set(ve,we),!0):(this.requestedStart.delete(ve),!1)}capture(U,ve,we){if(!this.start(U,ve,we))return!1;const ze=this.requestedStart;let ue=-1e4;if(ze.forEach(ae=>{ue=Math.max(ue,ae)}),ue===we){this.capturedId=ve,ze.clear();const ae=new CustomEvent("ionGestureCaptured",{detail:{gestureName:U}});return document.dispatchEvent(ae),!0}return ze.delete(ve),!1}release(U){this.requestedStart.delete(U),this.capturedId===U&&(this.capturedId=void 0)}disableGesture(U,ve){let we=this.disabledGestures.get(U);void 0===we&&(we=new Set,this.disabledGestures.set(U,we)),we.add(ve)}enableGesture(U,ve){const we=this.disabledGestures.get(U);void 0!==we&&we.delete(ve)}disableScroll(U){this.disabledScroll.add(U),1===this.disabledScroll.size&&document.body.classList.add(Y)}enableScroll(U){this.disabledScroll.delete(U),0===this.disabledScroll.size&&document.body.classList.remove(Y)}canStart(U){return!(void 0!==this.capturedId||this.isDisabled(U))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(U){const ve=this.disabledGestures.get(U);return!!(ve&&ve.size>0)}newID(){return this.gestureId++,this.gestureId}}},7593:(kt,gt,me)=>{"use strict";me.r(gt),me.d(gt,{MENU_BACK_BUTTON_PRIORITY:()=>ce,OVERLAY_BACK_BUTTON_PRIORITY:()=>Y,blockHardwareBackButton:()=>Re,startHardwareBackButton:()=>Ue});var te=me(5861);const Re=()=>{document.addEventListener("backbutton",()=>{})},Ue=()=>{const Oe=document;let U=!1;Oe.addEventListener("backbutton",()=>{if(U)return;let ve=0,we=[];const ze=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(H,de){we.push({priority:H,handler:de,id:ve++})}}});Oe.dispatchEvent(ze);const ue=function(){var H=(0,te.Z)(function*(de){try{if(null!=de&&de.handler){const ke=de.handler(ae);null!=ke&&(yield ke)}}catch(ke){console.error(ke)}});return function(ke){return H.apply(this,arguments)}}(),ae=()=>{if(we.length>0){let H={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};we.forEach(de=>{de.priority>=H.priority&&(H=de)}),U=!0,we=we.filter(de=>de.id!==H.id),ue(H).then(()=>U=!1)}};ae()})},Y=100,ce=99},5730:(kt,gt,me)=>{"use strict";me.d(gt,{a:()=>U,b:()=>ve,c:()=>Ue,d:()=>de,e:()=>ke,f:()=>H,g:()=>we,h:()=>J,i:()=>Oe,j:()=>Y,k:()=>ae,l:()=>Te,m:()=>ue,n:()=>ie,o:()=>je,p:()=>Ce,q:()=>pe,r:()=>ze,s:()=>he,t:()=>te,u:()=>O});const te=(P,se=0)=>new Promise(q=>{Re(P,se,q)}),Re=(P,se=0,q)=>{let G,F;const V={passive:!0},K=()=>{G&&G()},De=Pe=>{(void 0===Pe||P===Pe.target)&&(K(),q(Pe))};return P&&(P.addEventListener("webkitTransitionEnd",De,V),P.addEventListener("transitionend",De,V),F=setTimeout(De,se+500),G=()=>{F&&(clearTimeout(F),F=void 0),P.removeEventListener("webkitTransitionEnd",De,V),P.removeEventListener("transitionend",De,V)}),K},Ue=(P,se)=>{P.componentOnReady?P.componentOnReady().then(q=>se(q)):ze(()=>se(P))},Y=(P,se=[])=>{const q={};return se.forEach(G=>{P.hasAttribute(G)&&(null!==P.getAttribute(G)&&(q[G]=P.getAttribute(G)),P.removeAttribute(G))}),q},ce=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Oe=(P,se)=>{let q=ce;return se&&se.length>0&&(q=q.filter(G=>!se.includes(G))),Y(P,q)},U=(P,se,q,G)=>{var F;if(typeof window<"u"){const V=window,k=null===(F=null==V?void 0:V.Ionic)||void 0===F?void 0:F.config;if(k){const K=k.get("_ael");if(K)return K(P,se,q,G);if(k._ael)return k._ael(P,se,q,G)}}return P.addEventListener(se,q,G)},ve=(P,se,q,G)=>{var F;if(typeof window<"u"){const V=window,k=null===(F=null==V?void 0:V.Ionic)||void 0===F?void 0:F.config;if(k){const K=k.get("_rel");if(K)return K(P,se,q,G);if(k._rel)return k._rel(P,se,q,G)}}return P.removeEventListener(se,q,G)},we=(P,se=P)=>P.shadowRoot||se,ze=P=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(P):"function"==typeof requestAnimationFrame?requestAnimationFrame(P):setTimeout(P),ue=P=>!!P.shadowRoot&&!!P.attachShadow,ae=P=>{const se=P.closest("ion-item");return se?se.querySelector("ion-label"):null},H=P=>{if(P.focus(),P.classList.contains("ion-focusable")){const se=P.closest("ion-app");se&&se.setFocus([P])}},de=(P,se)=>{let q;const G=P.getAttribute("aria-labelledby"),F=P.id;let V=null!==G&&""!==G.trim()?G:se+"-lbl",k=null!==G&&""!==G.trim()?document.getElementById(G):ae(P);return k?(null===G&&(k.id=V),q=k.textContent,k.setAttribute("aria-hidden","true")):""!==F.trim()&&(k=document.querySelector(`label[for="${F}"]`),k&&(""!==k.id?V=k.id:k.id=V=`${F}-lbl`,q=k.textContent)),{label:k,labelId:V,labelText:q}},ke=(P,se,q,G,F)=>{if(P||ue(se)){let V=se.querySelector("input.aux-input");V||(V=se.ownerDocument.createElement("input"),V.type="hidden",V.classList.add("aux-input"),se.appendChild(V)),V.disabled=F,V.name=q,V.value=G||""}},Te=(P,se,q)=>Math.max(P,Math.min(se,q)),ie=(P,se)=>{if(!P){const q="ASSERT: "+se;throw console.error(q),new Error(q)}},O=P=>P.timeStamp||Date.now(),Ce=P=>{if(P){const se=P.changedTouches;if(se&&se.length>0){const q=se[0];return{x:q.clientX,y:q.clientY}}if(void 0!==P.pageX)return{x:P.pageX,y:P.pageY}}return{x:0,y:0}},je=P=>{const se="rtl"===document.dir;switch(P){case"start":return se;case"end":return!se;default:throw new Error(`"${P}" is not a valid value for [side]. Use "start" or "end" instead.`)}},J=(P,se)=>{const q=P._original||P;return{_original:P,emit:pe(q.emit.bind(q),se)}},pe=(P,se=0)=>{let q;return(...G)=>{clearTimeout(q),q=setTimeout(P,se,...G)}},he=(P,se)=>{if(null!=P||(P={}),null!=se||(se={}),P===se)return!0;const q=Object.keys(P);if(q.length!==Object.keys(se).length)return!1;for(const G of q)if(!(G in se)||P[G]!==se[G])return!1;return!0}},1843:(kt,gt,me)=>{"use strict";me.d(gt,{L:()=>Y,a:()=>ce,b:()=>Oe,c:()=>U,d:()=>ve,e:()=>se,g:()=>F,l:()=>he,s:()=>q,t:()=>ue});var te=me(5861),Re=me(1308),Ue=me(5730);const Y="ionViewWillEnter",ce="ionViewDidEnter",Oe="ionViewWillLeave",U="ionViewDidLeave",ve="ionViewWillUnload",ue=V=>new Promise((k,K)=>{(0,Re.c)(()=>{ae(V),H(V).then(De=>{De.animation&&De.animation.destroy(),de(V),k(De)},De=>{de(V),K(De)})})}),ae=V=>{const k=V.enteringEl,K=V.leavingEl;G(k,K,V.direction),V.showGoBack?k.classList.add("can-go-back"):k.classList.remove("can-go-back"),q(k,!1),k.style.setProperty("pointer-events","none"),K&&(q(K,!1),K.style.setProperty("pointer-events","none"))},H=function(){var V=(0,te.Z)(function*(k){const K=yield ke(k);return K&&Re.B.isBrowser?Te(K,k):ie(k)});return function(K){return V.apply(this,arguments)}}(),de=V=>{const k=V.enteringEl,K=V.leavingEl;k.classList.remove("ion-page-invisible"),k.style.removeProperty("pointer-events"),void 0!==K&&(K.classList.remove("ion-page-invisible"),K.style.removeProperty("pointer-events"))},ke=function(){var V=(0,te.Z)(function*(k){return k.leavingEl&&k.animated&&0!==k.duration?k.animationBuilder?k.animationBuilder:"ios"===k.mode?(yield Promise.resolve().then(me.bind(me,6439))).iosTransitionAnimation:(yield Promise.resolve().then(me.bind(me,7838))).mdTransitionAnimation:void 0});return function(K){return V.apply(this,arguments)}}(),Te=function(){var V=(0,te.Z)(function*(k,K){yield O(K,!0);const De=k(K.baseEl,K);J(K.enteringEl,K.leavingEl);const Pe=yield je(De,K);return K.progressCallback&&K.progressCallback(void 0),Pe&&pe(K.enteringEl,K.leavingEl),{hasCompleted:Pe,animation:De}});return function(K,De){return V.apply(this,arguments)}}(),ie=function(){var V=(0,te.Z)(function*(k){const K=k.enteringEl,De=k.leavingEl;return yield O(k,!1),J(K,De),pe(K,De),{hasCompleted:!0}});return function(K){return V.apply(this,arguments)}}(),O=function(){var V=(0,te.Z)(function*(k,K){const Pe=(void 0!==k.deepWait?k.deepWait:K)?[se(k.enteringEl),se(k.leavingEl)]:[P(k.enteringEl),P(k.leavingEl)];yield Promise.all(Pe),yield Ce(k.viewIsReady,k.enteringEl)});return function(K,De){return V.apply(this,arguments)}}(),Ce=function(){var V=(0,te.Z)(function*(k,K){k&&(yield k(K))});return function(K,De){return V.apply(this,arguments)}}(),je=(V,k)=>{const K=k.progressCallback,De=new Promise(Pe=>{V.onFinish(ot=>Pe(1===ot))});return K?(V.progressStart(!0),K(V)):V.play(),De},J=(V,k)=>{he(k,Oe),he(V,Y)},pe=(V,k)=>{he(V,ce),he(k,U)},he=(V,k)=>{if(V){const K=new CustomEvent(k,{bubbles:!1,cancelable:!1});V.dispatchEvent(K)}},P=V=>V?new Promise(k=>(0,Ue.c)(V,k)):Promise.resolve(),se=function(){var V=(0,te.Z)(function*(k){const K=k;if(K){if(null!=K.componentOnReady){if(null!=(yield K.componentOnReady()))return}else if(null!=K.__registerHost)return void(yield new Promise(Pe=>(0,Ue.r)(Pe)));yield Promise.all(Array.from(K.children).map(se))}});return function(K){return V.apply(this,arguments)}}(),q=(V,k)=>{k?(V.setAttribute("aria-hidden","true"),V.classList.add("ion-page-hidden")):(V.hidden=!1,V.removeAttribute("aria-hidden"),V.classList.remove("ion-page-hidden"))},G=(V,k,K)=>{void 0!==V&&(V.style.zIndex="back"===K?"99":"101"),void 0!==k&&(k.style.zIndex="100")},F=V=>V.classList.contains("ion-page")?V:V.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||V},6369:(kt,gt,me)=>{"use strict";me.d(gt,{m:()=>ue});var te=me(5861),Re=me(7593),Ue=me(5730),Y=me(5179),ce=me(181);const Oe=ae=>(0,ce.c)().duration(ae?400:300),U=ae=>{let H,de;const ke=ae.width+8,Te=(0,ce.c)(),ie=(0,ce.c)();ae.isEndSide?(H=ke+"px",de="0px"):(H=-ke+"px",de="0px"),Te.addElement(ae.menuInnerEl).fromTo("transform",`translateX(${H})`,`translateX(${de})`);const Ce="ios"===(0,Y.b)(ae),je=Ce?.2:.25;return ie.addElement(ae.backdropEl).fromTo("opacity",.01,je),Oe(Ce).addAnimation([Te,ie])},ve=ae=>{let H,de;const ke=(0,Y.b)(ae),Te=ae.width;ae.isEndSide?(H=-Te+"px",de=Te+"px"):(H=Te+"px",de=-Te+"px");const ie=(0,ce.c)().addElement(ae.menuInnerEl).fromTo("transform",`translateX(${de})`,"translateX(0px)"),O=(0,ce.c)().addElement(ae.contentEl).fromTo("transform","translateX(0px)",`translateX(${H})`),Ce=(0,ce.c)().addElement(ae.backdropEl).fromTo("opacity",.01,.32);return Oe("ios"===ke).addAnimation([ie,O,Ce])},we=ae=>{const H=(0,Y.b)(ae),de=ae.width*(ae.isEndSide?-1:1)+"px",ke=(0,ce.c)().addElement(ae.contentEl).fromTo("transform","translateX(0px)",`translateX(${de})`);return Oe("ios"===H).addAnimation(ke)},ue=(()=>{const ae=new Map,H=[],de=function(){var B=(0,te.Z)(function*(Q){const fe=yield J(Q);return!!fe&&fe.open()});return function(fe){return B.apply(this,arguments)}}(),ke=function(){var B=(0,te.Z)(function*(Q){const fe=yield void 0!==Q?J(Q):pe();return void 0!==fe&&fe.close()});return function(fe){return B.apply(this,arguments)}}(),Te=function(){var B=(0,te.Z)(function*(Q){const fe=yield J(Q);return!!fe&&fe.toggle()});return function(fe){return B.apply(this,arguments)}}(),ie=function(){var B=(0,te.Z)(function*(Q,fe){const ge=yield J(fe);return ge&&(ge.disabled=!Q),ge});return function(fe,ge){return B.apply(this,arguments)}}(),O=function(){var B=(0,te.Z)(function*(Q,fe){const ge=yield J(fe);return ge&&(ge.swipeGesture=Q),ge});return function(fe,ge){return B.apply(this,arguments)}}(),Ce=function(){var B=(0,te.Z)(function*(Q){if(null!=Q){const fe=yield J(Q);return void 0!==fe&&fe.isOpen()}return void 0!==(yield pe())});return function(fe){return B.apply(this,arguments)}}(),je=function(){var B=(0,te.Z)(function*(Q){const fe=yield J(Q);return!!fe&&!fe.disabled});return function(fe){return B.apply(this,arguments)}}(),J=function(){var B=(0,te.Z)(function*(Q){return yield ee(),"start"===Q||"end"===Q?ot(ne=>ne.side===Q&&!ne.disabled)||ot(ne=>ne.side===Q):null!=Q?ot(ge=>ge.menuId===Q):ot(ge=>!ge.disabled)||(H.length>0?H[0].el:void 0)});return function(fe){return B.apply(this,arguments)}}(),pe=function(){var B=(0,te.Z)(function*(){return yield ee(),K()});return function(){return B.apply(this,arguments)}}(),he=function(){var B=(0,te.Z)(function*(){return yield ee(),De()});return function(){return B.apply(this,arguments)}}(),P=function(){var B=(0,te.Z)(function*(){return yield ee(),Pe()});return function(){return B.apply(this,arguments)}}(),se=(B,Q)=>{ae.set(B,Q)},F=B=>{const Q=B.side;H.filter(fe=>fe.side===Q&&fe!==B).forEach(fe=>fe.disabled=!0)},V=function(){var B=(0,te.Z)(function*(Q,fe,ge){if(Pe())return!1;if(fe){const ne=yield pe();ne&&Q.el!==ne&&(yield ne.setOpen(!1,!1))}return Q._setOpen(fe,ge)});return function(fe,ge,ne){return B.apply(this,arguments)}}(),K=()=>ot(B=>B._isOpen),De=()=>H.map(B=>B.el),Pe=()=>H.some(B=>B.isAnimating),ot=B=>{const Q=H.find(B);if(void 0!==Q)return Q.el},ee=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(B=>new Promise(Q=>(0,Ue.c)(B,Q))));return se("reveal",we),se("push",ve),se("overlay",U),typeof document<"u"&&document.addEventListener("ionBackButton",B=>{const Q=K();Q&&B.detail.register(Re.MENU_BACK_BUTTON_PRIORITY,()=>Q.close())}),{registerAnimation:se,get:J,getMenus:he,getOpen:pe,isEnabled:je,swipeGesture:O,isAnimating:P,isOpen:Ce,enable:ie,toggle:Te,close:ke,open:de,_getOpenSync:K,_createAnimation:(B,Q)=>{const fe=ae.get(B);if(!fe)throw new Error("animation not registered");return fe(Q)},_register:B=>{H.indexOf(B)<0&&(B.disabled||F(B),H.push(B))},_unregister:B=>{const Q=H.indexOf(B);Q>-1&&H.splice(Q,1)},_setOpen:V,_setActiveMenu:F}})()},3457:(kt,gt,me)=>{"use strict";me.d(gt,{w:()=>te});const te=typeof window<"u"?window:void 0},1898:(kt,gt,me)=>{"use strict";me.r(gt),me.d(gt,{GESTURE_CONTROLLER:()=>te.G,createGesture:()=>we});var te=me(4349);const Re=(H,de,ke,Te)=>{const ie=Ue(H)?{capture:!!Te.capture,passive:!!Te.passive}:!!Te.capture;let O,Ce;return H.__zone_symbol__addEventListener?(O="__zone_symbol__addEventListener",Ce="__zone_symbol__removeEventListener"):(O="addEventListener",Ce="removeEventListener"),H[O](de,ke,ie),()=>{H[Ce](de,ke,ie)}},Ue=H=>{if(void 0===Y)try{const de=Object.defineProperty({},"passive",{get:()=>{Y=!0}});H.addEventListener("optsTest",()=>{},de)}catch(de){Y=!1}return!!Y};let Y;const U=H=>H instanceof Document?H:H.ownerDocument,we=H=>{let de=!1,ke=!1,Te=!0,ie=!1;const O=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},H),Ce=O.canStart,je=O.onWillStart,J=O.onStart,pe=O.onEnd,he=O.notCaptured,P=O.onMove,se=O.threshold,q=O.passive,G=O.blurOnStart,F={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},V=((H,de,ke)=>{const Te=ke*(Math.PI/180),ie="x"===H,O=Math.cos(Te),Ce=de*de;let je=0,J=0,pe=!1,he=0;return{start(P,se){je=P,J=se,he=0,pe=!0},detect(P,se){if(!pe)return!1;const q=P-je,G=se-J,F=q*q+G*G;if(F<Ce)return!1;const V=Math.sqrt(F),k=(ie?q:G)/V;return he=k>O?1:k<-O?-1:0,pe=!1,!0},isGesture:()=>0!==he,getDirection:()=>he}})(O.direction,O.threshold,O.maxAngle),k=te.G.createGesture({name:H.gestureName,priority:H.gesturePriority,disableScroll:H.disableScroll}),Pe=()=>{de&&(ie=!1,P&&P(F))},ot=()=>!!k.capture()&&(de=!0,Te=!1,F.startX=F.currentX,F.startY=F.currentY,F.startTime=F.currentTime,je?je(F).then(B):B(),!0),B=()=>{G&&(()=>{if(typeof document<"u"){const j=document.activeElement;null!=j&&j.blur&&j.blur()}})(),J&&J(F),Te=!0},Q=()=>{de=!1,ke=!1,ie=!1,Te=!0,k.release()},fe=j=>{const _e=de,tt=Te;if(Q(),tt){if(ze(F,j),_e)return void(pe&&pe(F));he&&he(F)}},ge=((H,de,ke,Te,ie)=>{let O,Ce,je,J,pe,he,P,se=0;const q=ee=>{se=Date.now()+2e3,de(ee)&&(!Ce&&ke&&(Ce=Re(H,"touchmove",ke,ie)),je||(je=Re(ee.target,"touchend",F,ie)),J||(J=Re(ee.target,"touchcancel",F,ie)))},G=ee=>{se>Date.now()||de(ee)&&(!he&&ke&&(he=Re(U(H),"mousemove",ke,ie)),P||(P=Re(U(H),"mouseup",V,ie)))},F=ee=>{k(),Te&&Te(ee)},V=ee=>{K(),Te&&Te(ee)},k=()=>{Ce&&Ce(),je&&je(),J&&J(),Ce=je=J=void 0},K=()=>{he&&he(),P&&P(),he=P=void 0},De=()=>{k(),K()},Pe=(ee=!0)=>{ee?(O||(O=Re(H,"touchstart",q,ie)),pe||(pe=Re(H,"mousedown",G,ie))):(O&&O(),pe&&pe(),O=pe=void 0,De())};return{enable:Pe,stop:De,destroy:()=>{Pe(!1),Te=ke=de=void 0}}})(O.el,j=>{const _e=ae(j);return!(ke||!Te||(ue(j,F),F.startX=F.currentX,F.startY=F.currentY,F.startTime=F.currentTime=_e,F.velocityX=F.velocityY=F.deltaX=F.deltaY=0,F.event=j,Ce&&!1===Ce(F))||(k.release(),!k.start()))&&(ke=!0,0===se?ot():(V.start(F.startX,F.startY),!0))},j=>{de?!ie&&Te&&(ie=!0,ze(F,j),requestAnimationFrame(Pe)):(ze(F,j),V.detect(F.currentX,F.currentY)&&(!V.isGesture()||!ot())&&ne())},fe,{capture:!1,passive:q}),ne=()=>{Q(),ge.stop(),he&&he(F)};return{enable(j=!0){j||(de&&fe(void 0),Q()),ge.enable(j)},destroy(){k.destroy(),ge.destroy()}}},ze=(H,de)=>{if(!de)return;const ke=H.currentX,Te=H.currentY,ie=H.currentTime;ue(de,H);const O=H.currentX,Ce=H.currentY,J=(H.currentTime=ae(de))-ie;if(J>0&&J<100){const he=(Ce-Te)/J;H.velocityX=(O-ke)/J*.7+.3*H.velocityX,H.velocityY=.7*he+.3*H.velocityY}H.deltaX=O-H.startX,H.deltaY=Ce-H.startY,H.event=de},ue=(H,de)=>{let ke=0,Te=0;if(H){const ie=H.changedTouches;if(ie&&ie.length>0){const O=ie[0];ke=O.clientX,Te=O.clientY}else void 0!==H.pageX&&(ke=H.pageX,Te=H.pageY)}de.currentX=ke,de.currentY=Te},ae=H=>H.timeStamp||Date.now()},1308:(kt,gt,me)=>{"use strict";me.d(gt,{B:()=>A,H:()=>ye,a:()=>ne,b:()=>gl,c:()=>b,e:()=>Qa,f:()=>rc,g:()=>j,h:()=>zt,i:()=>ms,j:()=>Li,k:()=>nc,p:()=>Te,r:()=>pa,s:()=>de});var te=me(5861);let Ue,Y,ce,Oe=!1,U=!1,ve=!1,we=!1,ze=!1;const ue=typeof window<"u"?window:{},ae=ue.document||{head:{}},H={$flags$:0,$resourcesUrl$:"",jmp:h=>h(),raf:h=>requestAnimationFrame(h),ael:(h,p,y,_)=>h.addEventListener(p,y,_),rel:(h,p,y,_)=>h.removeEventListener(p,y,_),ce:(h,p)=>new CustomEvent(h,p)},de=h=>{Object.assign(H,h)},Te=h=>Promise.resolve(h),ie=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch(h){}return!1})(),O=(h,p,y,_)=>{y&&y.map(([S,m,I])=>{const D=je(h,S),M=Ce(p,I),L=J(S);H.ael(D,m,M,L),(p.$rmListeners$=p.$rmListeners$||[]).push(()=>H.rel(D,m,M,L))})},Ce=(h,p)=>y=>{try{256&h.$flags$?h.$lazyInstance$[p](y):(h.$queuedListeners$=h.$queuedListeners$||[]).push([p,y])}catch(_){pr(_)}},je=(h,p)=>4&p?ae:8&p?ue:16&p?ae.body:h,J=h=>0!=(2&h),q="s-id",G="sty-id",F="c-id",k="http://www.w3.org/1999/xlink",Pe=new WeakMap,ot=(h,p,y)=>{let _=ri.get(h);ie&&y?(_=_||new CSSStyleSheet,"string"==typeof _?_=p:_.replaceSync(p)):_=p,ri.set(h,_)},ee=(h,p,y,_)=>{let S=Q(p,y);const m=ri.get(S);if(h=11===h.nodeType?h:ae,m)if("string"==typeof m){let D,I=Pe.get(h=h.head||h);I||Pe.set(h,I=new Set),I.has(S)||(h.host&&(D=h.querySelector(`[${G}="${S}"]`))?D.innerHTML=m:(D=ae.createElement("style"),D.innerHTML=m,h.insertBefore(D,h.querySelector("link"))),I&&I.add(S))}else h.adoptedStyleSheets.includes(m)||(h.adoptedStyleSheets=[...h.adoptedStyleSheets,m]);return S},Q=(h,p)=>"sc-"+(p&&32&h.$flags$?h.$tagName$+"-"+p:h.$tagName$),fe=h=>h.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),ne=h=>ga.push(h),j=h=>fr(h).$modeName$,_e={},qt=h=>"object"==(h=typeof h)||"function"===h,zt=(h,p,...y)=>{let _=null,S=null,m=null,I=!1,D=!1;const M=[],L=Be=>{for(let Ie=0;Ie<Be.length;Ie++)_=Be[Ie],Array.isArray(_)?L(_):null!=_&&"boolean"!=typeof _&&((I="function"!=typeof h&&!qt(_))&&(_=String(_)),I&&D?M[M.length-1].$text$+=_:M.push(I?Wt(null,_):_),D=I)};if(L(y),p){p.key&&(S=p.key),p.name&&(m=p.name);{const Be=p.className||p.class;Be&&(p.class="object"!=typeof Be?Be:Object.keys(Be).filter(Ie=>Be[Ie]).join(" "))}}if("function"==typeof h)return h(null===p?{}:p,M,Kn);const R=Wt(h,null);return R.$attrs$=p,M.length>0&&(R.$children$=M),R.$key$=S,R.$name$=m,R},Wt=(h,p)=>({$flags$:0,$tag$:h,$text$:p,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),ye={},Kn={forEach:(h,p)=>h.map(Pi).forEach(p),map:(h,p)=>h.map(Pi).map(p).map(yo)},Pi=h=>({vattrs:h.$attrs$,vchildren:h.$children$,vkey:h.$key$,vname:h.$name$,vtag:h.$tag$,vtext:h.$text$}),yo=h=>{if("function"==typeof h.vtag){const y=Object.assign({},h.vattrs);return h.vkey&&(y.key=h.vkey),h.vname&&(y.name=h.vname),zt(h.vtag,y,...h.vchildren||[])}const p=Wt(h.vtag,h.vtext);return p.$attrs$=h.vattrs,p.$children$=h.vchildren,p.$key$=h.vkey,p.$name$=h.vname,p},Sr=(h,p,y,_,S,m)=>{if(y!==_){let I=no(h,p),D=p.toLowerCase();if("class"===p){const M=h.classList,L=$(y),R=$(_);M.remove(...L.filter(Be=>Be&&!R.includes(Be))),M.add(...R.filter(Be=>Be&&!L.includes(Be)))}else if("style"===p){for(const M in y)(!_||null==_[M])&&(M.includes("-")?h.style.removeProperty(M):h.style[M]="");for(const M in _)(!y||_[M]!==y[M])&&(M.includes("-")?h.style.setProperty(M,_[M]):h.style[M]=_[M])}else if("key"!==p)if("ref"===p)_&&_(h);else if(I||"o"!==p[0]||"n"!==p[1]){const M=qt(_);if((I||M&&null!==_)&&!S)try{if(h.tagName.includes("-"))h[p]=_;else{const R=null==_?"":_;"list"===p?I=!1:(null==y||h[p]!=R)&&(h[p]=R)}}catch(R){}let L=!1;D!==(D=D.replace(/^xlink\:?/,""))&&(p=D,L=!0),null==_||!1===_?(!1!==_||""===h.getAttribute(p))&&(L?h.removeAttributeNS(k,p):h.removeAttribute(p)):(!I||4&m||S)&&!M&&(_=!0===_?"":_,L?h.setAttributeNS(k,p,_):h.setAttribute(p,_))}else p="-"===p[2]?p.slice(3):no(ue,D)?D.slice(2):D[2]+p.slice(3),y&&H.rel(h,p,y,!1),_&&H.ael(h,p,_,!1)}},ds=/\s/,$=h=>h?h.split(ds):[],hs=(h,p,y,_)=>{const S=11===p.$elm$.nodeType&&p.$elm$.host?p.$elm$.host:p.$elm$,m=h&&h.$attrs$||_e,I=p.$attrs$||_e;for(_ in m)_ in I||Sr(S,_,m[_],void 0,y,p.$flags$);for(_ in I)Sr(S,_,m[_],I[_],y,p.$flags$)},An=(h,p,y,_)=>{const S=p.$children$[y];let I,D,M,m=0;if(Oe||(ve=!0,"slot"===S.$tag$&&(Ue&&_.classList.add(Ue+"-s"),S.$flags$|=S.$children$?2:1)),null!==S.$text$)I=S.$elm$=ae.createTextNode(S.$text$);else if(1&S.$flags$)I=S.$elm$=ae.createTextNode("");else{if(we||(we="svg"===S.$tag$),I=S.$elm$=ae.createElementNS(we?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&S.$flags$?"slot-fb":S.$tag$),we&&"foreignObject"===S.$tag$&&(we=!1),hs(null,S,we),(h=>null!=h)(Ue)&&I["s-si"]!==Ue&&I.classList.add(I["s-si"]=Ue),S.$children$)for(m=0;m<S.$children$.length;++m)D=An(h,S,m,I),D&&I.appendChild(D);"svg"===S.$tag$?we=!1:"foreignObject"===I.tagName&&(we=!0)}return I["s-hn"]=ce,3&S.$flags$&&(I["s-sr"]=!0,I["s-cr"]=Y,I["s-sn"]=S.$name$||"",M=h&&h.$children$&&h.$children$[y],M&&M.$tag$===S.$tag$&&h.$elm$&&_o(h.$elm$,!1)),I},_o=(h,p)=>{H.$flags$|=1;const y=h.childNodes;for(let _=y.length-1;_>=0;_--){const S=y[_];S["s-hn"]!==ce&&S["s-ol"]&&(hr(S).insertBefore(S,ps(S)),S["s-ol"].remove(),S["s-ol"]=void 0,ve=!0),p&&_o(S,p)}H.$flags$&=-2},bo=(h,p,y,_,S,m)=>{let D,I=h["s-cr"]&&h["s-cr"].parentNode||h;for(I.shadowRoot&&I.tagName===ce&&(I=I.shadowRoot);S<=m;++S)_[S]&&(D=An(null,y,S,h),D&&(_[S].$elm$=D,I.insertBefore(D,ps(p))))},fs=(h,p,y,_,S)=>{for(;p<=y;++p)(_=h[p])&&(S=_.$elm$,Xa(_),U=!0,S["s-ol"]?S["s-ol"].remove():_o(S,!0),S.remove())},Vo=(h,p)=>h.$tag$===p.$tag$&&("slot"===h.$tag$?h.$name$===p.$name$:h.$key$===p.$key$),ps=h=>h&&h["s-ol"]||h,hr=h=>(h["s-ol"]?h["s-ol"]:h).parentNode,Fi=(h,p)=>{const y=p.$elm$=h.$elm$,_=h.$children$,S=p.$children$,m=p.$tag$,I=p.$text$;let D;null===I?(we="svg"===m||"foreignObject"!==m&&we,"slot"===m||hs(h,p,we),null!==_&&null!==S?((h,p,y,_)=>{let Vt,dn,S=0,m=0,I=0,D=0,M=p.length-1,L=p[0],R=p[M],Be=_.length-1,Ie=_[0],et=_[Be];for(;S<=M&&m<=Be;)if(null==L)L=p[++S];else if(null==R)R=p[--M];else if(null==Ie)Ie=_[++m];else if(null==et)et=_[--Be];else if(Vo(L,Ie))Fi(L,Ie),L=p[++S],Ie=_[++m];else if(Vo(R,et))Fi(R,et),R=p[--M],et=_[--Be];else if(Vo(L,et))("slot"===L.$tag$||"slot"===et.$tag$)&&_o(L.$elm$.parentNode,!1),Fi(L,et),h.insertBefore(L.$elm$,R.$elm$.nextSibling),L=p[++S],et=_[--Be];else if(Vo(R,Ie))("slot"===L.$tag$||"slot"===et.$tag$)&&_o(R.$elm$.parentNode,!1),Fi(R,Ie),h.insertBefore(R.$elm$,L.$elm$),R=p[--M],Ie=_[++m];else{for(I=-1,D=S;D<=M;++D)if(p[D]&&null!==p[D].$key$&&p[D].$key$===Ie.$key$){I=D;break}I>=0?(dn=p[I],dn.$tag$!==Ie.$tag$?Vt=An(p&&p[m],y,I,h):(Fi(dn,Ie),p[I]=void 0,Vt=dn.$elm$),Ie=_[++m]):(Vt=An(p&&p[m],y,m,h),Ie=_[++m]),Vt&&hr(L.$elm$).insertBefore(Vt,ps(L.$elm$))}S>M?bo(h,null==_[Be+1]?null:_[Be+1].$elm$,y,_,m,Be):m>Be&&fs(p,S,M)})(y,_,p,S):null!==S?(null!==h.$text$&&(y.textContent=""),bo(y,null,p,S,0,S.length-1)):null!==_&&fs(_,0,_.length-1),we&&"svg"===m&&(we=!1)):(D=y["s-cr"])?D.parentNode.textContent=I:h.$text$!==I&&(y.data=I)},gs=h=>{const p=h.childNodes;let y,_,S,m,I,D;for(_=0,S=p.length;_<S;_++)if(y=p[_],1===y.nodeType){if(y["s-sr"])for(I=y["s-sn"],y.hidden=!1,m=0;m<S;m++)if(D=p[m].nodeType,p[m]["s-hn"]!==y["s-hn"]||""!==I){if(1===D&&I===p[m].getAttribute("slot")){y.hidden=!0;break}}else if(1===D||3===D&&""!==p[m].textContent.trim()){y.hidden=!0;break}gs(y)}},tr=[],aa=h=>{let p,y,_,S,m,I,D=0;const M=h.childNodes,L=M.length;for(;D<L;D++){if(p=M[D],p["s-sr"]&&(y=p["s-cr"])&&y.parentNode)for(_=y.parentNode.childNodes,S=p["s-sn"],I=_.length-1;I>=0;I--)y=_[I],!y["s-cn"]&&!y["s-nr"]&&y["s-hn"]!==p["s-hn"]&&(Bo(y,S)?(m=tr.find(R=>R.$nodeToRelocate$===y),U=!0,y["s-sn"]=y["s-sn"]||S,m?m.$slotRefNode$=p:tr.push({$slotRefNode$:p,$nodeToRelocate$:y}),y["s-sr"]&&tr.map(R=>{Bo(R.$nodeToRelocate$,y["s-sn"])&&(m=tr.find(Be=>Be.$nodeToRelocate$===y),m&&!R.$slotRefNode$&&(R.$slotRefNode$=m.$slotRefNode$))})):tr.some(R=>R.$nodeToRelocate$===y)||tr.push({$nodeToRelocate$:y}));1===p.nodeType&&aa(p)}},Bo=(h,p)=>1===h.nodeType?null===h.getAttribute("slot")&&""===p||h.getAttribute("slot")===p:h["s-sn"]===p||""===p,Xa=h=>{h.$attrs$&&h.$attrs$.ref&&h.$attrs$.ref(null),h.$children$&&h.$children$.map(Xa)},ms=h=>fr(h).$hostElement$,Qa=(h,p,y)=>{const _=ms(h);return{emit:S=>Ja(_,p,{bubbles:!!(4&y),composed:!!(2&y),cancelable:!!(1&y),detail:S})}},Ja=(h,p,y)=>{const _=H.ce(p,y);return h.dispatchEvent(_),_},wr=(h,p)=>{p&&!h.$onRenderResolve$&&p["s-p"]&&p["s-p"].push(new Promise(y=>h.$onRenderResolve$=y))},Eo=(h,p)=>{if(h.$flags$|=16,!(4&h.$flags$))return wr(h,h.$ancestorComponent$),b(()=>ca(h,p));h.$flags$|=512},ca=(h,p)=>{const _=h.$lazyInstance$;let S;return p&&(h.$flags$|=256,h.$queuedListeners$&&(h.$queuedListeners$.map(([m,I])=>un(_,m,I)),h.$queuedListeners$=null),S=un(_,"componentWillLoad")),S=Vr(S,()=>un(_,"componentWillRender")),Vr(S,()=>vs(h,_,p))},vs=function(){var h=(0,te.Z)(function*(p,y,_){const S=p.$hostElement$,I=S["s-rc"];_&&(h=>{const p=h.$cmpMeta$,y=h.$hostElement$,_=p.$flags$,m=ee(y.shadowRoot?y.shadowRoot:y.getRootNode(),p,h.$modeName$);10&_&&(y["s-sc"]=m,y.classList.add(m+"-h"),2&_&&y.classList.add(m+"-s"))})(p);la(p,y),I&&(I.map(M=>M()),S["s-rc"]=void 0);{const M=S["s-p"],L=()=>Io(p);0===M.length?L():(Promise.all(M).then(L),p.$flags$|=4,M.length=0)}});return function(y,_,S){return h.apply(this,arguments)}}(),la=(h,p,y)=>{try{p=p.render&&p.render(),h.$flags$&=-17,h.$flags$|=2,((h,p)=>{const y=h.$hostElement$,_=h.$cmpMeta$,S=h.$vnode$||Wt(null,null),m=(h=>h&&h.$tag$===ye)(p)?p:zt(null,null,p);if(ce=y.tagName,_.$attrsToReflect$&&(m.$attrs$=m.$attrs$||{},_.$attrsToReflect$.map(([I,D])=>m.$attrs$[D]=y[I])),m.$tag$=null,m.$flags$|=4,h.$vnode$=m,m.$elm$=S.$elm$=y.shadowRoot||y,Ue=y["s-sc"],Y=y["s-cr"],Oe=0!=(1&_.$flags$),U=!1,Fi(S,m),H.$flags$|=1,ve){aa(m.$elm$);let I,D,M,L,R,Be,Ie=0;for(;Ie<tr.length;Ie++)I=tr[Ie],D=I.$nodeToRelocate$,D["s-ol"]||(M=ae.createTextNode(""),M["s-nr"]=D,D.parentNode.insertBefore(D["s-ol"]=M,D));for(Ie=0;Ie<tr.length;Ie++)if(I=tr[Ie],D=I.$nodeToRelocate$,I.$slotRefNode$){for(L=I.$slotRefNode$.parentNode,R=I.$slotRefNode$.nextSibling,M=D["s-ol"];M=M.previousSibling;)if(Be=M["s-nr"],Be&&Be["s-sn"]===D["s-sn"]&&L===Be.parentNode&&(Be=Be.nextSibling,!Be||!Be["s-nr"])){R=Be;break}(!R&&L!==D.parentNode||D.nextSibling!==R)&&D!==R&&(!D["s-hn"]&&D["s-ol"]&&(D["s-hn"]=D["s-ol"].parentNode.nodeName),L.insertBefore(D,R))}else 1===D.nodeType&&(D.hidden=!0)}U&&gs(m.$elm$),H.$flags$&=-2,tr.length=0})(h,p)}catch(_){pr(_,h.$hostElement$)}return null},Io=h=>{const y=h.$hostElement$,S=h.$lazyInstance$,m=h.$ancestorComponent$;un(S,"componentDidRender"),64&h.$flags$?un(S,"componentDidUpdate"):(h.$flags$|=64,vn(y),un(S,"componentDidLoad"),h.$onReadyResolve$(y),m||$i()),h.$onInstanceResolve$(y),h.$onRenderResolve$&&(h.$onRenderResolve$(),h.$onRenderResolve$=void 0),512&h.$flags$&&Uo(()=>Eo(h,!1)),h.$flags$&=-517},Li=h=>{{const p=fr(h),y=p.$hostElement$.isConnected;return y&&2==(18&p.$flags$)&&Eo(p,!1),y}},$i=h=>{vn(ae.documentElement),Uo(()=>Ja(ue,"appload",{detail:{namespace:"ionic"}}))},un=(h,p,y)=>{if(h&&h[p])try{return h[p](y)}catch(_){pr(_)}},Vr=(h,p)=>h&&h.then?h.then(p):p(),vn=h=>h.classList.add("hydrated"),ys=(h,p,y,_,S,m,I)=>{let D,M,L,R;if(1===m.nodeType){for(D=m.getAttribute(F),D&&(M=D.split("."),(M[0]===I||"0"===M[0])&&(L={$flags$:0,$hostId$:M[0],$nodeId$:M[1],$depth$:M[2],$index$:M[3],$tag$:m.tagName.toLowerCase(),$elm$:m,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},p.push(L),m.removeAttribute(F),h.$children$||(h.$children$=[]),h.$children$[L.$index$]=L,h=L,_&&"0"===L.$depth$&&(_[L.$index$]=L.$elm$))),R=m.childNodes.length-1;R>=0;R--)ys(h,p,y,_,S,m.childNodes[R],I);if(m.shadowRoot)for(R=m.shadowRoot.childNodes.length-1;R>=0;R--)ys(h,p,y,_,S,m.shadowRoot.childNodes[R],I)}else if(8===m.nodeType)M=m.nodeValue.split("."),(M[1]===I||"0"===M[1])&&(D=M[0],L={$flags$:0,$hostId$:M[1],$nodeId$:M[2],$depth$:M[3],$index$:M[4],$elm$:m,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===D?(L.$elm$=m.nextSibling,L.$elm$&&3===L.$elm$.nodeType&&(L.$text$=L.$elm$.textContent,p.push(L),m.remove(),h.$children$||(h.$children$=[]),h.$children$[L.$index$]=L,_&&"0"===L.$depth$&&(_[L.$index$]=L.$elm$))):L.$hostId$===I&&("s"===D?(L.$tag$="slot",m["s-sn"]=M[5]?L.$name$=M[5]:"",m["s-sr"]=!0,_&&(L.$elm$=ae.createElement(L.$tag$),L.$name$&&L.$elm$.setAttribute("name",L.$name$),m.parentNode.insertBefore(L.$elm$,m),m.remove(),"0"===L.$depth$&&(_[L.$index$]=L.$elm$)),y.push(L),h.$children$||(h.$children$=[]),h.$children$[L.$index$]=L):"r"===D&&(_?m.remove():(S["s-cr"]=m,m["s-cn"]=!0))));else if(h&&"style"===h.$tag$){const Be=Wt(null,m.textContent);Be.$elm$=m,Be.$index$="0",h.$children$=[Be]}},_s=(h,p)=>{if(1===h.nodeType){let y=0;for(;y<h.childNodes.length;y++)_s(h.childNodes[y],p);if(h.shadowRoot)for(y=0;y<h.shadowRoot.childNodes.length;y++)_s(h.shadowRoot.childNodes[y],p)}else if(8===h.nodeType){const y=h.nodeValue.split(".");"o"===y[0]&&(p.set(y[1]+"."+y[2],h),h.nodeValue="",h["s-en"]=y[3])}},ha=(h,p,y)=>{if(p.$members$){h.watchers&&(p.$watchers$=h.watchers);const _=Object.entries(p.$members$),S=h.prototype;if(_.map(([m,[I]])=>{31&I||2&y&&32&I?Object.defineProperty(S,m,{get(){return((h,p)=>fr(this).$instanceValues$.get(p))(0,m)},set(D){((h,p,y,_)=>{const S=fr(h),m=S.$hostElement$,I=S.$instanceValues$.get(p),D=S.$flags$,M=S.$lazyInstance$;y=((h,p)=>null==h||qt(h)?h:4&p?"false"!==h&&(""===h||!!h):2&p?parseFloat(h):1&p?String(h):h)(y,_.$members$[p][0]);const L=Number.isNaN(I)&&Number.isNaN(y);if((!(8&D)||void 0===I)&&y!==I&&!L&&(S.$instanceValues$.set(p,y),M)){if(_.$watchers$&&128&D){const Be=_.$watchers$[p];Be&&Be.map(Ie=>{try{M[Ie](y,I,p)}catch(et){pr(et,m)}})}2==(18&D)&&Eo(S,!1)}})(this,m,D,p)},configurable:!0,enumerable:!0}):1&y&&64&I&&Object.defineProperty(S,m,{value(...D){const M=fr(this);return M.$onInstancePromise$.then(()=>M.$lazyInstance$[m](...D))}})}),1&y){const m=new Map;S.attributeChangedCallback=function(I,D,M){H.jmp(()=>{const L=m.get(I);if(this.hasOwnProperty(L))M=this[L],delete this[L];else if(S.hasOwnProperty(L)&&"number"==typeof this[L]&&this[L]==M)return;this[L]=(null!==M||"boolean"!=typeof this[L])&&M})},h.observedAttributes=_.filter(([I,D])=>15&D[0]).map(([I,D])=>{const M=D[1]||I;return m.set(M,I),512&D[0]&&p.$attrsToReflect$.push([I,M]),M})}}return h},ni=function(){var h=(0,te.Z)(function*(p,y,_,S,m){if(!(32&y.$flags$)){{if(y.$flags$|=32,(m=nr(_)).then){const L=()=>{};m=yield m,L()}m.isProxied||(_.$watchers$=m.watchers,ha(m,_,2),m.isProxied=!0);const M=()=>{};y.$flags$|=8;try{new m(y)}catch(L){pr(L)}y.$flags$&=-9,y.$flags$|=128,M(),fa(y.$lazyInstance$)}if(m.style){let M=m.style;"string"!=typeof M&&(M=M[y.$modeName$=(h=>ga.map(p=>p(h)).find(p=>!!p))(p)]);const L=Q(_,y.$modeName$);if(!ri.has(L)){const R=()=>{};ot(L,M,!!(1&_.$flags$)),R()}}}const I=y.$ancestorComponent$,D=()=>Eo(y,!0);I&&I["s-rc"]?I["s-rc"].push(D):D()});return function(y,_,S,m,I){return h.apply(this,arguments)}}(),fa=h=>{un(h,"connectedCallback")},eo=h=>{const p=h["s-cr"]=ae.createComment("");p["s-cn"]=!0,h.insertBefore(p,h.firstChild)},gl=(h,p={})=>{const _=[],S=p.exclude||[],m=ue.customElements,I=ae.head,D=I.querySelector("meta[charset]"),M=ae.createElement("style"),L=[],R=ae.querySelectorAll(`[${G}]`);let Be,Ie=!0,et=0;for(Object.assign(H,p),H.$resourcesUrl$=new URL(p.resourcesUrl||"./",ae.baseURI).href,H.$flags$|=2;et<R.length;et++)ot(R[et].getAttribute(G),fe(R[et].innerHTML),!0);h.map(Vt=>{Vt[1].map(dn=>{const gr={$flags$:dn[0],$tagName$:dn[1],$members$:dn[2],$listeners$:dn[3]};gr.$members$=dn[2],gr.$listeners$=dn[3],gr.$attrsToReflect$=[],gr.$watchers$={};const Vi=gr.$tagName$,Cr=class extends HTMLElement{constructor(bs){super(bs),to(bs=this,gr),1&gr.$flags$&&bs.attachShadow({mode:"open",delegatesFocus:!!(16&gr.$flags$)})}connectedCallback(){Be&&(clearTimeout(Be),Be=null),Ie?L.push(this):H.jmp(()=>(h=>{if(!(1&H.$flags$)){const p=fr(h),y=p.$cmpMeta$,_=()=>{};if(1&p.$flags$)O(h,p,y.$listeners$),fa(p.$lazyInstance$);else{let S;if(p.$flags$|=1,S=h.getAttribute(q),S){if(1&y.$flags$){const m=ee(h.shadowRoot,y,h.getAttribute("s-mode"));h.classList.remove(m+"-h",m+"-s")}((h,p,y,_)=>{const m=h.shadowRoot,I=[],M=m?[]:null,L=_.$vnode$=Wt(p,null);H.$orgLocNodes$||_s(ae.body,H.$orgLocNodes$=new Map),h[q]=y,h.removeAttribute(q),ys(L,I,[],M,h,h,y),I.map(R=>{const Be=R.$hostId$+"."+R.$nodeId$,Ie=H.$orgLocNodes$.get(Be),et=R.$elm$;Ie&&""===Ie["s-en"]&&Ie.parentNode.insertBefore(et,Ie.nextSibling),m||(et["s-hn"]=p,Ie&&(et["s-ol"]=Ie,et["s-ol"]["s-nr"]=et)),H.$orgLocNodes$.delete(Be)}),m&&M.map(R=>{R&&m.appendChild(R)})})(h,y.$tagName$,S,p)}S||12&y.$flags$&&eo(h);{let m=h;for(;m=m.parentNode||m.host;)if(1===m.nodeType&&m.hasAttribute("s-id")&&m["s-p"]||m["s-p"]){wr(p,p.$ancestorComponent$=m);break}}y.$members$&&Object.entries(y.$members$).map(([m,[I]])=>{if(31&I&&h.hasOwnProperty(m)){const D=h[m];delete h[m],h[m]=D}}),Uo(()=>ni(h,p,y))}_()}})(this))}disconnectedCallback(){H.jmp(()=>(h=>{if(!(1&H.$flags$)){const p=fr(this),y=p.$lazyInstance$;p.$rmListeners$&&(p.$rmListeners$.map(_=>_()),p.$rmListeners$=void 0),un(y,"disconnectedCallback")}})())}componentOnReady(){return fr(this).$onReadyPromise$}};gr.$lazyBundleId$=Vt[0],!S.includes(Vi)&&!m.get(Vi)&&(_.push(Vi),m.define(Vi,ha(Cr,gr,1)))})}),M.innerHTML=_+"{visibility:hidden}.hydrated{visibility:inherit}",M.setAttribute("data-styles",""),I.insertBefore(M,D?D.nextSibling:I.firstChild),Ie=!1,L.length?L.map(Vt=>Vt.connectedCallback()):H.jmp(()=>Be=setTimeout($i,30))},nc=h=>{const p=new URL(h,H.$resourcesUrl$);return p.origin!==ue.location.origin?p.href:p.pathname},bi=new WeakMap,fr=h=>bi.get(h),pa=(h,p)=>bi.set(p.$lazyInstance$=h,p),to=(h,p)=>{const y={$flags$:0,$hostElement$:h,$cmpMeta$:p,$instanceValues$:new Map};return y.$onInstancePromise$=new Promise(_=>y.$onInstanceResolve$=_),y.$onReadyPromise$=new Promise(_=>y.$onReadyResolve$=_),h["s-p"]=[],h["s-rc"]=[],O(h,y,p.$listeners$),bi.set(h,y)},no=(h,p)=>p in h,pr=(h,p)=>(0,console.error)(h,p),Ur=new Map,nr=(h,p,y)=>{const _=h.$tagName$.replace(/-/g,"_"),S=h.$lazyBundleId$,m=Ur.get(S);return m?m[_]:me(863)(`./${S}.entry.js`).then(I=>(Ur.set(S,I),I[_]),pr)},ri=new Map,ga=[],ro=[],io=[],ma=(h,p)=>y=>{h.push(y),ze||(ze=!0,p&&4&H.$flags$?Uo(Kt):H.raf(Kt))},va=h=>{for(let p=0;p<h.length;p++)try{h[p](performance.now())}catch(y){pr(y)}h.length=0},Kt=()=>{va(ro),va(io),(ze=ro.length>0)&&H.raf(Kt)},Uo=h=>Te().then(h),rc=ma(ro,!1),b=ma(io,!0),A={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},5179:(kt,gt,me)=>{"use strict";me.d(gt,{a:()=>ue,b:()=>Pe,c:()=>Ue,g:()=>ze,i:()=>ot});var te=me(1308);class Re{constructor(){this.m=new Map}reset(B){this.m=new Map(Object.entries(B))}get(B,Q){const fe=this.m.get(B);return void 0!==fe?fe:Q}getBoolean(B,Q=!1){const fe=this.m.get(B);return void 0===fe?Q:"string"==typeof fe?"true"===fe:!!fe}getNumber(B,Q){const fe=parseFloat(this.m.get(B));return isNaN(fe)?void 0!==Q?Q:NaN:fe}set(B,Q){this.m.set(B,Q)}}const Ue=new Re,we="ionic-persist-config",ze=ee=>ae(ee),ue=(ee,B)=>("string"==typeof ee&&(B=ee,ee=void 0),ze(ee).includes(B)),ae=(ee=window)=>{if(typeof ee>"u")return[];ee.Ionic=ee.Ionic||{};let B=ee.Ionic.platforms;return null==B&&(B=ee.Ionic.platforms=H(ee),B.forEach(Q=>ee.document.documentElement.classList.add(`plt-${Q}`))),B},H=ee=>{const B=Ue.get("platform");return Object.keys(K).filter(Q=>{const fe=null==B?void 0:B[Q];return"function"==typeof fe?fe(ee):K[Q](ee)})},ke=ee=>!!(V(ee,/iPad/i)||V(ee,/Macintosh/i)&&pe(ee)),O=ee=>V(ee,/android|sink/i),pe=ee=>k(ee,"(any-pointer:coarse)"),P=ee=>se(ee)||q(ee),se=ee=>!!(ee.cordova||ee.phonegap||ee.PhoneGap),q=ee=>{const B=ee.Capacitor;return!(null==B||!B.isNative)},V=(ee,B)=>B.test(ee.navigator.userAgent),k=(ee,B)=>{var Q;return null===(Q=ee.matchMedia)||void 0===Q?void 0:Q.call(ee,B).matches},K={ipad:ke,iphone:ee=>V(ee,/iPhone/i),ios:ee=>V(ee,/iPhone|iPod/i)||ke(ee),android:O,phablet:ee=>{const B=ee.innerWidth,Q=ee.innerHeight,fe=Math.min(B,Q),ge=Math.max(B,Q);return fe>390&&fe<520&&ge>620&&ge<800},tablet:ee=>{const B=ee.innerWidth,Q=ee.innerHeight,fe=Math.min(B,Q),ge=Math.max(B,Q);return ke(ee)||(ee=>O(ee)&&!V(ee,/mobile/i))(ee)||fe>460&&fe<820&&ge>780&&ge<1400},cordova:se,capacitor:q,electron:ee=>V(ee,/electron/i),pwa:ee=>{var B;return!!(null!==(B=ee.matchMedia)&&void 0!==B&&B.call(ee,"(display-mode: standalone)").matches||ee.navigator.standalone)},mobile:pe,mobileweb:ee=>pe(ee)&&!P(ee),desktop:ee=>!pe(ee),hybrid:P};let De;const Pe=ee=>ee&&(0,te.g)(ee)||De,ot=(ee={})=>{if(typeof window>"u")return;const B=window.document,Q=window,fe=Q.Ionic=Q.Ionic||{},ge={};ee._ael&&(ge.ael=ee._ael),ee._rel&&(ge.rel=ee._rel),ee._ce&&(ge.ce=ee._ce),(0,te.s)(ge);const ne=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(ee=>{try{const B=ee.sessionStorage.getItem(we);return null!==B?JSON.parse(B):{}}catch(B){return{}}})(Q)),{persistConfig:!1}),fe.config),(ee=>{const B={};return ee.location.search.slice(1).split("&").map(Q=>Q.split("=")).map(([Q,fe])=>[decodeURIComponent(Q),decodeURIComponent(fe)]).filter(([Q])=>((ee,B)=>ee.substr(0,B.length)===B)(Q,"ionic:")).map(([Q,fe])=>[Q.slice("ionic:".length),fe]).forEach(([Q,fe])=>{B[Q]=fe}),B})(Q)),ee);Ue.reset(ne),Ue.getBoolean("persistConfig")&&((ee,B)=>{try{ee.sessionStorage.setItem(we,JSON.stringify(B))}catch(Q){return}})(Q,ne),ae(Q),fe.config=Ue,fe.mode=De=Ue.get("mode",B.documentElement.getAttribute("mode")||(ue(Q,"ios")?"ios":"md")),Ue.set("mode",De),B.documentElement.setAttribute("mode",De),B.documentElement.classList.add(De),Ue.getBoolean("_testing")&&Ue.set("animated",!1);const j=tt=>{var be;return null===(be=tt.tagName)||void 0===be?void 0:be.startsWith("ION-")},_e=tt=>["ios","md"].includes(tt);(0,te.a)(tt=>{for(;tt;){const be=tt.mode||tt.getAttribute("mode");if(be){if(_e(be))return be;j(tt)&&console.warn('Invalid ionic mode: "'+be+'", expected: "ios" or "md"')}tt=tt.parentElement}return De})}},6439:(kt,gt,me)=>{"use strict";me.r(gt),me.d(gt,{iosTransitionAnimation:()=>H,shadow:()=>U});var te=me(181),Re=me(1843);me(3457),me(1308);const Oe=de=>document.querySelector(`${de}.ion-cloned-element`),U=de=>de.shadowRoot||de,ve=de=>{const ke="ION-TABS"===de.tagName?de:de.querySelector("ion-tabs"),Te="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=ke){const ie=ke.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=ie?ie.querySelector(Te):null}return de.querySelector(Te)},we=(de,ke)=>{const Te="ION-TABS"===de.tagName?de:de.querySelector("ion-tabs");let ie=[];if(null!=Te){const O=Te.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=O&&(ie=O.querySelectorAll("ion-buttons"))}else ie=de.querySelectorAll("ion-buttons");for(const O of ie){const Ce=O.closest("ion-header"),je=Ce&&!Ce.classList.contains("header-collapse-condense-inactive"),J=O.querySelector("ion-back-button"),pe=O.classList.contains("buttons-collapse");if(null!==J&&("start"===O.slot||""===O.slot)&&(pe&&je&&ke||!pe))return J}return null},ue=(de,ke,Te,ie,O,Ce)=>{const je=ke?`calc(100% - ${Ce.right+4}px)`:Ce.left-4+"px",J=ke?"7px":"-7px",pe=ke?"-4px":"4px",he=ke?"-4px":"4px",P=ke?"right":"left",se=ke?"left":"right",F=Te?[{offset:0,opacity:1,transform:`translate3d(${pe}, ${Ce.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${J}, ${O.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${J}, ${O.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${pe}, ${Ce.top-46}px, 0) scale(1)`}],K=Te?[{offset:0,opacity:1,transform:`translate3d(${he}, ${Ce.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${he}, ${Ce.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${he}, ${Ce.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${he}, ${Ce.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${he}, ${Ce.top-46}px, 0) scale(1)`}],De=(0,te.c)(),Pe=(0,te.c)(),ot=Oe("ion-back-button"),ee=U(ot).querySelector(".button-text"),B=U(ot).querySelector("ion-icon");ot.text=ie.text,ot.mode=ie.mode,ot.icon=ie.icon,ot.color=ie.color,ot.disabled=ie.disabled,ot.style.setProperty("display","block"),ot.style.setProperty("position","fixed"),Pe.addElement(B),De.addElement(ee),De.beforeStyles({"transform-origin":`${P} center`}).beforeAddWrite(()=>{ie.style.setProperty("display","none"),ot.style.setProperty(P,je)}).afterAddWrite(()=>{ie.style.setProperty("display",""),ot.style.setProperty("display","none"),ot.style.removeProperty(P)}).keyframes(F),Pe.beforeStyles({"transform-origin":`${se} center`}).keyframes(K),de.addAnimation([De,Pe])},ae=(de,ke,Te,ie,O,Ce)=>{const je=ke?`calc(100% - ${O.right}px)`:`${O.left}px`,J=ke?"-18px":"18px",pe=ke?"right":"left",se=Te?[{offset:0,opacity:0,transform:`translate3d(${J}, ${Ce.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${O.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${O.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${J}, ${Ce.top-4}px, 0) scale(0.5)`}],q=Oe("ion-title"),G=(0,te.c)();q.innerText=ie.innerText,q.size=ie.size,q.color=ie.color,G.addElement(q),G.beforeStyles({"transform-origin":`${pe} center`,height:"46px",display:"",position:"relative",[pe]:je}).beforeAddWrite(()=>{ie.style.setProperty("display","none")}).afterAddWrite(()=>{ie.style.setProperty("display",""),q.style.setProperty("display","none")}).keyframes(se),de.addAnimation(G)},H=(de,ke)=>{var Te;try{const ie="cubic-bezier(0.32,0.72,0,1)",O="opacity",Ce="transform",je="0%",pe="rtl"===de.ownerDocument.dir,he=pe?"-99.5%":"99.5%",P=pe?"33%":"-33%",se=ke.enteringEl,q=ke.leavingEl,G="back"===ke.direction,F=se.querySelector(":scope > ion-content"),V=se.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),k=se.querySelectorAll(":scope > ion-header > ion-toolbar"),K=(0,te.c)(),De=(0,te.c)();if(K.addElement(se).duration((null!==(Te=ke.duration)&&void 0!==Te?Te:0)||540).easing(ke.easing||ie).fill("both").beforeRemoveClass("ion-page-invisible"),q&&null!=de){const B=(0,te.c)();B.addElement(de),K.addAnimation(B)}if(F||0!==k.length||0!==V.length?(De.addElement(F),De.addElement(V)):De.addElement(se.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),K.addAnimation(De),G?De.beforeClearStyles([O]).fromTo("transform",`translateX(${P})`,`translateX(${je})`).fromTo(O,.8,1):De.beforeClearStyles([O]).fromTo("transform",`translateX(${he})`,`translateX(${je})`),F){const B=U(F).querySelector(".transition-effect");if(B){const Q=B.querySelector(".transition-cover"),fe=B.querySelector(".transition-shadow"),ge=(0,te.c)(),ne=(0,te.c)(),j=(0,te.c)();ge.addElement(B).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),ne.addElement(Q).beforeClearStyles([O]).fromTo(O,0,.1),j.addElement(fe).beforeClearStyles([O]).fromTo(O,.03,.7),ge.addAnimation([ne,j]),De.addAnimation([ge])}}const Pe=se.querySelector("ion-header.header-collapse-condense"),{forward:ot,backward:ee}=((de,ke,Te,ie,O)=>{const Ce=we(ie,Te),je=ve(O),J=ve(ie),pe=we(O,Te),he=null!==Ce&&null!==je&&!Te,P=null!==J&&null!==pe&&Te;if(he){const se=je.getBoundingClientRect(),q=Ce.getBoundingClientRect();ae(de,ke,Te,je,se,q),ue(de,ke,Te,Ce,se,q)}else if(P){const se=J.getBoundingClientRect(),q=pe.getBoundingClientRect();ae(de,ke,Te,J,se,q),ue(de,ke,Te,pe,se,q)}return{forward:he,backward:P}})(K,pe,G,se,q);if(k.forEach(B=>{const Q=(0,te.c)();Q.addElement(B),K.addAnimation(Q);const fe=(0,te.c)();fe.addElement(B.querySelector("ion-title"));const ge=(0,te.c)(),ne=Array.from(B.querySelectorAll("ion-buttons,[menuToggle]")),j=B.closest("ion-header"),_e=null==j?void 0:j.classList.contains("header-collapse-condense-inactive");let tt;tt=ne.filter(G?Wt=>{const ye=Wt.classList.contains("buttons-collapse");return ye&&!_e||!ye}:Wt=>!Wt.classList.contains("buttons-collapse")),ge.addElement(tt);const be=(0,te.c)();be.addElement(B.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const vt=(0,te.c)();vt.addElement(U(B).querySelector(".toolbar-background"));const qt=(0,te.c)(),zt=B.querySelector("ion-back-button");if(zt&&qt.addElement(zt),Q.addAnimation([fe,ge,be,vt,qt]),ge.fromTo(O,.01,1),be.fromTo(O,.01,1),G)_e||fe.fromTo("transform",`translateX(${P})`,`translateX(${je})`).fromTo(O,.01,1),be.fromTo("transform",`translateX(${P})`,`translateX(${je})`),qt.fromTo(O,.01,1);else if(Pe||fe.fromTo("transform",`translateX(${he})`,`translateX(${je})`).fromTo(O,.01,1),be.fromTo("transform",`translateX(${he})`,`translateX(${je})`),vt.beforeClearStyles([O,"transform"]),(null==j?void 0:j.translucent)?vt.fromTo("transform",pe?"translateX(-100%)":"translateX(100%)","translateX(0px)"):vt.fromTo(O,.01,"var(--opacity)"),ot||qt.fromTo(O,.01,1),zt&&!ot){const ye=(0,te.c)();ye.addElement(U(zt).querySelector(".button-text")).fromTo("transform",pe?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Q.addAnimation(ye)}}),q){const B=(0,te.c)(),Q=q.querySelector(":scope > ion-content"),fe=q.querySelectorAll(":scope > ion-header > ion-toolbar"),ge=q.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Q||0!==fe.length||0!==ge.length?(B.addElement(Q),B.addElement(ge)):B.addElement(q.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),K.addAnimation(B),G){B.beforeClearStyles([O]).fromTo("transform",`translateX(${je})`,pe?"translateX(-100%)":"translateX(100%)");const ne=(0,Re.g)(q);K.afterAddWrite(()=>{"normal"===K.getDirection()&&ne.style.setProperty("display","none")})}else B.fromTo("transform",`translateX(${je})`,`translateX(${P})`).fromTo(O,1,.8);if(Q){const ne=U(Q).querySelector(".transition-effect");if(ne){const j=ne.querySelector(".transition-cover"),_e=ne.querySelector(".transition-shadow"),tt=(0,te.c)(),be=(0,te.c)(),vt=(0,te.c)();tt.addElement(ne).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),be.addElement(j).beforeClearStyles([O]).fromTo(O,.1,0),vt.addElement(_e).beforeClearStyles([O]).fromTo(O,.7,.03),tt.addAnimation([be,vt]),B.addAnimation([tt])}}fe.forEach(ne=>{const j=(0,te.c)();j.addElement(ne);const _e=(0,te.c)();_e.addElement(ne.querySelector("ion-title"));const tt=(0,te.c)(),be=ne.querySelectorAll("ion-buttons,[menuToggle]"),vt=ne.closest("ion-header"),qt=null==vt?void 0:vt.classList.contains("header-collapse-condense-inactive"),zt=Array.from(be).filter(yo=>{const Sr=yo.classList.contains("buttons-collapse");return Sr&&!qt||!Sr});tt.addElement(zt);const Wt=(0,te.c)(),ye=ne.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");ye.length>0&&Wt.addElement(ye);const an=(0,te.c)();an.addElement(U(ne).querySelector(".toolbar-background"));const Kn=(0,te.c)(),Pi=ne.querySelector("ion-back-button");if(Pi&&Kn.addElement(Pi),j.addAnimation([_e,tt,Wt,Kn,an]),K.addAnimation(j),Kn.fromTo(O,.99,0),tt.fromTo(O,.99,0),Wt.fromTo(O,.99,0),G){if(qt||_e.fromTo("transform",`translateX(${je})`,pe?"translateX(-100%)":"translateX(100%)").fromTo(O,.99,0),Wt.fromTo("transform",`translateX(${je})`,pe?"translateX(-100%)":"translateX(100%)"),an.beforeClearStyles([O,"transform"]),(null==vt?void 0:vt.translucent)?an.fromTo("transform","translateX(0px)",pe?"translateX(-100%)":"translateX(100%)"):an.fromTo(O,"var(--opacity)",0),Pi&&!ee){const Sr=(0,te.c)();Sr.addElement(U(Pi).querySelector(".button-text")).fromTo("transform",`translateX(${je})`,`translateX(${(pe?-124:124)+"px"})`),j.addAnimation(Sr)}}else qt||_e.fromTo("transform",`translateX(${je})`,`translateX(${P})`).fromTo(O,.99,0).afterClearStyles([Ce,O]),Wt.fromTo("transform",`translateX(${je})`,`translateX(${P})`).afterClearStyles([Ce,O]),Kn.afterClearStyles([O]),_e.afterClearStyles([O]),tt.afterClearStyles([O])})}return K}catch(ie){throw ie}}},7838:(kt,gt,me)=>{"use strict";me.r(gt),me.d(gt,{mdTransitionAnimation:()=>ce});var te=me(181),Re=me(1843);me(3457),me(1308);const ce=(Oe,U)=>{var ve,we,ze;const H="back"===U.direction,ke=U.leavingEl,Te=(0,Re.g)(U.enteringEl),ie=Te.querySelector("ion-toolbar"),O=(0,te.c)();if(O.addElement(Te).fill("both").beforeRemoveClass("ion-page-invisible"),H?O.duration((null!==(ve=U.duration)&&void 0!==ve?ve:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):O.duration((null!==(we=U.duration)&&void 0!==we?we:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),ie){const Ce=(0,te.c)();Ce.addElement(ie),O.addAnimation(Ce)}if(ke&&H){O.duration((null!==(ze=U.duration)&&void 0!==ze?ze:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const Ce=(0,te.c)();Ce.addElement((0,Re.g)(ke)).onFinish(je=>{1===je&&Ce.elements.length>0&&Ce.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),O.addAnimation(Ce)}return O}},3539:(kt,gt,me)=>{"use strict";me.d(gt,{B:()=>Q,G:()=>fe,a:()=>ve,b:()=>we,c:()=>H,d:()=>G,e:()=>ke,f:()=>V,g:()=>De,h:()=>Oe,i:()=>ot,j:()=>O,k:()=>se,l:()=>ze,m:()=>ue,s:()=>B,t:()=>de});var te=me(5861),Re=me(5179),Ue=me(7593),Y=me(5730);let ce=0;const Oe=new WeakMap,U=ge=>({create:ne=>Te(ge,ne),dismiss:(ne,j,_e)=>he(document,ne,j,ge,_e),getTop:()=>(0,te.Z)(function*(){return se(document,ge)})()}),ve=U("ion-alert"),we=U("ion-action-sheet"),ze=U("ion-loading"),ue=U("ion-modal"),H=U("ion-popover"),de=U("ion-toast"),ke=ge=>{typeof document<"u"&&pe(document);const ne=ce++;ge.overlayIndex=ne,ge.hasAttribute("id")||(ge.id=`ion-overlay-${ne}`)},Te=(ge,ne)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(ge).then(()=>{const j=document.createElement(ge);return j.classList.add("overlay-hidden"),Object.assign(j,Object.assign(Object.assign({},ne),{hasController:!0})),k(document).appendChild(j),new Promise(_e=>(0,Y.c)(j,_e))}):Promise.resolve(),ie='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',O=(ge,ne)=>{let j=ge.querySelector(ie);const _e=null==j?void 0:j.shadowRoot;_e&&(j=_e.querySelector(ie)||j),j?(0,Y.f)(j):ne.focus()},je=(ge,ne)=>{const j=Array.from(ge.querySelectorAll(ie));let _e=j.length>0?j[j.length-1]:null;const tt=null==_e?void 0:_e.shadowRoot;tt&&(_e=tt.querySelector(ie)||_e),_e?_e.focus():ne.focus()},pe=ge=>{0===ce&&(ce=1,ge.addEventListener("focus",ne=>{((ge,ne)=>{const j=se(ne,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),_e=ge.target;j&&_e&&!j.classList.contains("ion-disable-focus-trap")&&(j.shadowRoot?(()=>{if(j.contains(_e))j.lastFocus=_e;else{const vt=j.lastFocus;O(j,j),vt===ne.activeElement&&je(j,j),j.lastFocus=ne.activeElement}})():(()=>{if(j===_e)j.lastFocus=void 0;else{const vt=(0,Y.g)(j);if(!vt.contains(_e))return;const qt=vt.querySelector(".ion-overlay-wrapper");if(!qt)return;if(qt.contains(_e))j.lastFocus=_e;else{const zt=j.lastFocus;O(qt,j),zt===ne.activeElement&&je(qt,j),j.lastFocus=ne.activeElement}}})())})(ne,ge)},!0),ge.addEventListener("ionBackButton",ne=>{const j=se(ge);null!=j&&j.backdropDismiss&&ne.detail.register(Ue.OVERLAY_BACK_BUTTON_PRIORITY,()=>j.dismiss(void 0,Q))}),ge.addEventListener("keyup",ne=>{if("Escape"===ne.key){const j=se(ge);null!=j&&j.backdropDismiss&&j.dismiss(void 0,Q)}}))},he=(ge,ne,j,_e,tt)=>{const be=se(ge,_e,tt);return be?be.dismiss(ne,j):Promise.reject("overlay does not exist")},se=(ge,ne,j)=>{const _e=((ge,ne)=>(void 0===ne&&(ne="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(ge.querySelectorAll(ne)).filter(j=>j.overlayIndex>0)))(ge,ne).filter(tt=>!(ge=>ge.classList.contains("overlay-hidden"))(tt));return void 0===j?_e[_e.length-1]:_e.find(tt=>tt.id===j)},q=(ge=!1)=>{const j=k(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");j&&(ge?j.setAttribute("aria-hidden","true"):j.removeAttribute("aria-hidden"))},G=function(){var ge=(0,te.Z)(function*(ne,j,_e,tt,be){var vt,qt;if(ne.presented)return;q(!0),ne.presented=!0,ne.willPresent.emit(),null===(vt=ne.willPresentShorthand)||void 0===vt||vt.emit();const zt=(0,Re.b)(ne),Wt=ne.enterAnimation?ne.enterAnimation:Re.c.get(j,"ios"===zt?_e:tt);(yield K(ne,Wt,ne.el,be))&&(ne.didPresent.emit(),null===(qt=ne.didPresentShorthand)||void 0===qt||qt.emit()),"ION-TOAST"!==ne.el.tagName&&F(ne.el),ne.keyboardClose&&(null===document.activeElement||!ne.el.contains(document.activeElement))&&ne.el.focus()});return function(j,_e,tt,be,vt){return ge.apply(this,arguments)}}(),F=function(){var ge=(0,te.Z)(function*(ne){let j=document.activeElement;if(!j)return;const _e=null==j?void 0:j.shadowRoot;_e&&(j=_e.querySelector(ie)||j),yield ne.onDidDismiss(),j.focus()});return function(j){return ge.apply(this,arguments)}}(),V=function(){var ge=(0,te.Z)(function*(ne,j,_e,tt,be,vt,qt){var zt,Wt;if(!ne.presented)return!1;q(!1),ne.presented=!1;try{ne.el.style.setProperty("pointer-events","none"),ne.willDismiss.emit({data:j,role:_e}),null===(zt=ne.willDismissShorthand)||void 0===zt||zt.emit({data:j,role:_e});const ye=(0,Re.b)(ne),an=ne.leaveAnimation?ne.leaveAnimation:Re.c.get(tt,"ios"===ye?be:vt);_e!==fe&&(yield K(ne,an,ne.el,qt)),ne.didDismiss.emit({data:j,role:_e}),null===(Wt=ne.didDismissShorthand)||void 0===Wt||Wt.emit({data:j,role:_e}),Oe.delete(ne),ne.el.classList.add("overlay-hidden"),ne.el.style.removeProperty("pointer-events"),void 0!==ne.el.lastFocus&&(ne.el.lastFocus=void 0)}catch(ye){console.error(ye)}return ne.el.remove(),!0});return function(j,_e,tt,be,vt,qt,zt){return ge.apply(this,arguments)}}(),k=ge=>ge.querySelector("ion-app")||ge.body,K=function(){var ge=(0,te.Z)(function*(ne,j,_e,tt){_e.classList.remove("overlay-hidden");const vt=j(ne.el,tt);(!ne.animated||!Re.c.getBoolean("animated",!0))&&vt.duration(0),ne.keyboardClose&&vt.beforeAddWrite(()=>{const zt=_e.ownerDocument.activeElement;null!=zt&&zt.matches("input,ion-input, ion-textarea")&&zt.blur()});const qt=Oe.get(ne)||[];return Oe.set(ne,[...qt,vt]),yield vt.play(),!0});return function(j,_e,tt,be){return ge.apply(this,arguments)}}(),De=(ge,ne)=>{let j;const _e=new Promise(tt=>j=tt);return Pe(ge,ne,tt=>{j(tt.detail)}),_e},Pe=(ge,ne,j)=>{const _e=tt=>{(0,Y.b)(ge,ne,_e),j(tt)};(0,Y.a)(ge,ne,_e)},ot=ge=>"cancel"===ge||ge===Q,ee=ge=>ge(),B=(ge,ne)=>{if("function"==typeof ge)return Re.c.get("_zoneGate",ee)(()=>{try{return ge(ne)}catch(_e){throw _e}})},Q="backdrop",fe="gesture"},7088:(kt,gt,me)=>{"use strict";function te(n){return"function"==typeof n}function Re(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Ue=Re(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Y(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class ce{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(te(r))try{r()}catch(o){e=o instanceof Ue?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{ve(o)}catch(s){e=null!=e?e:[],s instanceof Ue?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Ue(e)}}add(e){var t;if(e&&e!==this)if(this.closed)ve(e);else{if(e instanceof ce){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Y(t,e)}remove(e){const{_finalizers:t}=this;t&&Y(t,e),e instanceof ce&&e._removeParent(this)}}ce.EMPTY=(()=>{const n=new ce;return n.closed=!0,n})();const Oe=ce.EMPTY;function U(n){return n instanceof ce||n&&"closed"in n&&te(n.remove)&&te(n.add)&&te(n.unsubscribe)}function ve(n){te(n)?n():n.unsubscribe()}const we={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ze={setTimeout(n,e,...t){const{delegate:r}=ze;return null!=r&&r.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=ze;return((null==e?void 0:e.clearTimeout)||clearTimeout)(n)},delegate:void 0};function ue(n){ze.setTimeout(()=>{const{onUnhandledError:e}=we;if(!e)throw n;e(n)})}function ae(){}const H=Te("C",void 0,void 0);function Te(n,e,t){return{kind:n,value:e,error:t}}let ie=null;function O(n){if(we.useDeprecatedSynchronousErrorHandling){const e=!ie;if(e&&(ie={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=ie;if(ie=null,t)throw r}}else n()}class je extends ce{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,U(e)&&e.add(this)):this.destination=F}static create(e,t,r){return new P(e,t,r)}next(e){this.isStopped?G(function ke(n){return Te("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?G(function de(n){return Te("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?G(H,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const J=Function.prototype.bind;function pe(n,e){return J.call(n,e)}class he{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){se(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){se(r)}else se(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){se(t)}}}class P extends je{constructor(e,t,r){let i;if(super(),te(e)||!e)i={next:null!=e?e:void 0,error:null!=t?t:void 0,complete:null!=r?r:void 0};else{let o;this&&we.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&pe(e.next,o),error:e.error&&pe(e.error,o),complete:e.complete&&pe(e.complete,o)}):i=e}this.destination=new he(i)}}function se(n){we.useDeprecatedSynchronousErrorHandling?function Ce(n){we.useDeprecatedSynchronousErrorHandling&&ie&&(ie.errorThrown=!0,ie.error=n)}(n):ue(n)}function G(n,e){const{onStoppedNotification:t}=we;t&&ze.setTimeout(()=>t(n,e))}const F={closed:!0,next:ae,error:function q(n){throw n},complete:ae},V="function"==typeof Symbol&&Symbol.observable||"@@observable";function k(n){return n}function De(n){return 0===n.length?k:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let Pe=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function B(n){return n&&n instanceof je||function ee(n){return n&&te(n.next)&&te(n.error)&&te(n.complete)}(n)&&U(n)}(t)?t:new P(t,r,i);return O(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=ot(r))((i,o)=>{const s=new P({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[V](){return this}pipe(...t){return De(t)(this)}toPromise(t){return new(t=ot(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function ot(n){var e;return null!==(e=null!=n?n:we.Promise)&&void 0!==e?e:Promise}const Q=Re(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let fe=(()=>{class n extends Pe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new ge(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Q}next(t){O(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){O(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){O(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?Oe:(this.currentObservers=null,o.push(t),new ce(()=>{this.currentObservers=null,Y(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new Pe;return t.source=this,t}}return n.create=(e,t)=>new ge(e,t),n})();class ge extends fe{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:Oe}}function ne(n){return te(null==n?void 0:n.lift)}function j(n){return e=>{if(ne(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function _e(n,e,t,r,i){return new tt(n,e,t,r,i)}class tt extends je{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function be(n,e){return j((t,r)=>{let i=0;t.subscribe(_e(r,o=>{r.next(n.call(e,o,i++))}))})}function Wt(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function ye(n,e,t,r){var s,i=arguments.length,o=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o}function $(n,e,t,r){return new(t||(t=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}function hr(n){return this instanceof hr?(this.v=n,this):new hr(n)}function tr(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function bo(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){!function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}(a,c,(s=n[o](s)).done,s.value)})}}}const wr=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Eo(n){return te(null==n?void 0:n.then)}function ca(n){return te(n[V])}function vs(n){return Symbol.asyncIterator&&te(null==n?void 0:n[Symbol.asyncIterator])}function la(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Li=function Io(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function $i(n){return te(null==n?void 0:n[Li])}function un(n){return function Fi(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(f){r[f]&&(i[f]=function(v){return new Promise(function(E,x){o.push([f,v,E,x])>1||a(f,v)})})}function a(f,v){try{!function c(f){f.value instanceof hr?Promise.resolve(f.value.v).then(l,u):d(o[0][2],f)}(r[f](v))}catch(E){d(o[0][3],E)}}function l(f){a("next",f)}function u(f){a("throw",f)}function d(f,v){f(v),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield hr(t.read());if(i)return yield hr(void 0);yield yield hr(r)}}finally{t.releaseLock()}})}function Vr(n){return te(null==n?void 0:n.getReader)}function vn(n){if(n instanceof Pe)return n;if(null!=n){if(ca(n))return function ec(n){return new Pe(e=>{const t=n[V]();if(te(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(wr(n))return function ys(n){return new Pe(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Eo(n))return function _s(n){return new Pe(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ue)})}(n);if(vs(n))return da(n);if($i(n))return function ua(n){return new Pe(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(Vr(n))return function tc(n){return da(un(n))}(n)}throw la(n)}function da(n){return new Pe(e=>{(function ha(n,e){var t,r,i,o;return $(this,void 0,void 0,function*(){try{for(t=tr(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function ni(n,e,t,r=0,i=!1){const o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function yn(n,e,t=1/0){return te(e)?yn((r,i)=>be((o,s)=>e(r,o,i,s))(vn(n(r,i))),t):("number"==typeof e&&(t=e),j((r,i)=>function fa(n,e,t,r,i,o,s,a){const c=[];let l=0,u=0,d=!1;const f=()=>{d&&!c.length&&!l&&e.complete()},v=x=>l<r?E(x):c.push(x),E=x=>{o&&e.next(x),l++;let N=!1;vn(t(x,u++)).subscribe(_e(e,X=>{null==i||i(X),o?v(X):e.next(X)},()=>{N=!0},void 0,()=>{if(N)try{for(l--;c.length&&l<r;){const X=c.shift();s?ni(e,s,()=>E(X)):E(X)}f()}catch(X){e.error(X)}}))};return n.subscribe(_e(e,v,()=>{d=!0,f()})),()=>{null==a||a()}}(r,i,n,t)))}function eo(n=1/0){return yn(k,n)}const Br=new Pe(n=>n.complete());function fr(n){return n[n.length-1]}function pa(n){return te(fr(n))?n.pop():void 0}function to(n){return function bi(n){return n&&te(n.schedule)}(fr(n))?n.pop():void 0}function pr(n,e=0){return j((t,r)=>{t.subscribe(_e(r,i=>ni(r,n,()=>r.next(i),e),()=>ni(r,n,()=>r.complete(),e),i=>ni(r,n,()=>r.error(i),e)))})}function Ur(n,e=0){return j((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function io(n,e){if(!n)throw new Error("Iterable cannot be null");return new Pe(t=>{ni(t,e,()=>{const r=n[Symbol.asyncIterator]();ni(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Kt(n,e){return e?function va(n,e){if(null!=n){if(ca(n))return function nr(n,e){return vn(n).pipe(Ur(e),pr(e))}(n,e);if(wr(n))return function ga(n,e){return new Pe(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(Eo(n))return function ri(n,e){return vn(n).pipe(Ur(e),pr(e))}(n,e);if(vs(n))return io(n,e);if($i(n))return function ro(n,e){return new Pe(t=>{let r;return ni(t,e,()=>{r=n[Li](),ni(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>te(null==r?void 0:r.return)&&r.return()})}(n,e);if(Vr(n))return function ma(n,e){return io(un(n),e)}(n,e)}throw la(n)}(n,e):vn(n)}function b(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new P({next:()=>{r.unsubscribe(),n()}});return e(...t).subscribe(r)}function A(n){for(let e in n)if(n[e]===A)return e;throw Error("Could not find renamed property on target object.")}function h(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function p(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(p).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function y(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const _=A({__forward_ref__:A});function S(n){return n.__forward_ref__=S,n.toString=function(){return p(this())},n}function m(n){return I(n)?n():n}function I(n){return"function"==typeof n&&n.hasOwnProperty(_)&&n.__forward_ref__===S}function D(n){return n&&!!n.\u0275providers}const L="https://g.co/ng/security#xss";class R extends Error{constructor(e,t){super(Be(e,t)),this.code=e}}function Be(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}function Ie(n){return"string"==typeof n?n:null==n?"":String(n)}function Vi(n,e){throw new R(-201,!1)}function oo(n,e){null==n&&function Xt(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function Je(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Dr(n){return{providers:n.providers||[],imports:n.imports||[]}}function bp(n){return h1(n,Ep)||h1(n,p1)}function h1(n,e){return n.hasOwnProperty(e)?n[e]:null}function f1(n){return n&&(n.hasOwnProperty(Oy)||n.hasOwnProperty(CH))?n[Oy]:null}const Ep=A({\u0275prov:A}),Oy=A({\u0275inj:A}),p1=A({ngInjectableDef:A}),CH=A({ngInjectorDef:A});var _t=(()=>((_t=_t||{})[_t.Default=0]="Default",_t[_t.Host=1]="Host",_t[_t.Self=2]="Self",_t[_t.SkipSelf=4]="SkipSelf",_t[_t.Optional=8]="Optional",_t))();let Py;function so(n){const e=Py;return Py=n,e}function g1(n,e,t){const r=bp(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&_t.Optional?null:void 0!==e?e:void Vi(p(n))}const hn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),vd={},Fy="__NG_DI_FLAG__",Ip="ngTempTokenPath",TH="ngTokenPath",AH=/\n/gm,xH="\u0275",m1="__source";let yd;function ml(n){const e=yd;return yd=n,e}function MH(n,e=_t.Default){if(void 0===yd)throw new R(-203,!1);return null===yd?g1(n,void 0,e):yd.get(n,e&_t.Optional?null:void 0,e)}function Fe(n,e=_t.Default){return(function DH(){return Py}()||MH)(m(n),e)}function Lt(n,e=_t.Default){return Fe(n,Sp(e))}function Sp(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Ly(n){const e=[];for(let t=0;t<n.length;t++){const r=m(n[t]);if(Array.isArray(r)){if(0===r.length)throw new R(900,!1);let i,o=_t.Default;for(let s=0;s<r.length;s++){const a=r[s],c=RH(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}e.push(Fe(i,o))}else e.push(Fe(r))}return e}function _d(n,e){return n[Fy]=e,n.prototype[Fy]=e,n}function RH(n){return n[Fy]}function ya(n){return{toString:n}.toString()}var So=(()=>((So=So||{})[So.OnPush=0]="OnPush",So[So.Default=1]="Default",So))(),Ho=(()=>{return(n=Ho||(Ho={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Ho;var n})();const Es={},Yt=[],wp=A({\u0275cmp:A}),$y=A({\u0275dir:A}),Vy=A({\u0275pipe:A}),y1=A({\u0275mod:A}),Is=A({\u0275fac:A}),bd=A({__NG_ELEMENT_ID__:A});let OH=0;function Se(n){return ya(()=>{const t=!0===n.standalone,r={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===So.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Yt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Ho.Emulated,id:"c"+OH++,styles:n.styles||Yt,_:null,setInput:null,schemas:n.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},o=n.dependencies,s=n.features;return i.inputs=E1(n.inputs,r),i.outputs=E1(n.outputs),s&&s.forEach(a=>a(i)),i.directiveDefs=o?()=>("function"==typeof o?o():o).map(_1).filter(b1):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(ii).filter(b1):null,i})}function _1(n){return Qt(n)||Hr(n)}function b1(n){return null!==n}function jr(n){return ya(()=>({type:n.type,bootstrap:n.bootstrap||Yt,declarations:n.declarations||Yt,imports:n.imports||Yt,exports:n.exports||Yt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function E1(n,e){if(null==n)return Es;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,e&&(e[i]=o)}return t}const ut=Se;function Qt(n){return n[wp]||null}function Hr(n){return n[$y]||null}function ii(n){return n[Vy]||null}function Bi(n,e){const t=n[y1]||null;if(!t&&!0===e)throw new Error(`Type ${p(n)} does not have '\u0275mod' property.`);return t}const Ss=0,rt=1,At=2,xn=3,wo=4,ic=5,Gr=6,yl=7,$n=8,Cp=9,Dp=10,Mt=11,By=12,Ed=13,I1=14,_l=15,zr=16,Id=17,bl=18,Go=19,Sd=20,S1=21,fn=22,Uy=1,w1=2,Tp=7,Ap=8,El=9,oi=10;function Ui(n){return Array.isArray(n)&&"object"==typeof n[Uy]}function Co(n){return Array.isArray(n)&&!0===n[Uy]}function jy(n){return 0!=(4&n.flags)}function wd(n){return n.componentOffset>-1}function xp(n){return 1==(1&n.flags)}function Do(n){return null!==n.template}function LH(n){return 0!=(256&n[At])}function oc(n,e){return n.hasOwnProperty(Is)?n[Is]:null}class BH{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function si(){return T1}function T1(n){return n.type.prototype.ngOnChanges&&(n.setInput=jH),UH}function UH(){const n=x1(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===Es)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function jH(n,e,t,r){const i=this.declaredInputs[t],o=x1(n)||function HH(n,e){return n[A1]=e}(n,{previous:Es,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[i];s[i]=new BH(c&&c.currentValue,e,a===Es),n[r]=e}si.ngInherit=!0;const A1="__ngSimpleChanges__";function x1(n){return n[A1]||null}const ao=function(n,e,t){};function Tr(n){for(;Array.isArray(n);)n=n[Ss];return n}function Mp(n,e){return Tr(e[n])}function ji(n,e){return Tr(e[n.index])}function k1(n,e){return n.data[e]}function Hi(n,e){const t=e[n];return Ui(t)?t:t[Ss]}function Rp(n){return 64==(64&n[At])}function _a(n,e){return null==e?null:n[e]}function N1(n){n[bl]=0}function Gy(n,e){n[ic]+=e;let t=n,r=n[xn];for(;null!==r&&(1===e&&1===t[ic]||-1===e&&0===t[ic]);)r[ic]+=e,t=r,r=r[xn]}const St={lFrame:H1(null),bindingsEnabled:!0};function P1(){return St.bindingsEnabled}function Ae(){return St.lFrame.lView}function Bt(){return St.lFrame.tView}function Ot(n){return St.lFrame.contextLView=n,n[$n]}function Pt(n){return St.lFrame.contextLView=null,n}function Ar(){let n=F1();for(;null!==n&&64===n.type;)n=n.parent;return n}function F1(){return St.lFrame.currentTNode}function zo(n,e){const t=St.lFrame;t.currentTNode=n,t.isParent=e}function zy(){return St.lFrame.isParent}function Wy(){St.lFrame.isParent=!1}function ai(){const n=St.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Sl(){return St.lFrame.bindingIndex++}function n4(n,e){const t=St.lFrame;t.bindingIndex=t.bindingRootIndex=n,qy(e)}function qy(n){St.lFrame.currentDirectiveIndex=n}function B1(){return St.lFrame.currentQueryIndex}function Yy(n){St.lFrame.currentQueryIndex=n}function i4(n){const e=n[rt];return 2===e.type?e.declTNode:1===e.type?n[Gr]:null}function U1(n,e,t){if(t&_t.SkipSelf){let i=e,o=n;for(;!(i=i.parent,null!==i||t&_t.Host||(i=i4(o),null===i||(o=o[_l],10&i.type))););if(null===i)return!1;e=i,n=o}const r=St.lFrame=j1();return r.currentTNode=e,r.lView=n,!0}function Zy(n){const e=j1(),t=n[rt];St.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function j1(){const n=St.lFrame,e=null===n?null:n.child;return null===e?H1(n):e}function H1(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function G1(){const n=St.lFrame;return St.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const z1=G1;function Xy(){const n=G1();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ci(){return St.lFrame.selectedIndex}function sc(n){St.lFrame.selectedIndex=n}function In(){const n=St.lFrame;return k1(n.tView,n.selectedIndex)}function kp(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(n.contentHooks||(n.contentHooks=[])).push(-t,s),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),c&&(n.viewHooks||(n.viewHooks=[])).push(-t,c),l&&((n.viewHooks||(n.viewHooks=[])).push(t,l),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,l)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(t,u)}}function Np(n,e,t){W1(n,e,3,t)}function Op(n,e,t,r){(3&n[At])===t&&W1(n,e,t,r)}function Qy(n,e){let t=n[At];(3&t)===e&&(t&=2047,t+=1,n[At]=t)}function W1(n,e,t,r){const o=null!=r?r:-1,s=e.length-1;let a=0;for(let c=void 0!==r?65535&n[bl]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(n[bl]+=65536),(a<o||-1==o)&&(f4(n,t,e,c),n[bl]=(4294901760&n[bl])+c+2),c++}function f4(n,e,t,r){const i=t[r]<0,o=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[At]>>11<n[bl]>>16&&(3&n[At])===e){n[At]+=2048,ao(4,a,o);try{o.call(a)}finally{ao(5,a,o)}}}else{ao(4,a,o);try{o.call(a)}finally{ao(5,a,o)}}}const wl=-1;class Dd{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function e_(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{const o=i,s=t[++r];K1(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function q1(n){return 3===n||4===n||6===n}function K1(n){return 64===n.charCodeAt(0)}function Td(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||Y1(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function Y1(n,e,t,r,i){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}function Z1(n){return n!==wl}function Pp(n){return 32767&n}function Fp(n,e){let t=function v4(n){return n>>16}(n),r=e;for(;t>0;)r=r[_l],t--;return r}let t_=!0;function Lp(n){const e=t_;return t_=n,e}const X1=255,Q1=5;let y4=0;const Wo={};function $p(n,e){const t=J1(n,e);if(-1!==t)return t;const r=e[rt];r.firstCreatePass&&(n.injectorIndex=e.length,n_(r.data,n),n_(e,null),n_(r.blueprint,null));const i=r_(n,e),o=n.injectorIndex;if(Z1(i)){const s=Pp(i),a=Fp(i,e),c=a[rt].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function n_(n,e){n.push(0,0,0,0,0,0,0,0,e)}function J1(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function r_(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=sx(i),null===r)return wl;if(t++,i=i[_l],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return wl}function i_(n,e,t){!function _4(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(bd)&&(r=t[bd]),null==r&&(r=t[bd]=y4++);const i=r&X1;e.data[n+(i>>Q1)]|=1<<i}(n,e,t)}function ex(n,e,t){if(t&_t.Optional||void 0!==n)return n;Vi()}function tx(n,e,t,r){if(t&_t.Optional&&void 0===r&&(r=null),!(t&(_t.Self|_t.Host))){const i=n[Cp],o=so(void 0);try{return i?i.get(e,r,t&_t.Optional):g1(e,r,t&_t.Optional)}finally{so(o)}}return ex(r,0,t)}function nx(n,e,t,r=_t.Default,i){if(null!==n){if(1024&e[At]){const s=function w4(n,e,t,r,i){let o=n,s=e;for(;null!==o&&null!==s&&1024&s[At]&&!(256&s[At]);){const a=rx(o,s,t,r|_t.Self,Wo);if(a!==Wo)return a;let c=o.parent;if(!c){const l=s[S1];if(l){const u=l.get(t,Wo,r);if(u!==Wo)return u}c=sx(s),s=s[_l]}o=c}return i}(n,e,t,r,Wo);if(s!==Wo)return s}const o=rx(n,e,t,r,Wo);if(o!==Wo)return o}return tx(e,t,r,i)}function rx(n,e,t,r,i){const o=function I4(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(bd)?n[bd]:void 0;return"number"==typeof e?e>=0?e&X1:S4:e}(t);if("function"==typeof o){if(!U1(e,n,r))return r&_t.Host?ex(i,0,r):tx(e,t,r,i);try{const s=o(r);if(null!=s||r&_t.Optional)return s;Vi()}finally{z1()}}else if("number"==typeof o){let s=null,a=J1(n,e),c=wl,l=r&_t.Host?e[zr][Gr]:null;for((-1===a||r&_t.SkipSelf)&&(c=-1===a?r_(n,e):e[a+8],c!==wl&&ox(r,!1)?(s=e[rt],a=Pp(c),e=Fp(c,e)):a=-1);-1!==a;){const u=e[rt];if(ix(o,a,u.data)){const d=E4(a,e,t,s,r,l);if(d!==Wo)return d}c=e[a+8],c!==wl&&ox(r,e[rt].data[a+8]===l)&&ix(o,a,e)?(s=u,a=Pp(c),e=Fp(c,e)):a=-1}}return i}function E4(n,e,t,r,i,o){const s=e[rt],a=s.data[n+8],u=Vp(a,s,t,null==r?wd(a)&&t_:r!=s&&0!=(3&a.type),i&_t.Host&&o===a);return null!==u?ac(e,s,u,a):Wo}function Vp(n,e,t,r,i){const o=n.providerIndexes,s=e.data,a=1048575&o,c=n.directiveStart,u=o>>20,f=i?a+u:n.directiveEnd;for(let v=r?a:a+u;v<f;v++){const E=s[v];if(v<c&&t===E||v>=c&&E.type===t)return v}if(i){const v=s[c];if(v&&Do(v)&&v.type===t)return c}return null}function ac(n,e,t,r){let i=n[t];const o=e.data;if(function p4(n){return n instanceof Dd}(i)){const s=i;s.resolving&&function Vt(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new R(-200,`Circular dependency in DI detected for ${n}${t}`)}(function et(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ie(n)}(o[t]));const a=Lp(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?so(s.injectImpl):null;U1(n,r,_t.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&function h4(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=T1(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),o&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o))}(t,o[t],e)}finally{null!==c&&so(c),Lp(a),s.resolving=!1,z1()}}return i}function ix(n,e,t){return!!(t[e+(n>>Q1)]&1<<n)}function ox(n,e){return!(n&_t.Self||n&_t.Host&&e)}class Cl{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return nx(this._tNode,this._lView,e,Sp(r),t)}}function S4(){return new Cl(Ar(),Ae())}function xr(n){return ya(()=>{const e=n.prototype.constructor,t=e[Is]||o_(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[Is]||o_(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function o_(n){return I(n)?()=>{const e=o_(m(n));return e&&e()}:oc(n)}function sx(n){const e=n[rt],t=e.type;return 2===t?e.declTNode:1===t?n[Gr]:null}function Dl(n){return function b4(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const o=t[i];if(q1(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(o===e)return t[i+1];i+=2}}}return null}(Ar(),n)}const Al="__parameters__";function Ml(n,e,t){return ya(()=>{const r=function s_(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(c,l,u){const d=c.hasOwnProperty(Al)?c[Al]:Object.defineProperty(c,Al,{value:[]})[Al];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class lt{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Je({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function cc(n,e){n.forEach(t=>Array.isArray(t)?cc(t,e):e(t))}function cx(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Bp(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Md(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function Gi(n,e,t){let r=Rl(n,e);return r>=0?n[1|r]=t:(r=~r,function A4(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function c_(n,e){const t=Rl(n,e);if(t>=0)return n[1|t]}function Rl(n,e){return function lx(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}(n,e,1)}const li=_d(Ml("Optional"),8),Rd=_d(Ml("SkipSelf"),4);var Ii=(()=>((Ii=Ii||{})[Ii.Important=1]="Important",Ii[Ii.DashCase=2]="DashCase",Ii))();const p_=new Map;let Z4=0;const m_="__ngContext__";function Wr(n,e){Ui(e)?(n[m_]=e[Sd],function Q4(n){p_.set(n[Sd],n)}(e)):n[m_]=e}let v_;function y_(n,e){return v_(n,e)}function Pd(n){const e=n[xn];return Co(e)?e[xn]:e}function __(n){return xx(n[Ed])}function b_(n){return xx(n[wo])}function xx(n){for(;null!==n&&!Co(n);)n=n[wo];return n}function Nl(n,e,t,r,i){if(null!=r){let o,s=!1;Co(r)?o=r:Ui(r)&&(s=!0,r=r[Ss]);const a=Tr(r);0===n&&null!==t?null==i?Px(e,t,a):lc(e,t,a,i||null,!0):1===n&&null!==t?lc(e,t,a,i||null,!0):2===n?function T_(n,e,t){const r=Gp(n,e);r&&function yG(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function EG(n,e,t,r,i){const o=t[Tp];o!==Tr(t)&&Nl(e,n,r,o,i);for(let a=oi;a<t.length;a++){const c=t[a];Fd(c[rt],c,n,e,r,o)}}(e,n,o,t,i)}}function I_(n,e,t){return n.createElement(e,t)}function Rx(n,e){const t=n[El],r=t.indexOf(e),i=e[xn];512&e[At]&&(e[At]&=-513,Gy(i,-1)),t.splice(r,1)}function S_(n,e){if(n.length<=oi)return;const t=oi+e,r=n[t];if(r){const i=r[Id];null!==i&&i!==n&&Rx(i,r),e>0&&(n[t-1][wo]=r[wo]);const o=Bp(n,oi+e);!function uG(n,e){Fd(n,e,e[Mt],2,null,null),e[Ss]=null,e[Gr]=null}(r[rt],r);const s=o[Go];null!==s&&s.detachView(o[rt]),r[xn]=null,r[wo]=null,r[At]&=-65}return r}function kx(n,e){if(!(128&e[At])){const t=e[Mt];t.destroyNode&&Fd(n,e,t,3,null,null),function fG(n){let e=n[Ed];if(!e)return w_(n[rt],n);for(;e;){let t=null;if(Ui(e))t=e[Ed];else{const r=e[oi];r&&(t=r)}if(!t){for(;e&&!e[wo]&&e!==n;)Ui(e)&&w_(e[rt],e),e=e[xn];null===e&&(e=n),Ui(e)&&w_(e[rt],e),t=e&&e[wo]}e=t}}(e)}}function w_(n,e){if(!(128&e[At])){e[At]&=-65,e[At]|=128,function vG(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Dd)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];ao(4,a,c);try{c.call(a)}finally{ao(5,a,c)}}else{ao(4,i,o);try{o.call(i)}finally{ao(5,i,o)}}}}}(n,e),function mG(n,e){const t=n.cleanup,r=e[yl];let i=-1;if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?r[i=s]():r[i=-s].unsubscribe(),o+=2}else{const s=r[i=t[o+1]];t[o].call(s)}if(null!==r){for(let o=i+1;o<r.length;o++)(0,r[o])();e[yl]=null}}(n,e),1===e[rt].type&&e[Mt].destroy();const t=e[Id];if(null!==t&&Co(e[xn])){t!==e[xn]&&Rx(t,e);const r=e[Go];null!==r&&r.detachView(n)}!function J4(n){p_.delete(n[Sd])}(e)}}function Nx(n,e,t){return function Ox(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[Ss];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=n.data[r.directiveStart+i];if(o===Ho.None||o===Ho.Emulated)return null}return ji(r,t)}}(n,e.parent,t)}function lc(n,e,t,r,i){n.insertBefore(e,t,r,i)}function Px(n,e,t){n.appendChild(e,t)}function Fx(n,e,t,r,i){null!==r?lc(n,e,t,r,i):Px(n,e,t)}function Gp(n,e){return n.parentNode(e)}function Lx(n,e,t){return Vx(n,e,t)}let C_,qp,M_,Kp,Vx=function $x(n,e,t){return 40&n.type?ji(n,t):null};function zp(n,e,t,r){const i=Nx(n,r,e),o=e[Mt],a=Lx(r.parent||e[Gr],r,e);if(null!=i)if(Array.isArray(t))for(let c=0;c<t.length;c++)Fx(o,i,t[c],a,!1);else Fx(o,i,t,a,!1);void 0!==C_&&C_(o,r,e,t,i)}function Wp(n,e){if(null!==e){const t=e.type;if(3&t)return ji(e,n);if(4&t)return D_(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Wp(n,r);{const i=n[e.index];return Co(i)?D_(-1,i):Tr(i)}}if(32&t)return y_(e,n)()||Tr(n[e.index]);{const r=Ux(n,e);return null!==r?Array.isArray(r)?r[0]:Wp(Pd(n[zr]),r):Wp(n,e.next)}}return null}function Ux(n,e){return null!==e?n[zr][Gr].projection[e.projection]:null}function D_(n,e){const t=oi+n+1;if(t<e.length){const r=e[t],i=r[rt].firstChild;if(null!==i)return Wp(r,i)}return e[Tp]}function A_(n,e,t,r,i,o,s){for(;null!=t;){const a=r[t.index],c=t.type;if(s&&0===e&&(a&&Wr(Tr(a),r),t.flags|=2),32!=(32&t.flags))if(8&c)A_(n,e,t.child,r,i,o,!1),Nl(e,n,i,a,o);else if(32&c){const l=y_(t,r);let u;for(;u=l();)Nl(e,n,i,u,o);Nl(e,n,i,a,o)}else 16&c?jx(n,e,r,t,i,o):Nl(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Fd(n,e,t,r,i,o){A_(t,r,n.firstChild,e,i,o,!1)}function jx(n,e,t,r,i,o){const s=t[zr],c=s[Gr].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)Nl(e,n,i,c[l],o);else A_(n,e,c,s[xn],i,o,!0)}function Hx(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Gx(n,e,t){const{mergedAttrs:r,classes:i,styles:o}=t;null!==r&&e_(n,e,r),null!==i&&Hx(n,e,i),null!==o&&function SG(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}function Ol(n){var e;return(null===(e=function x_(){if(void 0===qp&&(qp=null,hn.trustedTypes))try{qp=hn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return qp}())||void 0===e?void 0:e.createHTML(n))||n}function R_(){if(void 0===Kp&&(Kp=null,hn.trustedTypes))try{Kp=hn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Kp}function Wx(n){var e;return(null===(e=R_())||void 0===e?void 0:e.createHTML(n))||n}function Kx(n){var e;return(null===(e=R_())||void 0===e?void 0:e.createScriptURL(n))||n}class Yx{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${L})`}}function ba(n){return n instanceof Yx?n.changingThisBreaksApplicationSecurity:n}function Ld(n,e){const t=function NG(n){return n instanceof Yx&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${L})`)}return t===e}class OG{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Ol(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class PG{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=Ol(e),t}}const LG=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function k_(n){return(n=String(n)).match(LG)?n:"unsafe:"+n}function Ds(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function $d(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const Xx=Ds("area,br,col,hr,img,wbr"),Qx=Ds("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Jx=Ds("rp,rt"),N_=$d(Xx,$d(Qx,Ds("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),$d(Jx,Ds("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$d(Jx,Qx)),O_=Ds("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),eM=$d(O_,Ds("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ds("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),$G=Ds("script,style,template");class VG{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!N_.hasOwnProperty(t))return this.sanitizedSomething=!0,!$G.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),s=o.name,a=s.toLowerCase();if(!eM.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;O_[a]&&(c=k_(c)),this.buf.push(" ",s,'="',tM(c),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();N_.hasOwnProperty(t)&&!Xx.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(tM(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const BG=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,UG=/([^\#-~ |!])/g;function tM(n){return n.replace(/&/g,"&amp;").replace(BG,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(UG,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Yp;function P_(n){return"content"in n&&function HG(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Yn=(()=>((Yn=Yn||{})[Yn.NONE=0]="NONE",Yn[Yn.HTML=1]="HTML",Yn[Yn.STYLE=2]="STYLE",Yn[Yn.SCRIPT=3]="SCRIPT",Yn[Yn.URL=4]="URL",Yn[Yn.RESOURCE_URL=5]="RESOURCE_URL",Yn))();function nM(n){const e=Vd();return e?Wx(e.sanitize(Yn.HTML,n)||""):Ld(n,"HTML")?Wx(ba(n)):function jG(n,e){let t=null;try{Yp=Yp||function Zx(n){const e=new PG(n);return function FG(){try{return!!(new window.DOMParser).parseFromString(Ol(""),"text/html")}catch(n){return!1}}()?new OG(e):e}(n);let r=e?String(e):"";t=Yp.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=Yp.getInertBodyElement(r)}while(r!==o);return Ol((new VG).sanitizeChildren(P_(t)||t))}finally{if(t){const r=P_(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}(function zx(){return void 0!==M_?M_:typeof document<"u"?document:void 0}(),Ie(n))}function rM(n){const e=Vd();return e?e.sanitize(Yn.URL,n)||"":Ld(n,"URL")?ba(n):k_(Ie(n))}function iM(n){const e=Vd();if(e)return Kx(e.sanitize(Yn.RESOURCE_URL,n)||"");if(Ld(n,"ResourceURL"))return Kx(ba(n));throw new R(904,!1)}function Vd(){const n=Ae();return n&&n[By]}const Zp=new lt("ENVIRONMENT_INITIALIZER"),sM=new lt("INJECTOR",-1),aM=new lt("INJECTOR_DEF_TYPES");class cM{get(e,t=vd){if(t===vd){const r=new Error(`NullInjectorError: No provider for ${p(e)}!`);throw r.name="NullInjectorError",r}return t}}function YG(...n){return{\u0275providers:lM(0,n),\u0275fromNgModule:!0}}function lM(n,...e){const t=[],r=new Set;let i;return cc(e,o=>{const s=o;F_(s,t,[],r)&&(i||(i=[]),i.push(s))}),void 0!==i&&uM(i,t),t}function uM(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];L_(i,o=>{e.push(o)})}}function F_(n,e,t,r){if(!(n=m(n)))return!1;let i=null,o=f1(n);const s=!o&&Qt(n);if(o||s){if(s&&!s.standalone)return!1;i=n}else{const c=n.ngModule;if(o=f1(c),!o)return!1;i=c}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of c)F_(l,e,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;r.add(i);try{cc(o.imports,u=>{F_(u,e,t,r)&&(l||(l=[]),l.push(u))})}finally{}void 0!==l&&uM(l,e)}if(!a){const l=oc(i)||(()=>new i);e.push({provide:i,useFactory:l,deps:Yt},{provide:aM,useValue:i,multi:!0},{provide:Zp,useValue:()=>Fe(i),multi:!0})}const c=o.providers;null==c||a||L_(c,u=>{e.push(u)})}}return i!==n&&void 0!==n.providers}function L_(n,e){for(let t of n)D(t)&&(t=t.\u0275providers),Array.isArray(t)?L_(t,e):e(t)}const ZG=A({provide:String,useValue:A});function $_(n){return null!==n&&"object"==typeof n&&ZG in n}function uc(n){return"function"==typeof n}const V_=new lt("Set Injector scope."),Xp={},QG={};let B_;function Qp(){return void 0===B_&&(B_=new cM),B_}class Ts{}class fM extends Ts{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,j_(e,s=>this.processProvider(s)),this.records.set(sM,Pl(void 0,this)),i.has("environment")&&this.records.set(Ts,Pl(void 0,this));const o=this.records.get(V_);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(aM.multi,Yt,_t.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=ml(this),r=so(void 0);try{return e()}finally{ml(t),so(r)}}get(e,t=vd,r=_t.Default){this.assertNotDestroyed(),r=Sp(r);const i=ml(this),o=so(void 0);try{if(!(r&_t.SkipSelf)){let a=this.records.get(e);if(void 0===a){const c=function rz(n){return"function"==typeof n||"object"==typeof n&&n instanceof lt}(e)&&bp(e);a=c&&this.injectableDefInScope(c)?Pl(U_(e),Xp):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&_t.Self?Qp():this.parent).get(e,t=r&_t.Optional&&t===vd?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[Ip]=s[Ip]||[]).unshift(p(e)),i)throw s;return function kH(n,e,t,r){const i=n[Ip];throw e[m1]&&i.unshift(e[m1]),n.message=function NH(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==xH?n.slice(2):n;let i=p(e);if(Array.isArray(e))i=e.map(p).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):p(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(AH,"\n  ")}`}("\n"+n.message,i,t,r),n[TH]=i,n[Ip]=null,n}(s,e,"R3InjectorError",this.source)}throw s}finally{so(o),ml(i)}}resolveInjectorInitializers(){const e=ml(this),t=so(void 0);try{const r=this.get(Zp.multi,Yt,_t.Self);for(const i of r)i()}finally{ml(e),so(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(p(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new R(205,!1)}processProvider(e){let t=uc(e=m(e))?e:m(e&&e.provide);const r=function ez(n){return $_(n)?Pl(void 0,n.useValue):Pl(pM(n),Xp)}(e);if(uc(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Pl(void 0,Xp,!0),i.factory=()=>Ly(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===Xp&&(t.value=QG,t.value=t.factory()),"object"==typeof t.value&&t.value&&function nz(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=m(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function U_(n){const e=bp(n),t=null!==e?e.factory:oc(n);if(null!==t)return t;if(n instanceof lt)throw new R(204,!1);if(n instanceof Function)return function JG(n){const e=n.length;if(e>0)throw Md(e,"?"),new R(204,!1);const t=function SH(n){const e=n&&(n[Ep]||n[p1]);return e?(function wH(n){if(n.hasOwnProperty("name"))return n.name;(""+n).match(/^function\s*([^\s(]+)/)}(n),e):null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new R(204,!1)}function pM(n,e,t){let r;if(uc(n)){const i=m(n);return oc(i)||U_(i)}if($_(n))r=()=>m(n.useValue);else if(function hM(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Ly(n.deps||[]));else if(function dM(n){return!(!n||!n.useExisting)}(n))r=()=>Fe(m(n.useExisting));else{const i=m(n&&(n.useClass||n.provide));if(!function tz(n){return!!n.deps}(n))return oc(i)||U_(i);r=()=>new i(...Ly(n.deps))}return r}function Pl(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function j_(n,e){for(const t of n)Array.isArray(t)?j_(t,e):t&&D(t)?j_(t.\u0275providers,e):e(t)}class iz{}class gM{}class sz{resolveComponentFactory(e){throw function oz(n){const e=Error(`No component factory found for ${p(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let As=(()=>{class n{}return n.NULL=new sz,n})();function az(){return Fl(Ar(),Ae())}function Fl(n,e){return new Ne(ji(n,e))}let Ne=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=az,n})();function cz(n){return n instanceof Ne?n.nativeElement:n}class vM{}let xs=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function lz(){const n=Ae(),t=Hi(Ar().index,n);return(Ui(t)?t:n)[Mt]}(),n})(),uz=(()=>{class n{}return n.\u0275prov=Je({token:n,providedIn:"root",factory:()=>null}),n})();class Ll{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const yM=new Ll("15.2.1"),H_={},G_="ngOriginalError";function z_(n){return n[G_]}class $l{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&z_(e);for(;t&&z_(t);)t=z_(t);return t||null}}function Ms(n){return n instanceof Function?n():n}function bM(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}const EM="ng-template";function Ez(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==bM(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function IM(n){return 4===n.type&&n.value!==EM}function Iz(n,e,t){return e===(4!==n.type||t?n.value:EM)}function Sz(n,e,t){let r=4;const i=n.attrs||[],o=function Dz(n){for(let e=0;e<n.length;e++)if(q1(n[e]))return e;return n.length}(i);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!Iz(n,c,t)||""===c&&1===e.length){if(To(r))return!1;s=!0}}else{const l=8&r?c:e[++a];if(8&r&&null!==n.attrs){if(!Ez(n.attrs,l,t)){if(To(r))return!1;s=!0}continue}const d=wz(8&r?"class":c,i,IM(n),t);if(-1===d){if(To(r))return!1;s=!0;continue}if(""!==l){let f;f=d>o?"":i[d+1].toLowerCase();const v=8&r?f:null;if(v&&-1!==bM(v,l,0)||2&r&&l!==f){if(To(r))return!1;s=!0}}}}else{if(!s&&!To(r)&&!To(c))return!1;if(s&&To(c))continue;s=!1,r=c|1&r}}return To(r)||s}function To(n){return 0==(1&n)}function wz(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){const s=e[i];if(s===n)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function Tz(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function SM(n,e,t=!1){for(let r=0;r<e.length;r++)if(Sz(n,e[r],t))return!0;return!1}function Az(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function wM(n,e){return n?":not("+e.trim()+")":e}function xz(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!To(s)&&(e+=wM(o,i),i=""),r=s,o=o||!To(r);t++}return""!==i&&(e+=wM(o,i)),e}const wt={};function W(n){CM(Bt(),Ae(),ci()+n,!1)}function CM(n,e,t,r){if(!r)if(3==(3&e[At])){const o=n.preOrderCheckHooks;null!==o&&Np(e,o,t)}else{const o=n.preOrderHooks;null!==o&&Op(e,o,0,t)}sc(t)}function xM(n,e=null,t=null,r){const i=MM(n,e,t,r);return i.resolveInjectorInitializers(),i}function MM(n,e=null,t=null,r,i=new Set){const o=[t||Yt,YG(n)];return r=r||("object"==typeof n?void 0:p(n)),new fM(o,e||Qp(),r||null,i)}let Sn=(()=>{class n{static create(t,r){if(Array.isArray(t))return xM({name:""},r,t,"");{var i;const o=null!==(i=t.name)&&void 0!==i?i:"";return xM({name:o},t.parent,t.providers,o)}}}return n.THROW_IF_NOT_FOUND=vd,n.NULL=new cM,n.\u0275prov=Je({token:n,providedIn:"any",factory:()=>Fe(sM)}),n.__NG_ELEMENT_ID__=-1,n})();function g(n,e=_t.Default){const t=Ae();return null===t?Fe(n,e):nx(Ar(),t,m(n),e)}function $M(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const o=t[r+1];if(-1!==o){const s=n.data[o];Yy(t[r]),s.contentQueries(2,e[o],o)}}}function eg(n,e,t,r,i,o,s,a,c,l,u){const d=e.blueprint.slice();return d[Ss]=i,d[At]=76|r,(null!==u||n&&1024&n[At])&&(d[At]|=1024),N1(d),d[xn]=d[_l]=n,d[$n]=t,d[Dp]=s||n&&n[Dp],d[Mt]=a||n&&n[Mt],d[By]=c||n&&n[By]||null,d[Cp]=l||n&&n[Cp]||null,d[Gr]=o,d[Sd]=function X4(){return Z4++}(),d[S1]=u,d[zr]=2==e.type?n[zr]:d,d}function Ul(n,e,t,r,i){let o=n.data[e];if(null===o)o=function Z_(n,e,t,r,i){const o=F1(),s=zy(),c=n.data[e]=function t6(n,e,t,r,i,o){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(n,e,t,r,i),function t4(){return St.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function Cd(){const n=St.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return zo(o,!0),o}function Bd(n,e,t,r){if(0===t)return-1;const i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function X_(n,e,t){Zy(e);try{const r=n.viewQuery;null!==r&&c0(1,r,t);const i=n.template;null!==i&&VM(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&$M(n,e),n.staticViewQueries&&c0(2,n.viewQuery,t);const o=n.components;null!==o&&function Qz(n,e){for(let t=0;t<e.length;t++)b6(n,e[t])}(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[At]&=-5,Xy()}}function tg(n,e,t,r){const i=e[At];if(128!=(128&i)){Zy(e);try{N1(e),function $1(n){return St.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&VM(n,e,t,2,r);const s=3==(3&i);if(s){const l=n.preOrderCheckHooks;null!==l&&Np(e,l,null)}else{const l=n.preOrderHooks;null!==l&&Op(e,l,0,null),Qy(e,0)}if(function y6(n){for(let e=__(n);null!==e;e=b_(e)){if(!e[w1])continue;const t=e[El];for(let r=0;r<t.length;r++){const i=t[r];512&i[At]||Gy(i[xn],1),i[At]|=512}}}(e),function v6(n){for(let e=__(n);null!==e;e=b_(e))for(let t=oi;t<e.length;t++){const r=e[t],i=r[rt];Rp(r)&&tg(i,r,i.template,r[$n])}}(e),null!==n.contentQueries&&$M(n,e),s){const l=n.contentCheckHooks;null!==l&&Np(e,l)}else{const l=n.contentHooks;null!==l&&Op(e,l,1),Qy(e,1)}!function Zz(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)sc(~i);else{const o=i,s=t[++r],a=t[++r];n4(s,o),a(2,e[o])}}}finally{sc(-1)}}(n,e);const a=n.components;null!==a&&function Xz(n,e){for(let t=0;t<e.length;t++)_6(n,e[t])}(e,a);const c=n.viewQuery;if(null!==c&&c0(2,c,r),s){const l=n.viewCheckHooks;null!==l&&Np(e,l)}else{const l=n.viewHooks;null!==l&&Op(e,l,2),Qy(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[At]&=-41,512&e[At]&&(e[At]&=-513,Gy(e[xn],-1))}finally{Xy()}}}function VM(n,e,t,r,i){const o=ci(),s=2&r;try{sc(-1),s&&e.length>fn&&CM(n,e,fn,!1),ao(s?2:0,i),t(r,i)}finally{sc(o),ao(s?3:1,i)}}function Q_(n,e,t){if(jy(e)){const i=e.directiveEnd;for(let o=e.directiveStart;o<i;o++){const s=n.data[o];s.contentQueries&&s.contentQueries(1,t[o],o)}}}function J_(n,e,t){P1()&&(function a6(n,e,t,r){const i=t.directiveStart,o=t.directiveEnd;wd(t)&&function p6(n,e,t){const r=ji(e,n),i=BM(t),o=n[Dp],s=ng(n,eg(n,i,null,t.onPush?32:16,r,e,o,o.createRenderer(r,t),null,null,null));n[e.index]=s}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||$p(t,e),Wr(r,e);const s=t.initialInputs;for(let a=i;a<o;a++){const c=n.data[a],l=ac(e,n,a,t);Wr(l,e),null!==s&&g6(0,a-i,l,c,0,s),Do(c)&&(Hi(t.index,e)[$n]=ac(e,n,a,t))}}(n,e,t,ji(t,e)),64==(64&t.flags)&&WM(n,e,t))}function e0(n,e,t=ji){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(e,n):n[s];n[i++]=a}}}function BM(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=t0(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function t0(n,e,t,r,i,o,s,a,c,l){const u=fn+r,d=u+i,f=function Jz(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:wt);return t}(u,d),v="function"==typeof l?l():l;return f[rt]={type:n,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:v,incompleteFirstPass:!1}}function UM(n,e,t,r){const i=KM(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&YM(n).push(r,i.length-1))}function jM(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const o=n[i];null===r?HM(t,e,i,o):r.hasOwnProperty(i)&&HM(t,e,r[i],o)}return t}function HM(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function zi(n,e,t,r,i,o,s,a){const c=ji(e,t);let u,l=e.inputs;!a&&null!=l&&(u=l[r])?(l0(n,t,u,r,i),wd(e)&&GM(t,e.index)):3&e.type&&(r=function r6(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(c,r,i))}function GM(n,e){const t=Hi(e,n);16&t[At]||(t[At]|=32)}function n0(n,e,t,r){if(P1()){const i=null===r?null:{"":-1},o=function l6(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const a=t[s];if(SM(e,a.selectors,!1))if(r||(r=[]),Do(a))if(null!==a.findHostDirectiveDefs){const c=[];i=i||new Map,a.findHostDirectiveDefs(a,c,i),r.unshift(...c,a),r0(n,e,c.length)}else r.unshift(a),r0(n,e,0);else{var o;i=i||new Map,null===(o=a.findHostDirectiveDefs)||void 0===o||o.call(a,a,r,i),r.push(a)}}return null===r?null:[r,i]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&zM(n,e,t,s,i,a),i&&function u6(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const o=t[e[i+1]];if(null==o)throw new R(-301,!1);r.push(e[i],o)}}}(t,r,i)}t.mergedAttrs=Td(t.mergedAttrs,t.attrs)}function zM(n,e,t,r,i,o){for(let l=0;l<r.length;l++)i_($p(t,e),n,r[l].type);!function h6(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let l=0;l<r.length;l++){const u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=Bd(n,e,r.length,null);for(let l=0;l<r.length;l++){const u=r[l];t.mergedAttrs=Td(t.mergedAttrs,u.hostAttrs),f6(n,t,e,c,u),d6(c,u,i),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),a=!0),c++}!function n6(n,e,t){const i=e.directiveEnd,o=n.data,s=e.attrs,a=[];let c=null,l=null;for(let u=e.directiveStart;u<i;u++){const d=o[u],f=t?t.get(d):null,E=f?f.outputs:null;c=jM(d.inputs,u,c,f?f.inputs:null),l=jM(d.outputs,u,l,E);const x=null===c||null===s||IM(e)?null:m6(c,u,s);a.push(x)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(n,t,o)}function WM(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,s=function r4(){return St.lFrame.currentDirectiveIndex}();try{sc(o);for(let a=r;a<i;a++){const c=n.data[a],l=e[a];qy(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&c6(c,l)}}finally{sc(-1),qy(s)}}function c6(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function r0(n,e,t){e.componentOffset=t,(n.components||(n.components=[])).push(e.index)}function d6(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Do(e)&&(t[""]=n)}}function f6(n,e,t,r,i){n.data[r]=i;const o=i.factory||(i.factory=oc(i.type)),s=new Dd(o,Do(i),g);n.blueprint[r]=s,t[r]=s,function o6(n,e,t,r,i){const o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function s6(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,o)}}(n,e,r,Bd(n,t,i.hostVars,wt),i)}function qo(n,e,t,r,i,o){const s=ji(n,e);!function o0(n,e,t,r,i,o,s){if(null==o)n.removeAttribute(e,i,t);else{const a=null==s?Ie(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}(e[Mt],s,o,n.value,t,r,i)}function g6(n,e,t,r,i,o){const s=o[e];if(null!==s){const a=r.setInput;for(let c=0;c<s.length;){const l=s[c++],u=s[c++],d=s[c++];null!==a?r.setInput(t,d,l,u):t[u]=d}}}function m6(n,e,t){let r=null,i=0;for(;i<t.length;){const o=t[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===r&&(r=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function qM(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null]}function _6(n,e){const t=Hi(e,n);if(Rp(t)){const r=t[rt];48&t[At]?tg(r,t,r.template,t[$n]):t[ic]>0&&s0(t)}}function s0(n){for(let r=__(n);null!==r;r=b_(r))for(let i=oi;i<r.length;i++){const o=r[i];if(Rp(o))if(512&o[At]){const s=o[rt];tg(s,o,s.template,o[$n])}else o[ic]>0&&s0(o)}const t=n[rt].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Hi(t[r],n);Rp(i)&&i[ic]>0&&s0(i)}}function b6(n,e){const t=Hi(e,n),r=t[rt];(function E6(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),X_(r,t,t[$n])}function ng(n,e){return n[Ed]?n[I1][wo]=e:n[Ed]=e,n[I1]=e,e}function a0(n){for(;n;){n[At]|=32;const e=Pd(n);if(LH(n)&&!e)return n;n=e}return null}function rg(n,e,t,r=!0){const i=e[Dp];i.begin&&i.begin();try{tg(n,e,n.template,t)}catch(s){throw r&&XM(e,s),s}finally{i.end&&i.end()}}function c0(n,e,t){Yy(0),e(n,t)}function KM(n){return n[yl]||(n[yl]=[])}function YM(n){return n.cleanup||(n.cleanup=[])}function XM(n,e){const t=n[Cp],r=t?t.get($l,null):null;r&&r.handleError(e)}function l0(n,e,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++],c=e[s],l=n.data[s];null!==l.setInput?l.setInput(c,i,r,a):c[a]=i}}function ig(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=y(i,a):2==o&&(r=y(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function og(n,e,t,r,i=!1){for(;null!==t;){const o=e[t.index];if(null!==o&&r.push(Tr(o)),Co(o))for(let a=oi;a<o.length;a++){const c=o[a],l=c[rt].firstChild;null!==l&&og(c[rt],c,l,r)}const s=t.type;if(8&s)og(n,e,t.child,r);else if(32&s){const a=y_(t,e);let c;for(;c=a();)r.push(c)}else if(16&s){const a=Ux(e,t);if(Array.isArray(a))r.push(...a);else{const c=Pd(e[zr]);og(c[rt],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class Ud{get rootNodes(){const e=this._lView,t=e[rt];return og(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[$n]}set context(e){this._lView[$n]=e}get destroyed(){return 128==(128&this._lView[At])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[xn];if(Co(e)){const t=e[Ap],r=t?t.indexOf(this):-1;r>-1&&(S_(e,r),Bp(t,r))}this._attachedToViewContainer=!1}kx(this._lView[rt],this._lView)}onDestroy(e){UM(this._lView[rt],this._lView,null,e)}markForCheck(){a0(this._cdRefInjectingView||this._lView)}detach(){this._lView[At]&=-65}reattach(){this._lView[At]|=64}detectChanges(){rg(this._lView[rt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new R(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function hG(n,e){Fd(n,e,e[Mt],2,null,null)}(this._lView[rt],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new R(902,!1);this._appRef=e}}class I6 extends Ud{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;rg(e[rt],e,e[$n],!1)}checkNoChanges(){}get context(){return null}}class QM extends As{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Qt(e);return new jd(t,this.ngModule)}}function JM(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class w6{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Sp(r);const i=this.injector.get(e,H_,r);return i!==H_||t===H_?i:this.parentInjector.get(e,t,r)}}class jd extends gM{get inputs(){return JM(this.componentDef.inputs)}get outputs(){return JM(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function Mz(n){return n.map(xz).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){var o;let s=(i=i||this.ngModule)instanceof Ts?i:null===(o=i)||void 0===o?void 0:o.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const a=s?new w6(e,s):e,c=a.get(vM,null);if(null===c)throw new R(407,!1);const l=a.get(uz,null),u=c.createRenderer(null,this.componentDef),d=this.componentDef.selectors[0][0]||"div",f=r?function e6(n,e,t){return n.selectRootElement(e,t===Ho.ShadowDom)}(u,r,this.componentDef.encapsulation):I_(u,d,function S6(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(d)),v=this.componentDef.onPush?288:272,E=t0(0,null,null,1,0,null,null,null,null,null),x=eg(null,E,null,v,null,null,c,u,l,a,null);let N,X;Zy(x);try{const Ee=this.componentDef;let z,He=null;Ee.findHostDirectiveDefs?(z=[],He=new Map,Ee.findHostDirectiveDefs(Ee,z,He),z.push(Ee)):z=[Ee];const ct=function D6(n,e){const t=n[rt],r=fn;return n[r]=e,Ul(t,r,2,"#host",null)}(x,f),ft=function T6(n,e,t,r,i,o,s,a){const c=i[rt];!function A6(n,e,t,r){for(const i of n)e.mergedAttrs=Td(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(ig(e,e.mergedAttrs,!0),null!==t&&Gx(r,t,e))}(r,n,e,s);const l=o.createRenderer(e,t),u=eg(i,BM(t),null,t.onPush?32:16,i[n.index],n,o,l,a||null,null,null);return c.firstCreatePass&&r0(c,n,r.length-1),ng(i,u),i[n.index]=u}(ct,f,Ee,z,x,c,u);X=k1(E,fn),f&&function M6(n,e,t,r){if(r)e_(n,t,["ng-version",yM.full]);else{const{attrs:i,classes:o}=function Rz(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&e.push(o,n[++r]):8===i&&t.push(o);else{if(!To(i))break;i=o}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&e_(n,t,i),o&&o.length>0&&Hx(n,t,o.join(" "))}}(u,Ee,f,r),void 0!==t&&function R6(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const o=t[i];r.push(null!=o?Array.from(o):null)}}(X,this.ngContentSelectors,t),N=function x6(n,e,t,r,i,o){const s=Ar(),a=i[rt],c=ji(s,i);zM(a,i,s,t,null,r);for(let u=0;u<t.length;u++)Wr(ac(i,a,s.directiveStart+u,s),i);WM(a,i,s),c&&Wr(c,i);const l=ac(i,a,s.directiveStart+s.componentOffset,s);if(n[$n]=i[$n]=l,null!==o)for(const u of o)u(l,e);return Q_(a,s,n),l}(ft,Ee,z,He,x,[k6]),X_(E,x,null)}finally{Xy()}return new C6(this.componentType,N,Fl(X,x),x,X)}}class C6 extends iz{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=t,this.hostView=this.changeDetectorRef=new I6(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const o=this._rootLView;l0(o[rt],o,i,e,t),GM(o,this._tNode.index)}}get injector(){return new Cl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function k6(){const n=Ar();kp(Ae()[rt],n)}function Ut(n){let e=function eR(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Do(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new R(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const s=n;s.inputs=u0(n.inputs),s.declaredInputs=u0(n.declaredInputs),s.outputs=u0(n.outputs);const a=i.hostBindings;a&&F6(n,a);const c=i.viewQuery,l=i.contentQueries;if(c&&O6(n,c),l&&P6(n,l),h(n.inputs,i.inputs),h(n.declaredInputs,i.declaredInputs),h(n.outputs,i.outputs),Do(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===Ut&&(t=!1)}}e=Object.getPrototypeOf(e)}!function N6(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Td(i.hostAttrs,t=Td(t,i.hostAttrs))}}(r)}function u0(n){return n===Es?{}:n===Yt?[]:n}function O6(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function P6(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,o)=>{e(r,i,o),t(r,i,o)}:e}function F6(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function sg(n){return!!d0(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function d0(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ko(n,e,t){return n[e]=t}function qr(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Yo(n,e,t,r){const i=Ae();return qr(i,Sl(),e)&&(Bt(),qo(In(),i,n,e,t,r)),Yo}function Hl(n,e,t,r){return qr(n,Sl(),t)?e+Ie(t)+r:wt}function at(n,e,t,r,i,o,s,a){const c=Ae(),l=Bt(),u=n+fn,d=l.firstCreatePass?function W6(n,e,t,r,i,o,s,a,c){const l=e.consts,u=Ul(e,n,4,s||null,_a(l,a));n0(e,t,u,_a(l,c)),kp(e,u);const d=u.tViews=t0(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,t,r,i,o,s):l.data[u];zo(d,!1);const f=c[Mt].createComment("");zp(l,c,f,d),Wr(f,c),ng(c,c[u]=qM(f,c,f,d)),xp(d)&&J_(l,c,d),null!=s&&e0(c,d,a)}function cg(n){return function Il(n,e){return n[e]}(function e4(){return St.lFrame.contextLView}(),fn+n)}function le(n,e,t){const r=Ae();return qr(r,Sl(),e)&&zi(Bt(),In(),r,n,e,r[Mt],t,!1),le}function h0(n,e,t,r,i){const s=i?"class":"style";l0(n,t,e.inputs[s],s,r)}function w(n,e,t,r){const i=Ae(),o=Bt(),s=fn+n,a=i[Mt],c=o.firstCreatePass?function K6(n,e,t,r,i,o){const s=e.consts,c=Ul(e,n,2,r,_a(s,i));return n0(e,t,c,_a(s,o)),null!==c.attrs&&ig(c,c.attrs,!1),null!==c.mergedAttrs&&ig(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,i,e,t,r):o.data[s],l=i[s]=I_(a,e,function d4(){return St.lFrame.currentNamespace}()),u=xp(c);return zo(c,!0),Gx(a,l,c),32!=(32&c.flags)&&zp(o,i,l,c),0===function YH(){return St.lFrame.elementDepthCount}()&&Wr(l,i),function ZH(){St.lFrame.elementDepthCount++}(),u&&(J_(o,i,c),Q_(o,c,i)),null!==r&&e0(i,c),w}function C(){let n=Ar();zy()?Wy():(n=n.parent,zo(n,!1));const e=n;!function XH(){St.lFrame.elementDepthCount--}();const t=Bt();return t.firstCreatePass&&(kp(t,n),jy(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function g4(n){return 0!=(8&n.flags)}(e)&&h0(t,e,Ae(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function m4(n){return 0!=(16&n.flags)}(e)&&h0(t,e,Ae(),e.stylesWithoutHost,!1),C}function Ve(n,e,t,r){return w(n,e,t,r),C(),Ve}function f0(n,e,t){const r=Ae(),i=Bt(),o=n+fn,s=i.firstCreatePass?function Y6(n,e,t,r,i){const o=e.consts,s=_a(o,r),a=Ul(e,n,8,"ng-container",s);return null!==s&&ig(a,s,!0),n0(e,t,a,_a(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,t):i.data[o];zo(s,!0);const a=r[o]=r[Mt].createComment("");return zp(i,r,a,s),Wr(a,r),xp(s)&&(J_(i,r,s),Q_(i,s,r)),null!=t&&e0(r,s),f0}function p0(){let n=Ar();const e=Bt();return zy()?Wy():(n=n.parent,zo(n,!1)),e.firstCreatePass&&(kp(e,n),jy(n)&&e.queries.elementEnd(n)),p0}function lg(n,e,t){return f0(n,e,t),p0(),lg}function Jt(){return Ae()}function Gd(n){return!!n&&"function"==typeof n.then}const g0=function fR(n){return!!n&&"function"==typeof n.subscribe};function xe(n,e,t,r){const i=Ae(),o=Bt(),s=Ar();return function gR(n,e,t,r,i,o,s){const a=xp(r),l=n.firstCreatePass&&YM(n),u=e[$n],d=KM(e);let f=!0;if(3&r.type||s){const x=ji(r,e),N=s?s(x):x,X=d.length,Ee=s?He=>s(Tr(He[r.index])):r.index;let z=null;if(!s&&a&&(z=function Z6(n,e,t,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=e[yl],c=i[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(n,e,i,r.index)),null!==z)(z.__ngLastListenerFn__||z).__ngNextListenerFn__=o,z.__ngLastListenerFn__=o,f=!1;else{o=vR(r,e,u,o,!1);const He=t.listen(N,i,o);d.push(o,He),l&&l.push(i,Ee,X,X+1)}}else o=vR(r,e,u,o,!1);const v=r.outputs;let E;if(f&&null!==v&&(E=v[i])){const x=E.length;if(x)for(let N=0;N<x;N+=2){const ct=e[E[N]][E[N+1]].subscribe(o),ft=d.length;d.push(o,ct),l&&l.push(i,r.index,ft,-(ft+1))}}}(o,i,i[Mt],s,n,e,r),xe}function mR(n,e,t,r){try{return ao(6,e,t),!1!==t(r)}catch(i){return XM(n,i),!1}finally{ao(7,e,t)}}function vR(n,e,t,r,i){return function o(s){if(s===Function)return r;a0(n.componentOffset>-1?Hi(n.index,e):e);let c=mR(e,t,r,s),l=o.__ngNextListenerFn__;for(;l;)c=mR(e,t,l,s)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&(s.preventDefault(),s.returnValue=!1),c}}function it(n=1){return function o4(n){return(St.lFrame.contextLView=function s4(n,e){for(;n>0;)e=e[_l],n--;return e}(n,St.lFrame.contextLView))[$n]}(n)}function X6(n,e){let t=null;const r=function Cz(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?SM(n,o,!0):Az(r,o))return i}else t=i}return t}function Ke(n){const e=Ae()[zr][Gr];if(!e.projection){const r=e.projection=Md(n?n.length:1,null),i=r.slice();let o=e.child;for(;null!==o;){const s=n?X6(o,n):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}function We(n,e=0,t){const r=Ae(),i=Bt(),o=Ul(i,fn+n,16,null,t||null);null===o.projection&&(o.projection=e),Wy(),32!=(32&o.flags)&&function bG(n,e,t){jx(e[Mt],0,e,t,Nx(n,t,e),Lx(t.parent||e[Gr],t,e))}(i,r,o)}function hc(n,e,t){return m0(n,"",e,"",t),hc}function m0(n,e,t,r,i){const o=Ae(),s=Hl(o,e,t,r);return s!==wt&&zi(Bt(),In(),o,n,s,o[Mt],i,!1),m0}function ug(n,e){return n<<17|e<<2}function Ea(n){return n>>17&32767}function v0(n){return 2|n}function fc(n){return(131068&n)>>2}function y0(n,e){return-131069&n|e<<2}function _0(n){return 1|n}function DR(n,e,t,r,i){const o=n[t+1],s=null===e;let a=r?Ea(o):fc(o),c=!1;for(;0!==a&&(!1===c||s);){const u=n[a+1];r5(n[a],e)&&(c=!0,n[a+1]=r?_0(u):v0(u)),a=r?Ea(u):fc(u)}c&&(n[t+1]=r?v0(o):_0(o))}function r5(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Rl(n,e)>=0}function dg(n,e){return function Ao(n,e,t,r){const i=Ae(),o=Bt(),s=function Cs(n){const e=St.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);o.firstUpdatePass&&function PR(n,e,t,r){const i=n.data;if(null===i[t+1]){const o=i[ci()],s=function OR(n,e){return e>=n.expandoStartIndex}(n,t);(function VR(n,e){return 0!=(n.flags&(e?8:16))})(o,r)&&null===e&&!s&&(e=!1),e=function h5(n,e,t,r){const i=function Ky(n){const e=St.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=zd(t=b0(null,n,e,t,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==i)if(t=b0(i,n,e,t,r),null===o){let c=function f5(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==fc(r))return n[Ea(r)]}(n,e,r);void 0!==c&&Array.isArray(c)&&(c=b0(null,n,e,c[1],r),c=zd(c,e.attrs,r),function p5(n,e,t,r){n[Ea(t?e.classBindings:e.styleBindings)]=r}(n,e,r,c))}else o=function g5(n,e,t){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=zd(r,n[o].hostAttrs,t);return zd(r,e.attrs,t)}(n,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),t}(i,o,e,r),function t5(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Ea(s),c=fc(s);n[r]=t;let u,l=!1;if(Array.isArray(t)?(u=t[1],(null===u||Rl(t,u)>0)&&(l=!0)):u=t,i)if(0!==c){const f=Ea(n[a+1]);n[r+1]=ug(f,a),0!==f&&(n[f+1]=y0(n[f+1],r)),n[a+1]=function J6(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=ug(a,0),0!==a&&(n[a+1]=y0(n[a+1],r)),a=r;else n[r+1]=ug(c,0),0===a?a=r:n[c+1]=y0(n[c+1],r),c=r;l&&(n[r+1]=v0(n[r+1])),DR(n,u,r,!0),DR(n,u,r,!1),function n5(n,e,t,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Rl(o,e)>=0&&(t[r+1]=_0(t[r+1]))}(e,u,n,r,o),s=ug(a,c),o?e.classBindings=s:e.styleBindings=s}(i,o,e,t,s,r)}}(o,n,s,r),e!==wt&&qr(i,s,e)&&function LR(n,e,t,r,i,o,s,a){if(!(3&e.type))return;const c=n.data,l=c[a+1],u=function e5(n){return 1==(1&n)}(l)?$R(c,e,t,i,fc(l),s):void 0;hg(u)||(hg(o)||function Q6(n){return 2==(2&n)}(l)&&(o=$R(c,null,t,i,a,s)),function IG(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:Ii.DashCase;null==i?n.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Ii.Important),n.setStyle(t,r,i,o))}}(r,s,Mp(ci(),t),i,o))}(o,o.data[ci()],i,i[Mt],n,i[s+1]=function y5(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=p(ba(n)))),n}(e,t),r,s)}(n,e,null,!0),dg}function b0(n,e,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],r=zd(r,o.hostAttrs,i),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function zd(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Gi(n,s,!!t||e[++o]))}return void 0===n?null:n}function $R(n,e,t,r,i,o){const s=null===e;let a;for(;i>0;){const c=n[i],l=Array.isArray(c),u=l?c[1]:c,d=null===u;let f=t[i+1];f===wt&&(f=d?Yt:void 0);let v=d?c_(f,r):u===r?f:void 0;if(l&&!hg(v)&&(v=c_(c,r)),hg(v)&&(a=v,s))return a;const E=n[i+1];i=s?Ea(E):fc(E)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=c_(c,r))}return a}function hg(n){return void 0!==n}function oe(n,e=""){const t=Ae(),r=Bt(),i=n+fn,o=r.firstCreatePass?Ul(r,i,1,e,null):r.data[i],s=t[i]=function E_(n,e){return n.createText(e)}(t[Mt],e);zp(r,t,s,o),zo(o,!1)}function on(n){return Kr("",n,""),on}function Kr(n,e,t){const r=Ae(),i=Hl(r,n,e,t);return i!==wt&&function Rs(n,e,t){const r=Mp(e,n);!function Mx(n,e,t){n.setValue(e,t)}(n[Mt],r,t)}(r,ci(),i),Kr}const Jl="en-US";let ak=Jl;function S0(n,e,t,r,i){if(n=m(n),Array.isArray(n))for(let o=0;o<n.length;o++)S0(n[o],e,t,r,i);else{const o=Bt(),s=Ae();let a=uc(n)?n:m(n.provide),c=pM(n);const l=Ar(),u=1048575&l.providerIndexes,d=l.directiveStart,f=l.providerIndexes>>20;if(uc(n)||!n.multi){const v=new Dd(c,i,g),E=C0(a,e,i?u:u+f,d);-1===E?(i_($p(l,s),o,a),w0(o,n,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),t.push(v),s.push(v)):(t[E]=v,s[E]=v)}else{const v=C0(a,e,u+f,d),E=C0(a,e,u,u+f),N=E>=0&&t[E];if(i&&!N||!i&&!(v>=0&&t[v])){i_($p(l,s),o,a);const X=function FW(n,e,t,r,i){const o=new Dd(n,t,g);return o.multi=[],o.index=e,o.componentProviders=0,kk(o,i,r&&!t),o}(i?PW:OW,t.length,i,r,c);!i&&N&&(t[E].providerFactory=X),w0(o,n,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),t.push(X),s.push(X)}else w0(o,n,v>-1?v:E,kk(t[i?E:v],c,!i&&r));!i&&r&&N&&t[E].componentProviders++}}}function w0(n,e,t,r){const i=uc(e),o=function XG(n){return!!n.useClass}(e);if(i||o){const c=(o?m(e.useClass):e).prototype.ngOnDestroy;if(c){const l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const u=l.indexOf(t);-1===u?l.push(t,[r,c]):l[u+1].push(r,c)}else l.push(t,c)}}}function kk(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function C0(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function OW(n,e,t,r){return D0(this.multi,[])}function PW(n,e,t,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=ac(t,t[rt],this.providerFactory.index,r);o=a.slice(0,s),D0(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],D0(i,o);return o}function D0(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function en(n,e=[]){return t=>{t.providersResolver=(r,i)=>function NW(n,e,t){const r=Bt();if(r.firstCreatePass){const i=Do(n);S0(t,r.data,r.blueprint,i,!0),S0(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class eu{}class Nk{}class Ok extends eu{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new QM(this);const r=Bi(e);this._bootstrapComponents=Ms(r.bootstrap),this._r3Injector=MM(e,t,[{provide:eu,useValue:this},{provide:As,useValue:this.componentFactoryResolver}],p(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class T0 extends Nk{constructor(e){super(),this.moduleType=e}create(e){return new Ok(this.moduleType,e)}}class $W extends eu{constructor(e,t,r){super(),this.componentFactoryResolver=new QM(this),this.instance=null;const i=new fM([...e,{provide:eu,useValue:this},{provide:As,useValue:this.componentFactoryResolver}],t||Qp(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function vg(n,e,t=null){return new $W(n,e,t).injector}let VW=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=lM(0,t.type),i=r.length>0?vg([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Je({token:n,providedIn:"environment",factory:()=>new n(Fe(Ts))}),n})();function Pk(n){n.getStandaloneInjector=e=>e.get(VW).getOrCreateStandaloneInjector(n)}function x0(n,e,t){const r=ai()+n,i=Ae();return i[r]===wt?Ko(i,r,t?e.call(t):e()):function Hd(n,e){return n[e]}(i,r)}function yg(n,e,t,r){return function jk(n,e,t,r,i,o){const s=e+t;return qr(n,s,i)?Ko(n,s+1,o?r.call(o,i):r(i)):function Xd(n,e){const t=n[e];return t===wt?void 0:t}(n,s+1)}(Ae(),ai(),n,e,t,r)}function M0(n){return e=>{setTimeout(n,void 0,e)}}const tn=class l8 extends fe{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&"object"==typeof e){var a,c,l;const d=e;i=null===(a=d.next)||void 0===a?void 0:a.bind(d),o=null===(c=d.error)||void 0===c?void 0:c.bind(d),s=null===(l=d.complete)||void 0===l?void 0:l.bind(d)}this.__isAsync&&(o=M0(o),i&&(i=M0(i)),s&&(s=M0(s)));const u=super.subscribe({next:i,error:o,complete:s});return e instanceof ce&&e.add(u),u}};function u8(){return this._results[Symbol.iterator]()}class R0{get changes(){return this._changes||(this._changes=new tn)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=R0.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=u8)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function co(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function D4(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let wi=(()=>{class n{}return n.__NG_ELEMENT_ID__=f8,n})();const d8=wi,h8=class extends d8{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tViews,i=eg(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[Id]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[Go];return null!==s&&(i[Go]=s.createEmbeddedView(r)),X_(r,i,e),new Ud(i)}};function f8(){return _g(Ar(),Ae())}function _g(n,e){return 4&n.type?new h8(e,n,Fl(n,e)):null}let Ci=(()=>{class n{}return n.__NG_ELEMENT_ID__=p8,n})();function p8(){return Yk(Ar(),Ae())}const g8=Ci,qk=class extends g8{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Fl(this._hostTNode,this._hostLView)}get injector(){return new Cl(this._hostTNode,this._hostLView)}get parentInjector(){const e=r_(this._hostTNode,this._hostLView);if(Z1(e)){const t=Fp(e,this._hostLView),r=Pp(e);return new Cl(t[rt].data[r+8],t)}return new Cl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=Kk(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-oi}createEmbeddedView(e,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const s=e.createEmbeddedView(t||{},o);return this.insert(s,i),s}createComponent(e,t,r,i,o){const s=e&&!function xd(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,o=d.environmentInjector||d.ngModuleRef}const c=s?e:new jd(Qt(e)),l=r||this.parentInjector;if(!o&&null==c.ngModule){const f=(s?l:this.parentInjector).get(Ts,null);f&&(o=f)}const u=c.create(l,i,void 0,o);return this.insert(u.hostView,a),u}insert(e,t){const r=e._lView,i=r[rt];if(function KH(n){return Co(n[xn])}(r)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=r[xn],f=new qk(d,d[Gr],d[xn]);f.detach(f.indexOf(e))}}const o=this._adjustIndex(t),s=this._lContainer;!function pG(n,e,t,r){const i=oi+r,o=t.length;r>0&&(t[i-1][wo]=e),r<o-oi?(e[wo]=t[i],cx(t,oi+r,e)):(t.push(e),e[wo]=null),e[xn]=t;const s=e[Id];null!==s&&t!==s&&function gG(n,e){const t=n[El];e[zr]!==e[xn][xn][zr]&&(n[w1]=!0),null===t?n[El]=[e]:t.push(e)}(s,e);const a=e[Go];null!==a&&a.insertView(n),e[At]|=64}(i,r,s,o);const a=D_(o,s),c=r[Mt],l=Gp(c,s[Tp]);return null!==l&&function dG(n,e,t,r,i,o){r[Ss]=i,r[Gr]=e,Fd(n,r,t,1,i,o)}(i,s[Gr],c,r,l,a),e.attachToViewContainerRef(),cx(k0(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=Kk(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=S_(this._lContainer,t);r&&(Bp(k0(this._lContainer),t),kx(r[rt],r))}detach(e){const t=this._adjustIndex(e,-1),r=S_(this._lContainer,t);return r&&null!=Bp(k0(this._lContainer),t)?new Ud(r):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function Kk(n){return n[Ap]}function k0(n){return n[Ap]||(n[Ap]=[])}function Yk(n,e){let t;const r=e[n.index];if(Co(r))t=r;else{let i;if(8&n.type)i=Tr(r);else{const o=e[Mt];i=o.createComment("");const s=ji(n,e);lc(o,Gp(o,s),i,function _G(n,e){return n.nextSibling(e)}(o,s),!1)}e[n.index]=t=qM(r,e,i,n),ng(e,t)}return new qk(t,n,e)}class N0{constructor(e){this.queryList=e,this.matches=null}clone(){return new N0(this.queryList)}setDirty(){this.queryList.setDirty()}}class O0{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){const s=t.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new O0(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==eN(e,t).matches&&this.queries[t].setDirty()}}class Zk{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class P0{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==t?t.push(o):t=[o])}return null!==t?new P0(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class F0{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new F0(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,t,m8(t,o)),this.matchTNodeWithReadOption(e,t,Vp(t,e,o,!1,!1))}else r===wi?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Vp(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Ne||i===Ci||i===wi&&4&t.type)this.addMatch(t.index,-2);else{const o=Vp(t,e,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function m8(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function y8(n,e,t,r){return-1===t?function v8(n,e){return 11&n.type?Fl(n,e):4&n.type?_g(n,e):null}(e,n):-2===t?function _8(n,e,t){return t===Ne?Fl(e,n):t===wi?_g(e,n):t===Ci?Yk(e,n):void 0}(n,e,r):ac(n,n[rt],t,e)}function Xk(n,e,t,r){const i=e[Go].queries[r];if(null===i.matches){const o=n.data,s=t.matches,a=[];for(let c=0;c<s.length;c+=2){const l=s[c];a.push(l<0?null:y8(e,o[l],s[c+1],t.metadata.read))}i.matches=a}return i.matches}function L0(n,e,t,r){const i=n.queries.getByIndex(t),o=i.matches;if(null!==o){const s=Xk(n,e,i,t);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)r.push(s[a/2]);else{const l=o[a+1],u=e[-c];for(let d=oi;d<u.length;d++){const f=u[d];f[Id]===f[xn]&&L0(f[rt],f,l,r)}if(null!==u[El]){const d=u[El];for(let f=0;f<d.length;f++){const v=d[f];L0(v[rt],v,l,r)}}}}}return r}function Mo(n){const e=Ae(),t=Bt(),r=B1();Yy(r+1);const i=eN(t,r);if(n.dirty&&function qH(n){return 4==(4&n[At])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const o=i.crossesNgTemplate?L0(t,e,r,[]):Xk(t,e,i,r);n.reset(o,cz),n.notifyOnChanges()}return!0}return!1}function ks(n,e,t,r){const i=Bt();if(i.firstCreatePass){const o=Ar();Jk(i,new Zk(e,t,r),o.index),function E8(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}Qk(i,Ae(),t)}function Ro(){return function b8(n,e){return n[Go].queries[e].queryList}(Ae(),B1())}function Qk(n,e,t){const r=new R0(4==(4&t));UM(n,e,r,r.destroy),null===e[Go]&&(e[Go]=new O0),e[Go].queries.push(new N0(r))}function Jk(n,e,t){null===n.queries&&(n.queries=new P0),n.queries.track(new F0(e,t))}function eN(n,e){return n.queries.getByIndex(e)}function Eg(...n){}const eh=new lt("Application Initializer");let Ig=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Eg,this.reject=Eg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(Gd(o))t.push(o);else if(g0(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(Fe(eh,8))},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const th=new lt("AppId",{providedIn:"root",factory:function yN(){return`${G0()}${G0()}${G0()}`}});function G0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const _N=new lt("Platform Initializer"),Sg=new lt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),bN=new lt("appBootstrapListener");let j8=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Ns=new lt("LocaleId",{providedIn:"root",factory:()=>Lt(Ns,_t.Optional|_t.SkipSelf)||function H8(){return typeof $localize<"u"&&$localize.locale||Jl}()});class z8{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let EN=(()=>{class n{compileModuleSync(t){return new T0(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=Ms(Bi(t).declarations).reduce((s,a)=>{const c=Qt(a);return c&&s.push(new jd(c)),s},[]);return new z8(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const K8=(()=>Promise.resolve(0))();function z0(n){typeof Zone>"u"?K8.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Me{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new tn(!1),this.onMicrotaskEmpty=new tn(!1),this.onStable=new tn(!1),this.onError=new tn(!1),typeof Zone>"u")throw new R(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Y8(){let n=hn.requestAnimationFrame,e=hn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function Q8(n){const e=()=>{!function X8(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(hn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,q0(n),n.isCheckStableRunning=!0,W0(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),q0(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{try{return wN(n),t.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),CN(n)}},onInvoke:(t,r,i,o,s,a,c)=>{try{return wN(n),t.invoke(i,o,s,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),CN(n)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,q0(n),W0(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Me.isInAngularZone())throw new R(909,!1)}static assertNotInAngularZone(){if(Me.isInAngularZone())throw new R(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Z8,Eg,Eg);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const Z8={};function W0(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function q0(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function wN(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function CN(n){n._nesting--,W0(n)}class J8{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new tn,this.onMicrotaskEmpty=new tn,this.onStable=new tn,this.onError=new tn}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const DN=new lt(""),wg=new lt("");let Z0,K0=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Z0||(function eq(n){Z0=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Me.assertNotInAngularZone(),z0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())z0(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(Fe(Me),Fe(Y0),Fe(wg))},n.\u0275prov=Je({token:n,factory:n.\u0275fac}),n})(),Y0=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){var i,o;return null!==(i=null===(o=Z0)||void 0===o?void 0:o.findTestabilityInTree(this,t,r))&&void 0!==i?i:null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Ia=null;const TN=new lt("AllowMultipleToken"),X0=new lt("PlatformDestroyListeners"),Os=!1;class AN{constructor(e,t){this.name=e,this.token=t}}function MN(n,e,t=[]){const r=`Platform: ${e}`,i=new lt(r);return(o=[])=>{let s=Q0();if(!s||s.injector.get(TN,!1)){const a=[...t,...o,{provide:i,useValue:!0}];n?n(a):function rq(n){if(Ia&&!Ia.get(TN,!1))throw new R(400,!1);Ia=n;const e=n.get(kN);(function xN(n){const e=n.get(_N,null);e&&e.forEach(t=>t())})(n)}(function RN(n=[],e){return Sn.create({name:e,providers:[{provide:V_,useValue:"platform"},{provide:X0,useValue:new Set([()=>Ia=null])},...n]})}(a,r))}return function oq(n){const e=Q0();if(!e)throw new R(401,!1);return e}()}}function Q0(){var n,e;return null!==(n=null===(e=Ia)||void 0===e?void 0:e.get(kN))&&void 0!==n?n:null}let kN=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function ON(n,e){let t;return t="noop"===n?new J8:("zone.js"===n?void 0:n)||new Me(e),t}(null==r?void 0:r.ngZone,function NN(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),o=[{provide:Me,useValue:i}];return i.run(()=>{const s=Sn.create({providers:o,parent:this.injector,name:t.moduleType.name}),a=t.create(s),c=a.injector.get($l,null);if(!c)throw new R(402,!1);return i.runOutsideAngular(()=>{const l=i.onError.subscribe({next:u=>{c.handleError(u)}});a.onDestroy(()=>{Cg(this._modules,a),l.unsubscribe()})}),function PN(n,e,t){try{const r=t();return Gd(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(c,i,()=>{const l=a.injector.get(Ig);return l.runInitializers(),l.donePromise.then(()=>(function ck(n){oo(n,"Expected localeId to be defined"),"string"==typeof n&&(ak=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Ns,Jl)||Jl),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=FN({},r);return function tq(n,e,t){const r=new T0(t);return Promise.resolve(r)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){const r=t.injector.get(nh);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new R(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new R(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(X0,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(Fe(Sn))},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function FN(n,e){return Array.isArray(e)?e.reduce(FN,n):{...n,...e}}let nh=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new Pe(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new Pe(a=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{Me.assertNotInAngularZone(),z0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const l=this._zone.onUnstable.subscribe(()=>{Me.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{c.unsubscribe(),l.unsubscribe()}});this.isStable=function Uo(...n){const e=to(n),t=function no(n,e){return"number"==typeof fr(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?vn(r[0]):eo(t)(Kt(r,e)):Br}(o,s.pipe(function rc(n={}){const{connector:e=(()=>new fe),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,c,l=0,u=!1,d=!1;const f=()=>{null==a||a.unsubscribe(),a=void 0},v=()=>{f(),s=c=void 0,u=d=!1},E=()=>{const x=s;v(),null==x||x.unsubscribe()};return j((x,N)=>{l++,!d&&!u&&f();const X=c=null!=c?c:e();N.add(()=>{l--,0===l&&!d&&!u&&(a=b(E,i))}),X.subscribe(N),!s&&l>0&&(s=new P({next:Ee=>X.next(Ee),error:Ee=>{d=!0,f(),a=b(v,t,Ee),X.error(Ee)},complete:()=>{u=!0,f(),a=b(v,r),X.complete()}}),vn(x).subscribe(s))})(o)}}()))}bootstrap(t,r){const i=t instanceof gM;if(!this._injector.get(Ig).done){!i&&function vl(n){const e=Qt(n)||Hr(n)||ii(n);return null!==e&&e.standalone}(t);throw new R(405,Os)}let s;s=i?t:this._injector.get(As).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function nq(n){return n.isBoundToModule}(s)?void 0:this._injector.get(eu),l=s.create(Sn.NULL,[],r||s.selector,a),u=l.location.nativeElement,d=l.injector.get(DN,null);return null==d||d.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),Cg(this.components,l),null==d||d.unregisterApplication(u)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new R(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Cg(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(bN,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Cg(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new R(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(Fe(Me),Fe(Ts),Fe($l))},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Cg(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let Ge=(()=>{class n{}return n.__NG_ELEMENT_ID__=aq,n})();function aq(n){return function cq(n,e,t){if(wd(n)&&!t){const r=Hi(n.index,e);return new Ud(r,r)}return 47&n.type?new Ud(e[zr],e):null}(Ar(),Ae(),16==(16&n))}class UN{constructor(){}supports(e){return sg(e)}create(e){return new pq(e)}}const fq=(n,e)=>e;class pq{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||fq}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<HN(r,i,o)?t:r,a=HN(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const l=a-i,u=c-i;if(l!=u){for(let f=0;f<l;f++){const v=f<o.length?o[f]:o[f]=0,E=v+f;u<=E&&E<l&&(o[f]=v+1)}o[s.previousIndex]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!sg(e))throw new R(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function H6(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new gq(t,r),o,i),e}_verifyReinsertion(e,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new jN),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new jN),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class gq{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class mq{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class jN{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new mq,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function HN(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class GN{constructor(){}supports(e){return e instanceof Map||d0(e)}create(){return new vq}}class vq{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||d0(e)))throw new R(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new yq(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class yq{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function zN(){return new rh([new UN])}let rh=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||zN()),deps:[[n,new Rd,new li]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new R(901,!1)}}return n.\u0275prov=Je({token:n,providedIn:"root",factory:zN}),n})();function WN(){return new ih([new GN])}let ih=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||WN()),deps:[[n,new Rd,new li]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new R(901,!1)}}return n.\u0275prov=Je({token:n,providedIn:"root",factory:WN}),n})();const Eq=MN(null,"core",[]);let Iq=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(Fe(nh))},n.\u0275mod=jr({type:n}),n.\u0275inj=Dr({}),n})();function ru(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let rb=null;function Ps(){return rb}class Cq{}const Yr=new lt("DocumentToken");let ib=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:function(){return function Dq(){return Fe(qN)}()},providedIn:"platform"}),n})();const Tq=new lt("Location Initialized");let qN=(()=>{class n extends ib{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ps().getBaseHref(this._doc)}onPopState(t){const r=Ps().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Ps().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){KN()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){KN()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(Fe(Yr))},n.\u0275prov=Je({token:n,factory:function(){return function Aq(){return new qN(Fe(Yr))}()},providedIn:"platform"}),n})();function KN(){return!!window.history.pushState}function ob(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function YN(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Fs(n){return n&&"?"!==n[0]?"?"+n:n}let Ls=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:function(){return Lt(XN)},providedIn:"root"}),n})();const ZN=new lt("appBaseHref");let XN=(()=>{class n extends Ls{constructor(t,r){var i,o,s;super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=null!==(i=null!==(o=null!=r?r:this._platformLocation.getBaseHrefFromDOM())&&void 0!==o?o:null===(s=Lt(Yr).location)||void 0===s?void 0:s.origin)&&void 0!==i?i:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ob(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Fs(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+Fs(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+Fs(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){var r,i;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(Fe(ib),Fe(ZN,8))},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xq=(()=>{class n extends Ls{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=ob(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Fs(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Fs(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){var r,i;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(Fe(ib),Fe(ZN,8))},n.\u0275prov=Je({token:n,factory:n.\u0275fac}),n})(),oh=(()=>{class n{constructor(t){this._subject=new tn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function kq(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(YN(QN(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){var t;null===(t=this._urlChangeSubscription)||void 0===t||t.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Fs(r))}normalize(t){return n.stripTrailingSlash(function Rq(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,QN(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Fs(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Fs(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){var r,i;null===(r=(i=this._locationStrategy).historyGo)||void 0===r||r.call(i,t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);var i;this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(null===(i=this._urlChangeSubscription)||void 0===i||i.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Fs,n.joinWithSlash=ob,n.stripTrailingSlash=YN,n.\u0275fac=function(t){return new(t||n)(Fe(Ls))},n.\u0275prov=Je({token:n,factory:function(){return function Mq(){return new oh(Fe(Ls))}()},providedIn:"root"}),n})();function QN(n){return n.replace(/\/index.html$/,"")}const gb=/\s+/,aO=[];let iu=(()=>{class n{constructor(t,r,i,o){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this.initialClasses=aO,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(gb):aO}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(gb):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,Boolean(t[r]));this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(gb).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(g(rh),g(ih),g(Ne),g(xs))},n.\u0275dir=ut({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class v7{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Wi=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new v7(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),uO(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{uO(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(g(Ci),g(wi),g(rh))},n.\u0275dir=ut({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function uO(n,e){n.context.$implicit=e.item}let Ti=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new _7,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){dO("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){dO("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(g(Ci),g(wi))},n.\u0275dir=ut({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class _7{constructor(){this.$implicit=null,this.ngIf=null}}function dO(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${p(e)}'.`)}let yb=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:o,ngTemplateOutletInjector:s}=this;this._viewRef=r.createEmbeddedView(i,o,s?{injector:s}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(g(Ci))},n.\u0275dir=ut({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[si]}),n})(),pO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jr({type:n}),n.\u0275inj=Dr({}),n})();const W7="server";let Z7=(()=>{class n{}return n.\u0275prov=Je({token:n,providedIn:"root",factory:()=>new X7(Fe(Yr),window)}),n})();class X7{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Q7(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=mO(this.window.history)||mO(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function mO(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class DK extends Cq{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Sb extends DK{static makeCurrent(){!function wq(n){rb||(rb=n)}(new Sb)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function TK(){return lh=lh||document.querySelector("base"),lh?lh.getAttribute("href"):null}();return null==t?null:function AK(n){Vg=Vg||document.createElement("a"),Vg.setAttribute("href",n);const e=Vg.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){lh=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function g7(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let Vg,lh=null;const EO=new lt("TRANSITION_ID"),MK=[{provide:eh,useFactory:function xK(n,e,t){return()=>{t.get(Ig).donePromise.then(()=>{const r=Ps(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[EO,Yr,Sn],multi:!0}];let kK=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac}),n})();const Bg=new lt("EventManagerPlugins");let Ug=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const s=i[o];if(s.supports(t))return this._eventNameToPlugin.set(t,s),s}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(Fe(Bg),Fe(Me))},n.\u0275prov=Je({token:n,factory:n.\u0275fac}),n})();class IO{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Ps().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let SO=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){var i;const o=this.usageCount;let s=null!==(i=o.get(t))&&void 0!==i?i:0;return s+=r,s>0?o.set(t,s):o.delete(t),s}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac}),n})(),uh=(()=>{class n extends SO{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef,i=r.get(t);null==i||i.forEach(o=>o.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const o=this.styleRef.get(r);o?o.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(Fe(Yr))},n.\u0275prov=Je({token:n,factory:n.\u0275fac}),n})();const wb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Cb=/%COMP%/g,DO=new lt("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function TO(n,e){return e.flat(100).map(t=>t.replace(Cb,n))}function AO(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Db=(()=>{class n{constructor(t,r,i,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=o,this.rendererByCompId=new Map,this.defaultRenderer=new Tb(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof RO?i.applyToHost(t):i instanceof Ab&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.eventManager,a=this.sharedStylesHost,c=this.removeStylesOnCompDestory;switch(r.encapsulation){case Ho.Emulated:o=new RO(s,a,r,this.appId,c);break;case Ho.ShadowDom:return new VK(s,a,t,r);default:o=new Ab(s,a,r,c)}o.onDestroy=()=>i.delete(r.id),i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(Fe(Ug),Fe(uh),Fe(th),Fe(DO))},n.\u0275prov=Je({token:n,factory:n.\u0275fac}),n})();class Tb{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(wb[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(MO(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(MO(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=wb[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=wb[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Ii.DashCase|Ii.Important)?e.style.setProperty(t,r,i&Ii.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Ii.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,AO(r)):this.eventManager.addEventListener(e,t,AO(r))}}function MO(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class VK extends Tb{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=TO(i.id,i.styles);for(const s of o){const a=document.createElement("style");a.textContent=s,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ab extends Tb{constructor(e,t,r,i,o=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=TO(o,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){var e;this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount)&&(null===(e=this.onDestroy)||void 0===e||e.call(this))}}class RO extends Ab{constructor(e,t,r,i,o){const s=i+"-"+r.id;super(e,t,r,o,s),this.contentAttr=function FK(n){return"_ngcontent-%COMP%".replace(Cb,n)}(s),this.hostAttr=function LK(n){return"_nghost-%COMP%".replace(Cb,n)}(s)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let BK=(()=>{class n extends IO{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(Fe(Yr))},n.\u0275prov=Je({token:n,factory:n.\u0275fac}),n})();const kO=["alt","control","meta","shift"],UK={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jK={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let HK=(()=>{class n extends IO{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ps().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),kO.forEach(l=>{const u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,0!=r.length||0===o.length)return null;const c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=UK[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),kO.forEach(s=>{s!==i&&(0,jK[s])(t)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(Fe(Yr))},n.\u0275prov=Je({token:n,factory:n.\u0275fac}),n})();const OO=[{provide:Sg,useValue:"browser"},{provide:_N,useValue:function GK(){Sb.makeCurrent()},multi:!0},{provide:Yr,useFactory:function WK(){return function TG(n){M_=n}(document),document},deps:[]}],qK=MN(Eq,"browser",OO),PO=new lt(""),FO=[{provide:wg,useClass:class RK{addToWindow(e){hn.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},hn.getAllAngularTestabilities=()=>e.getAllTestabilities(),hn.getAllAngularRootElements=()=>e.getAllRootElements(),hn.frameworkStabilizers||(hn.frameworkStabilizers=[]),hn.frameworkStabilizers.push(r=>{const i=hn.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(c){s=s||c,o--,0==o&&r(s)};i.forEach(function(c){c.whenStable(a)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?Ps().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}},deps:[]},{provide:DN,useClass:K0,deps:[Me,Y0,wg]},{provide:K0,useClass:K0,deps:[Me,Y0,wg]}],LO=[{provide:V_,useValue:"root"},{provide:$l,useFactory:function zK(){return new $l},deps:[]},{provide:Bg,useClass:BK,multi:!0,deps:[Yr,Me,Sg]},{provide:Bg,useClass:HK,multi:!0,deps:[Yr]},{provide:Db,useClass:Db,deps:[Ug,uh,th,DO]},{provide:vM,useExisting:Db},{provide:SO,useExisting:uh},{provide:uh,useClass:uh,deps:[Yr]},{provide:Ug,useClass:Ug,deps:[Bg,Me]},{provide:class J7{},useClass:kK,deps:[]},[]];let KK=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:th,useValue:t.appId},{provide:EO,useExisting:th},MK]}}}return n.\u0275fac=function(t){return new(t||n)(Fe(PO,12))},n.\u0275mod=jr({type:n}),n.\u0275inj=Dr({providers:[...LO,...FO],imports:[pO,Iq]}),n})(),$O=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(Fe(Yr))},n.\u0275prov=Je({token:n,factory:function(t){let r=null;return r=t?new t:function ZK(){return new $O(Fe(Yr))}(),r},providedIn:"root"}),n})();function mt(...n){return Kt(n,to(n))}typeof window<"u"&&window;class qi extends fe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const jg=Re(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:i9}=Array,{getPrototypeOf:o9,prototype:s9,keys:a9}=Object;function UO(n){if(1===n.length){const e=n[0];if(i9(e))return{args:e,keys:null};if(function c9(n){return n&&"object"==typeof n&&o9(n)===s9}(e)){const t=a9(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:l9}=Array;function Rb(n){return be(e=>function u9(n,e){return l9(e)?n(...e):n(e)}(n,e))}function jO(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function HO(...n){const e=to(n),t=pa(n),{args:r,keys:i}=UO(n);if(0===r.length)return Kt([],e);const o=new Pe(function d9(n,e,t=k){return r=>{GO(e,()=>{const{length:i}=n,o=new Array(i);let s=i,a=i;for(let c=0;c<i;c++)GO(e,()=>{const l=Kt(n[c],e);let u=!1;l.subscribe(_e(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>jO(i,s):k));return t?o.pipe(Rb(t)):o}function GO(n,e,t){n?ni(t,n,e):e()}function kb(...n){return function h9(){return eo(1)}()(Kt(n,to(n)))}function zO(n){return new Pe(e=>{vn(n()).subscribe(e)})}function dh(n,e){const t=te(n)?n:()=>n,r=i=>i.error(t());return new Pe(e?i=>e.schedule(r,0,i):r)}function Nb(){return j((n,e)=>{let t=null;n._refCount++;const r=_e(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class WO extends Pe{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,ne(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ce;const t=this.getSubject();e.add(this.source.subscribe(_e(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ce.EMPTY)}return e}refCount(){return Nb()(this)}}function fo(n,e){return j((t,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();t.subscribe(_e(r,c=>{null==i||i.unsubscribe();let l=0;const u=o++;vn(n(c,u)).subscribe(i=_e(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function hh(n){return n<=0?()=>Br:j((e,t)=>{let r=0;e.subscribe(_e(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Qo(n,e){return j((t,r)=>{let i=0;t.subscribe(_e(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Hg(n){return j((e,t)=>{let r=!1;e.subscribe(_e(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function qO(n=p9){return j((e,t)=>{let r=!1;e.subscribe(_e(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function p9(){return new jg}function wa(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Qo((i,o)=>n(i,o,r)):k,hh(1),t?Hg(e):qO(()=>new jg))}function mc(n,e){return te(e)?yn(n,e,1):yn(n,1)}function Mr(n,e,t){const r=te(n)||e||t?{next:n,error:e,complete:t}:n;return r?j((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(_e(o,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),o.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),o.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),o.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):k}function Vs(n){return j((e,t)=>{let o,r=null,i=!1;r=e.subscribe(_e(t,void 0,void 0,s=>{o=vn(n(s,Vs(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function KO(n,e){return j(function g9(n,e,t,r,i){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(_e(s,u=>{const d=l++;c=a?n(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}(n,e,arguments.length>=2,!0))}function Ob(n){return n<=0?()=>Br:j((e,t)=>{let r=[];e.subscribe(_e(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function YO(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Qo((i,o)=>n(i,o,r)):k,Ob(1),t?Hg(e):qO(()=>new jg))}function Pb(n){return j((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Ct="primary",fh=Symbol("RouteTitle");class y9{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ou(n){return new y9(n)}function _9(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Jo(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!ZO(n[i],e[i]))return!1;return!0}function ZO(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function XO(n){return Array.prototype.concat.apply([],n)}function QO(n){return n.length>0?n[n.length-1]:null}function Rr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Ca(n){return g0(n)?n:Gd(n)?Kt(Promise.resolve(n)):mt(n)}const Gg=!1,E9={exact:function tP(n,e,t){if(!vc(n.segments,e.segments)||!zg(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!tP(n.children[r],e.children[r],t))return!1;return!0},subset:nP},JO={exact:function I9(n,e){return Jo(n,e)},subset:function S9(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>ZO(n[t],e[t]))},ignored:()=>!0};function eP(n,e,t){return E9[t.paths](n.root,e.root,t.matrixParams)&&JO[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function nP(n,e,t){return rP(n,e,e.segments,t)}function rP(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!vc(i,t)||e.hasChildren()||!zg(i,t,r))}if(n.segments.length===t.length){if(!vc(n.segments,t)||!zg(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!nP(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(vc(n.segments,i)&&zg(n.segments,i,r)&&n.children[Ct])&&rP(n.children[Ct],e,o,r)}}function zg(n,e,t){return e.every((r,i)=>JO[t](n[i].parameters,r.parameters))}class Da{constructor(e=new Rt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ou(this.queryParams)),this._queryParamMap}toString(){return D9.serialize(this)}}class Rt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Rr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wg(this)}}class ph{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ou(this.parameters)),this._parameterMap}toString(){return sP(this)}}function vc(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let su=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:function(){return new Fb},providedIn:"root"}),n})();class Fb{parse(e){const t=new P9(e);return new Da(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${gh(e.root,!0)}`,r=function x9(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${qg(t)}=${qg(i)}`).join("&"):`${qg(t)}=${qg(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function T9(n){return encodeURI(n)}(e.fragment)}`:""}`}}const D9=new Fb;function Wg(n){return n.segments.map(e=>sP(e)).join("/")}function gh(n,e){if(!n.hasChildren())return Wg(n);if(e){const t=n.children[Ct]?gh(n.children[Ct],!1):"",r=[];return Rr(n.children,(i,o)=>{o!==Ct&&r.push(`${o}:${gh(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function C9(n,e){let t=[];return Rr(n.children,(r,i)=>{i===Ct&&(t=t.concat(e(r,i)))}),Rr(n.children,(r,i)=>{i!==Ct&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Ct?[gh(n.children[Ct],!1)]:[`${i}:${gh(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ct]?`${Wg(n)}/${t[0]}`:`${Wg(n)}/(${t.join("//")})`}}function iP(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qg(n){return iP(n).replace(/%3B/gi,";")}function Lb(n){return iP(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Kg(n){return decodeURIComponent(n)}function oP(n){return Kg(n.replace(/\+/g,"%20"))}function sP(n){return`${Lb(n.path)}${function A9(n){return Object.keys(n).map(e=>`;${Lb(e)}=${Lb(n[e])}`).join("")}(n.parameters)}`}const M9=/^[^\/()?;=#]+/;function Yg(n){const e=n.match(M9);return e?e[0]:""}const R9=/^[^=?&#]+/,N9=/^[^&#]+/;class P9{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Rt([],{}):new Rt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ct]=new Rt(e,t)),r}parseSegment(){const e=Yg(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new R(4009,Gg);return this.capture(e),new ph(Kg(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Yg(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Yg(this.remaining);i&&(r=i,this.capture(r))}e[Kg(t)]=Kg(r)}parseQueryParam(e){const t=function k9(n){const e=n.match(R9);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function O9(n){const e=n.match(N9);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=oP(t),o=oP(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Yg(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new R(4010,Gg);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Ct);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[Ct]:new Rt([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new R(4011,Gg)}}function $b(n){return n.segments.length>0?new Rt([],{[Ct]:n}):n}function Zg(n){const e={};for(const r of Object.keys(n.children)){const o=Zg(n.children[r]);(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function F9(n){if(1===n.numberOfChildren&&n.children[Ct]){const e=n.children[Ct];return new Rt(n.segments.concat(e.segments),e.children)}return n}(new Rt(n.segments,e))}function yc(n){return n instanceof Da}const Vb=!1;function L9(n,e,t,r,i){var o;if(0===t.length)return au(e.root,e.root,e.root,r,i);const s=function dP(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new uP(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Rr(o.outlets,(c,l)=>{a[l]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new uP(t,e,r)}(t);return s.toRoot()?au(e.root,e.root,new Rt([],{}),r,i):function a(l){var u;const d=function V9(n,e,t,r){if(n.isAbsolute)return new cu(e.root,!0,0);if(-1===r)return new cu(t,t===e.root,0);return function hP(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new R(4005,Vb&&"Invalid number of '../'");i=r.segments.length}return new cu(r,!1,i-o)}(t,r+(mh(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,null===(u=n.snapshot)||void 0===u?void 0:u._urlSegment,l),f=d.processChildren?lu(d.segmentGroup,d.index,s.commands):Bb(d.segmentGroup,d.index,s.commands);return au(e.root,d.segmentGroup,f,r,i)}(null===(o=n.snapshot)||void 0===o?void 0:o._lastPathIndex)}function mh(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function vh(n){return"object"==typeof n&&null!=n&&n.outlets}function au(n,e,t,r,i){let s,o={};r&&Rr(r,(c,l)=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),s=n===e?t:lP(n,e,t);const a=$b(Zg(s));return new Da(a,o,i)}function lP(n,e,t){const r={};return Rr(n.children,(i,o)=>{r[o]=i===e?t:lP(i,e,t)}),new Rt(n.segments,r)}class uP{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&mh(r[0]))throw new R(4003,Vb&&"Root segment cannot have matrix parameters");const i=r.find(vh);if(i&&i!==QO(r))throw new R(4004,Vb&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class cu{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Bb(n,e,t){if(n||(n=new Rt([],{})),0===n.segments.length&&n.hasChildren())return lu(n,e,t);const r=function U9(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const s=n.segments[i],a=t[r];if(vh(a))break;const c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!pP(c,l,s))return o;r+=2}else{if(!pP(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new Rt(n.segments.slice(0,r.pathIndex),{});return o.children[Ct]=new Rt(n.segments.slice(r.pathIndex),n.children),lu(o,0,i)}return r.match&&0===i.length?new Rt(n.segments,{}):r.match&&!n.hasChildren()?Ub(n,e,t):r.match?lu(n,0,i):Ub(n,e,t)}function lu(n,e,t){if(0===t.length)return new Rt(n.segments,{});{const r=function B9(n){return vh(n[0])?n[0].outlets:{[Ct]:n}}(t),i={};return!r[Ct]&&n.children[Ct]&&1===n.numberOfChildren&&0===n.children[Ct].segments.length?lu(n.children[Ct],e,t):(Rr(r,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=Bb(n.children[s],e,o))}),Rr(n.children,(o,s)=>{void 0===r[s]&&(i[s]=o)}),new Rt(n.segments,i))}}function Ub(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(vh(o)){const c=j9(o.outlets);return new Rt(r,c)}if(0===i&&mh(t[0])){r.push(new ph(n.segments[e].path,fP(t[0]))),i++;continue}const s=vh(o)?o.outlets[Ct]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&mh(a)?(r.push(new ph(s,fP(a))),i+=2):(r.push(new ph(s,{})),i++)}return new Rt(r,{})}function j9(n){const e={};return Rr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Ub(new Rt([],{}),0,t))}),e}function fP(n){const e={};return Rr(n,(t,r)=>e[r]=`${t}`),e}function pP(n,e,t){return n==t.path&&Jo(e,t.parameters)}const yh="imperative";class es{constructor(e,t){this.id=e,this.url=t}}class Xg extends es{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _c extends es{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Qg extends es{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Jg extends es{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class jb extends es{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class H9 extends es{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class G9 extends es{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class z9 extends es{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class W9 extends es{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class q9 extends es{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class K9{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Y9{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Z9{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class X9{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Q9{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class J9{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gP{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let nY=(()=>{class n{createUrlTree(t,r,i,o,s,a){return L9(t||r.root,i,o,s,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac}),n})(),iY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:function(e){return nY.\u0275fac(e)},providedIn:"root"}),n})();class mP{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Hb(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Hb(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Gb(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Gb(e,this._root).map(t=>t.value)}}function Hb(n,e){if(n===e.value)return e;for(const t of e.children){const r=Hb(n,t);if(r)return r}return null}function Gb(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Gb(n,t);if(r.length)return r.unshift(e),r}return[]}class Bs{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function uu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class vP extends mP{constructor(e,t){super(e),this.snapshot=t,zb(this,e)}toString(){return this.snapshot.toString()}}function yP(n,e){const t=function oY(n,e){const s=new em([],{},{},"",{},Ct,e,null,n.root,-1,{});return new bP("",new Bs(s,[]))}(n,e),r=new qi([new ph("",{})]),i=new qi({}),o=new qi({}),s=new qi({}),a=new qi(""),c=new Us(r,i,s,a,o,Ct,e,t.root);return c.snapshot=t.root,new vP(new Bs(c,[]),t)}class Us{constructor(e,t,r,i,o,s,a,c){var l,u;this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.title=null!==(l=null===(u=this.data)||void 0===u?void 0:u.pipe(be(d=>d[fh])))&&void 0!==l?l:mt(void 0),this._futureSnapshot=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(be(e=>ou(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(be(e=>ou(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function _P(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function sY(n){return n.reduce((e,t)=>{var r;return{params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...null===(r=t.routeConfig)||void 0===r?void 0:r.data,...t._resolvedData}}},{params:{},data:{},resolve:{}})}(t.slice(r))}class em{get title(){var e;return null===(e=this.data)||void 0===e?void 0:e[fh]}constructor(e,t,r,i,o,s,a,c,l,u,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._urlSegment=l,this._lastPathIndex=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ou(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ou(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class bP extends mP{constructor(e,t){super(t),this.url=e,zb(this,t)}toString(){return EP(this._root)}}function zb(n,e){e.value._routerState=n,e.children.forEach(t=>zb(n,t))}function EP(n){const e=n.children.length>0?` { ${n.children.map(EP).join(", ")} } `:"";return`${n.value}${e}`}function Wb(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Jo(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Jo(e.params,t.params)||n.params.next(t.params),function b9(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Jo(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Jo(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function qb(n,e){const t=Jo(n.params,e.params)&&function w9(n,e){return vc(n,e)&&n.every((t,r)=>Jo(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||qb(n.parent,e.parent))}function _h(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function cY(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return _h(n,r,i);return _h(n,r)})}(n,e,t);return new Bs(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>_h(n,a)),s}}const r=function lY(n){return new Us(new qi(n.url),new qi(n.params),new qi(n.queryParams),new qi(n.fragment),new qi(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>_h(n,o));return new Bs(r,i)}}const Kb="ngNavigationCancelingError";function IP(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=yc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=SP(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function SP(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Kb]=!0,r.cancellationCode=e,t&&(r.url=t),r}function wP(n){return CP(n)&&yc(n.url)}function CP(n){return n&&n[Kb]}class uY{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new bc,this.attachRef=null}}let bc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new uY,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const tm=!1;let DP=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ct,this.activateEvents=new tn,this.deactivateEvents=new tn,this.attachEvents=new tn,this.detachEvents=new tn,this.parentContexts=Lt(bc),this.location=Lt(Ci),this.changeDetector=Lt(Ge),this.environmentInjector=Lt(Ts)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){var r;return(null===(r=this.parentContexts.getContext(t))||void 0===r?void 0:r.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);null!=t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new R(4012,tm);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new R(4012,tm);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new R(4012,tm);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new R(4013,tm);this._activatedRoute=t;const i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new dY(t,a,i.injector);if(r&&function hY(n){return!!n.resolveComponentFactory}(r)){const l=r.resolveComponentFactory(s);this.activated=i.createComponent(l,i.length,c)}else this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:null!=r?r:this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ut({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[si]}),n})();class dY{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Us?this.route:e===bc?this.childContexts:this.parent.get(e,t)}}let Yb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Se({type:n,selectors:[["ng-component"]],standalone:!0,features:[Pk],decls:1,vars:0,template:function(t,r){1&t&&Ve(0,"router-outlet")},dependencies:[DP],encapsulation:2}),n})();function TP(n,e){var t;return n.providers&&!n._injector&&(n._injector=vg(n.providers,e,`Route: ${n.path}`)),null!==(t=n._injector)&&void 0!==t?t:e}function Xb(n){const e=n.children&&n.children.map(Xb),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ct&&(t.component=Yb),t}function po(n){return n.outlet||Ct}function AP(n,e){const t=n.filter(r=>po(r)===e);return t.push(...n.filter(r=>po(r)!==e)),t}function bh(n){var e;if(!n)return null;if(null!==(e=n.routeConfig)&&void 0!==e&&e._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const r=t.routeConfig;if(null!=r&&r._loadedInjector)return r._loadedInjector;if(null!=r&&r._injector)return r._injector}return null}class vY{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Wb(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=uu(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Rr(i,(o,s)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=uu(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=uu(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=uu(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new J9(o.value.snapshot))}),e.children.length&&this.forwardEvent(new X9(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(Wb(i),i===o)if(i.component){const a=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,a.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const a=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(c.contexts),a.attachRef=c.componentRef,a.route=c.route.value,a.outlet&&a.outlet.attach(c.componentRef,c.route.value),Wb(c.route.value),this.activateChildRoutes(e,null,a.children)}else{var s;const c=bh(i.snapshot),l=null!==(s=null==c?void 0:c.get(As))&&void 0!==s?s:null;a.attachRef=null,a.route=i,a.resolver=l,a.injector=c,a.outlet&&a.outlet.activateWith(i,a.injector),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,r)}}class xP{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class nm{constructor(e,t){this.component=e,this.route=t}}function yY(n,e,t){const r=n._root;return Eh(r,e?e._root:null,t,[r.value])}function du(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function IH(n){return null!==bp(n)}(n)?e.get(n):n:r}function Eh(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=uu(e);return n.children.forEach(s=>{(function bY(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function EY(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!vc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!vc(n.url,e.url)||!Jo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qb(n,e)||!Jo(n.queryParams,e.queryParams);default:return!qb(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new xP(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Eh(n,e,o.component?a?a.children:null:t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new nm(a.outlet.component,s))}else s&&Ih(e,a,i),i.canActivateChecks.push(new xP(r)),Eh(n,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Rr(o,(s,a)=>Ih(s,t.getContext(a),i)),i}function Ih(n,e,t){const r=uu(n),i=n.value;Rr(r,(o,s)=>{Ih(o,i.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new nm(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Sh(n){return"function"==typeof n}function Qb(n){return n instanceof jg||"EmptyError"===(null==n?void 0:n.name)}const rm=Symbol("INITIAL_VALUE");function hu(){return fo(n=>HO(n.map(e=>e.pipe(hh(1),function f9(...n){const e=to(n);return j((t,r)=>{(e?kb(n,t,e):kb(n,t)).subscribe(r)})}(rm)))).pipe(be(e=>{for(const t of e)if(!0!==t){if(t===rm)return rm;if(!1===t||t instanceof Da)return t}return!0}),Qo(e=>e!==rm),hh(1)))}function MP(n){return function K(...n){return De(n)}(Mr(e=>{if(yc(e))throw IP(0,e)}),be(e=>!0===e))}const Jb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function RP(n,e,t,r,i){const o=eE(n,e,t);return o.matched?function $Y(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?mt(i.map(s=>{const a=du(s,n);return Ca(function TY(n){return n&&Sh(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(hu(),MP()):mt(!0)}(r=TP(e,r),e,t).pipe(be(s=>!0===s?o:{...Jb})):mt(o)}function eE(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Jb}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||_9)(t,n,e);if(!o)return{...Jb};const s={};Rr(o.posParams,(c,l)=>{s[l]=c.path});const a=o.consumed.length>0?{...s,...o.consumed[o.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:a,positionalParamSegments:null!==(r=o.posParams)&&void 0!==r?r:{}}}function im(n,e,t,r){if(t.length>0&&function UY(n,e,t){return t.some(r=>om(n,e,r)&&po(r)!==Ct)}(n,t,r)){const o=new Rt(e,function BY(n,e,t,r){const i={};i[Ct]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const o of t)if(""===o.path&&po(o)!==Ct){const s=new Rt([],{});s._sourceSegment=n,s._segmentIndexShift=e.length,i[po(o)]=s}return i}(n,e,r,new Rt(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function jY(n,e,t){return t.some(r=>om(n,e,r))}(n,t,r)){const o=new Rt(n.segments,function VY(n,e,t,r,i){const o={};for(const s of r)if(om(n,t,s)&&!i[po(s)]){const a=new Rt([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,o[po(s)]=a}return{...i,...o}}(n,e,t,r,n.children));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const i=new Rt(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function om(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function kP(n,e,t,r){return!!(po(n)===r||r!==Ct&&om(e,t,n))&&("**"===n.path||eE(e,n,t).matched)}function NP(n,e,t){return 0===e.length&&!n.children[t]}const sm=!1;class am{constructor(e){this.segmentGroup=e||null}}class OP{constructor(e){this.urlTree=e}}function wh(n){return dh(new am(n))}function PP(n){return dh(new OP(n))}class WY{constructor(e,t,r,i,o){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0}apply(){const e=im(this.urlTree.root,[],[],this.config).segmentGroup,t=new Rt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Ct).pipe(be(o=>this.createUrlTree(Zg(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Vs(o=>{if(o instanceof OP)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof am?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Ct).pipe(be(i=>this.createUrlTree(Zg(i),e.queryParams,e.fragment))).pipe(Vs(i=>{throw i instanceof am?this.noMatchError(i):i}))}noMatchError(e){return new R(4002,sm)}createUrlTree(e,t,r){const i=$b(e);return new Da(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(be(o=>new Rt([],o))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Kt(i).pipe(mc(o=>{const s=r.children[o],a=AP(t,o);return this.expandSegmentGroup(e,a,s,o).pipe(be(c=>({segment:c,outlet:o})))}),KO((o,s)=>(o[s.outlet]=s.segment,o),{}),YO())}expandSegment(e,t,r,i,o,s){return Kt(r).pipe(mc(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,o,s).pipe(Vs(l=>{if(l instanceof am)return mt(null);throw l}))),wa(a=>!!a),Vs((a,c)=>{if(Qb(a))return NP(t,i,o)?mt(new Rt([],{})):wh(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,o,s,a){return kP(i,t,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s):wh(t):wh(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?PP(o):this.lineralizeSegments(r,o).pipe(yn(s=>{const a=new Rt(s,{});return this.expandSegment(e,a,t,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:u}=eE(t,i,o);if(!a)return wh(t);const d=this.applyRedirectCommands(c,i.redirectTo,u);return i.redirectTo.startsWith("/")?PP(d):this.lineralizeSegments(i,d).pipe(yn(f=>this.expandSegment(e,t,r,f.concat(l),s,!1)))}matchSegmentAgainstRoute(e,t,r,i,o){return"**"===r.path?(e=TP(r,e),r.loadChildren?(r._loadedRoutes?mt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(be(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new Rt(i,{})))):mt(new Rt(i,{}))):RP(t,r,i,e).pipe(fo(({matched:s,consumedSegments:a,remainingSegments:c})=>{var l;return s?(e=null!==(l=r._injector)&&void 0!==l?l:e,this.getChildConfig(e,r,i).pipe(yn(d=>{var f;const v=null!==(f=d.injector)&&void 0!==f?f:e,E=d.routes,{segmentGroup:x,slicedSegments:N}=im(t,a,c,E),X=new Rt(x.segments,x.children);if(0===N.length&&X.hasChildren())return this.expandChildren(v,E,X).pipe(be(ct=>new Rt(a,ct)));if(0===E.length&&0===N.length)return mt(new Rt(a,{}));const Ee=po(r)===o;return this.expandSegment(v,X,E,N,Ee?Ct:o,!0).pipe(be(He=>new Rt(a.concat(He.segments),He.children)))}))):wh(t)}))}getChildConfig(e,t,r){return t.children?mt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?mt({routes:t._loadedRoutes,injector:t._loadedInjector}):function LY(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?mt(!0):mt(i.map(s=>{const a=du(s,n);return Ca(function SY(n){return n&&Sh(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(hu(),MP())}(e,t,r).pipe(yn(i=>i?this.configLoader.loadChildren(e,t).pipe(Mr(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function GY(n){return dh(SP(sm,3))}())):mt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return mt(r);if(i.numberOfChildren>1||!i.children[Ct])return e.redirectTo,dh(new R(4e3,sm));i=i.children[Ct]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new Da(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Rr(e,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[o]=t[a]}else r[o]=i}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let s={};return Rr(t.children,(a,c)=>{s[c]=this.createSegmentGroup(e,a,r,i)}),new Rt(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new R(4001,sm);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class KY{}class XY{constructor(e,t,r,i,o,s,a){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a}recognize(){const e=im(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Ct).pipe(be(t=>{if(null===t)return null;const r=new em([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ct,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Bs(r,t),o=new bP(this.url,i);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(e){const t=e.value,r=_P(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return Kt(Object.keys(r.children)).pipe(mc(i=>{const o=r.children[i],s=AP(t,i);return this.processSegmentGroup(e,s,o,i)}),KO((i,o)=>i&&o?(i.push(...o),i):null),function m9(n,e=!1){return j((t,r)=>{let i=0;t.subscribe(_e(r,o=>{const s=n(o,i++);(s||e)&&r.next(o),!s&&r.complete()}))})}(i=>null!==i),Hg(null),YO(),be(i=>{if(null===i)return null;const o=LP(i);return function QY(n){n.sort((e,t)=>e.value.outlet===Ct?-1:t.value.outlet===Ct?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}))}processSegment(e,t,r,i,o){return Kt(t).pipe(mc(s=>{var a;return this.processSegmentAgainstRoute(null!==(a=s._injector)&&void 0!==a?a:e,s,r,i,o)}),wa(s=>!!s),Vs(s=>{if(Qb(s))return NP(r,i,o)?mt([]):mt(null);throw s}))}processSegmentAgainstRoute(e,t,r,i,o){if(t.redirectTo||!kP(t,r,i,o))return mt(null);let s;if("**"===t.path){var a,c;const l=i.length>0?QO(i).parameters:{},u=VP(r)+i.length;s=mt({snapshot:new em(i,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,BP(t),po(t),null!==(a=null!==(c=t.component)&&void 0!==c?c:t._loadedComponent)&&void 0!==a?a:null,t,$P(r),u,UP(t)),consumedSegments:[],remainingSegments:[]})}else s=RP(r,t,i,e).pipe(be(({matched:l,consumedSegments:u,remainingSegments:d,parameters:f})=>{var v,E;if(!l)return null;const x=VP(r)+u.length;return{snapshot:new em(u,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,BP(t),po(t),null!==(v=null!==(E=t.component)&&void 0!==E?E:t._loadedComponent)&&void 0!==v?v:null,t,$P(r),x,UP(t)),consumedSegments:u,remainingSegments:d}}));return s.pipe(fo(l=>{var u,d;if(null===l)return mt(null);const{snapshot:f,consumedSegments:v,remainingSegments:E}=l;e=null!==(u=t._injector)&&void 0!==u?u:e;const x=null!==(d=t._loadedInjector)&&void 0!==d?d:e,N=function JY(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:X,slicedSegments:Ee}=im(r,v,E,N.filter(He=>void 0===He.redirectTo));if(0===Ee.length&&X.hasChildren())return this.processChildren(x,N,X).pipe(be(He=>null===He?null:[new Bs(f,He)]));if(0===N.length&&0===Ee.length)return mt([new Bs(f,[])]);const z=po(t)===o;return this.processSegment(x,N,X,Ee,z?Ct:o).pipe(be(He=>null===He?null:[new Bs(f,He)]))}))}}function eZ(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function LP(n){const e=[],t=new Set;for(const r of n){if(!eZ(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=LP(r.children);e.push(new Bs(r.value,i))}return e.filter(r=>!t.has(r))}function $P(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function VP(n){var e;let t=n,r=null!==(e=t._segmentIndexShift)&&void 0!==e?e:0;for(;t._sourceSegment;){var i;t=t._sourceSegment,r+=null!==(i=t._segmentIndexShift)&&void 0!==i?i:0}return r-1}function BP(n){return n.data||{}}function UP(n){return n.resolve||{}}function jP(n){return"string"==typeof n.title||null===n.title}function tE(n){return fo(e=>{const t=n(e);return t?Kt(t).pipe(be(()=>e)):mt(e)})}const fu=new lt("ROUTES");let nE=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return mt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Ca(t.loadComponent()).pipe(be(GP),Mr(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Pb(()=>{this.componentLoaders.delete(t)})),i=new WO(r,()=>new fe).pipe(Nb());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return mt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(be(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let c,l,u=!1;Array.isArray(a)?l=a:(c=a.create(t).injector,l=XO(c.get(fu,[],_t.Self|_t.Optional)));return{routes:l.map(Xb),injector:c}}),Pb(()=>{this.childrenLoaders.delete(r)})),s=new WO(o,()=>new fe).pipe(Nb());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(t){return Ca(t()).pipe(be(GP),yn(i=>i instanceof Nk||Array.isArray(i)?mt(i):Kt(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(Fe(Sn),Fe(EN))},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function GP(n){return function lZ(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let lm=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new fe,this.configLoader=Lt(nE),this.environmentInjector=Lt(Ts),this.urlSerializer=Lt(su),this.rootContexts=Lt(bc),this.navigationId=0,this.afterPreactivation=()=>mt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Y9(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new K9(i))}complete(){var t;null===(t=this.transitions)||void 0===t||t.complete()}handleNavigationRequest(t){var r;const i=++this.navigationId;null===(r=this.transitions)||void 0===r||r.next({...this.transitions.value,...t,id:i})}setupNavigations(t){return this.transitions=new qi({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:yh,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Qo(r=>0!==r.id),be(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),fo(r=>{let i=!1,o=!1;return mt(r).pipe(Mr(s=>{this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),fo(s=>{var a;const c=t.browserUrlTree.toString(),l=!t.navigated||s.extractedUrl.toString()!==c||c!==t.currentUrlTree.toString(),u=null!==(a=s.extras.onSameUrlNavigation)&&void 0!==a?a:t.onSameUrlNavigation;if(!l&&"reload"!==u){const d="";return this.events.next(new Jg(s.id,t.serializeUrl(r.rawUrl),d,0)),t.rawUrlTree=s.rawUrl,s.resolve(null),Br}if(t.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return zP(s.source)&&(t.browserUrlTree=s.extractedUrl),mt(s).pipe(fo(d=>{var f,v;const E=null===(f=this.transitions)||void 0===f?void 0:f.getValue();return this.events.next(new Xg(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),E!==(null===(v=this.transitions)||void 0===v?void 0:v.getValue())?Br:Promise.resolve(d)}),function qY(n,e,t,r){return fo(i=>function zY(n,e,t,r,i){return new WY(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(be(o=>({...i,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),Mr(d=>{this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects},r.urlAfterRedirects=d.urlAfterRedirects}),function nZ(n,e,t,r,i){return yn(o=>function ZY(n,e,t,r,i,o,s="emptyOnly"){return new XY(n,e,t,r,i,s,o).recognize().pipe(fo(a=>null===a?function YY(n){return new Pe(e=>e.error(n))}(new KY):mt(a)))}(n,e,t,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i).pipe(be(s=>({...o,targetSnapshot:s}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Mr(d=>{if(r.targetSnapshot=d.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!d.extras.skipLocationChange){const v=t.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);t.setBrowserUrl(v,d)}t.browserUrlTree=d.urlAfterRedirects}const f=new H9(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}));if(l&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:d,extractedUrl:f,source:v,restoredState:E,extras:x}=s,N=new Xg(d,this.urlSerializer.serialize(f),v,E);this.events.next(N);const X=yP(f,this.rootComponentType).snapshot;return mt(r={...s,targetSnapshot:X,urlAfterRedirects:f,extras:{...x,skipLocationChange:!1,replaceUrl:!1}})}{const d="";return this.events.next(new Jg(s.id,t.serializeUrl(r.extractedUrl),d,1)),t.rawUrlTree=s.rawUrl,s.resolve(null),Br}}),Mr(s=>{const a=new G9(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),be(s=>r={...s,guards:yY(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),function xY(n,e){return yn(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?mt({...t,guardsResult:!0}):function MY(n,e,t,r){return Kt(n).pipe(yn(i=>function FY(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?mt(o.map(a=>{var c;const l=null!==(c=bh(e))&&void 0!==c?c:i,u=du(a,l);return Ca(function DY(n){return n&&Sh(n.canDeactivate)}(u)?u.canDeactivate(n,e,t,r):l.runInContext(()=>u(n,e,t,r))).pipe(wa())})).pipe(hu()):mt(!0)}(i.component,i.route,t,e,r)),wa(i=>!0!==i,!0))}(s,r,i,n).pipe(yn(a=>a&&function IY(n){return"boolean"==typeof n}(a)?function RY(n,e,t,r){return Kt(e).pipe(mc(i=>kb(function NY(n,e){return null!==n&&e&&e(new Z9(n)),mt(!0)}(i.route.parent,r),function kY(n,e){return null!==n&&e&&e(new Q9(n)),mt(!0)}(i.route,r),function PY(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function _Y(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>zO(()=>mt(s.guards.map(c=>{var l;const u=null!==(l=bh(s.node))&&void 0!==l?l:t,d=du(c,u);return Ca(function CY(n){return n&&Sh(n.canActivateChild)}(d)?d.canActivateChild(r,n):u.runInContext(()=>d(r,n))).pipe(wa())})).pipe(hu())));return mt(o).pipe(hu())}(n,i.path,t),function OY(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return mt(!0);const i=r.map(o=>zO(()=>{var s;const a=null!==(s=bh(e))&&void 0!==s?s:t,c=du(o,a);return Ca(function wY(n){return n&&Sh(n.canActivate)}(c)?c.canActivate(e,n):a.runInContext(()=>c(e,n))).pipe(wa())}));return mt(i).pipe(hu())}(n,i.route,t))),wa(i=>!0!==i,!0))}(r,o,n,e):mt(a)),be(a=>({...t,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),Mr(s=>{if(r.guardsResult=s.guardsResult,yc(s.guardsResult))throw IP(0,s.guardsResult);const a=new z9(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Qo(s=>!!s.guardsResult||(t.restoreHistory(s),this.cancelNavigationTransition(s,"",3),!1)),tE(s=>{if(s.guards.canActivateChecks.length)return mt(s).pipe(Mr(a=>{const c=new W9(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),fo(a=>{let c=!1;return mt(a).pipe(function rZ(n,e){return yn(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return mt(t);let o=0;return Kt(i).pipe(mc(s=>function iZ(n,e,t,r){const i=n.routeConfig,o=n._resolve;return void 0!==(null==i?void 0:i.title)&&!jP(i)&&(o[fh]=i.title),function oZ(n,e,t,r){const i=function sZ(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return mt({});const o={};return Kt(i).pipe(yn(s=>function aZ(n,e,t,r){var i;const o=null!==(i=bh(e))&&void 0!==i?i:r,s=du(n,o);return Ca(s.resolve?s.resolve(e,t):o.runInContext(()=>s(e,t)))}(n[s],e,t,r).pipe(wa(),Mr(a=>{o[s]=a}))),Ob(1),function v9(n){return be(()=>n)}(o),Vs(s=>Qb(s)?Br:dh(s)))}(o,n,e,r).pipe(be(s=>(n._resolvedData=s,n.data=_P(n,t).resolve,i&&jP(i)&&(n.data[fh]=i.title),null)))}(s.route,r,n,e)),Mr(()=>o++),Ob(1),yn(s=>o===i.length?mt(t):Br))})}(t.paramsInheritanceStrategy,this.environmentInjector),Mr({next:()=>c=!0,complete:()=>{c||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Mr(a=>{const c=new q9(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),tE(s=>{const a=c=>{var l;const u=[];null!==(l=c.routeConfig)&&void 0!==l&&l.loadComponent&&!c.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(c.routeConfig).pipe(Mr(d=>{c.component=d}),be(()=>{})));for(const d of c.children)u.push(...a(d));return u};return HO(a(s.targetSnapshot.root)).pipe(Hg(),hh(1))}),tE(()=>this.afterPreactivation()),be(s=>{const a=function aY(n,e,t){const r=_h(n,e._root,t?t._root:void 0);return new vP(r,e)}(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return r={...s,targetRouterState:a}}),Mr(s=>{t.currentUrlTree=s.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),t.routerState=s.targetRouterState,"deferred"===t.urlUpdateStrategy&&(s.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,s),t.browserUrlTree=s.urlAfterRedirects)}),((n,e,t)=>be(r=>(new vY(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s)),Mr({next:s=>{var a;i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new _c(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),null===(a=t.titleStrategy)||void 0===a||a.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Pb(()=>{var s;i||o||this.cancelNavigationTransition(r,"",1),(null===(s=this.currentNavigation)||void 0===s?void 0:s.id)===r.id&&(this.currentNavigation=null)}),Vs(s=>{if(o=!0,CP(s)){wP(s)||(t.navigated=!0,t.restoreHistory(r,!0));const c=new Qg(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode);if(this.events.next(c),wP(s)){const l=t.urlHandlingStrategy.merge(s.url,t.rawUrlTree),u={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||zP(r.source)};t.scheduleNavigation(l,yh,null,u,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{var a;t.restoreHistory(r,!0);const c=new jb(r.id,this.urlSerializer.serialize(r.extractedUrl),s,null!==(a=r.targetSnapshot)&&void 0!==a?a:void 0);this.events.next(c);try{r.resolve(t.errorHandler(s))}catch(l){r.reject(l)}}return Br}))}))}cancelNavigationTransition(t,r,i){const o=new Qg(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function zP(n){return n!==yh}let WP=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;){var o;r=null!==(o=this.getResolvedTitleForRoute(i))&&void 0!==o?o:r,i=i.children.find(s=>s.outlet===Ct)}return r}getResolvedTitleForRoute(t){return t.data[fh]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:function(){return Lt(uZ)},providedIn:"root"}),n})(),uZ=(()=>{class n extends WP{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(Fe($O))},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:function(){return Lt(hZ)},providedIn:"root"}),n})();class dZ{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let hZ=(()=>{class n extends dZ{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=xr(n)))(r||n)}}(),n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const um=new lt("",{providedIn:"root",factory:()=>({})});let pZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:function(){return Lt(gZ)},providedIn:"root"}),n})(),gZ=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function mZ(n){throw n}function vZ(n,e,t){return e.parse("/")}const yZ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_Z={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Dt=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){var t;this.disposed=!1,this.currentPageId=0,this.console=Lt(j8),this.isNgZoneEnabled=!1,this.options=Lt(um,{optional:!0})||{},this.errorHandler=this.options.errorHandler||mZ,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||vZ,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Lt(pZ),this.routeReuseStrategy=Lt(qP),this.urlCreationStrategy=Lt(iY),this.titleStrategy=Lt(WP),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=XO(null!==(t=Lt(fu,{optional:!0}))&&void 0!==t?t:[]),this.navigationTransitions=Lt(lm),this.urlSerializer=Lt(su),this.location=Lt(oh),this.isNgZoneEnabled=Lt(Me)instanceof Me&&Me.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Da,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=yP(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(r=>{this.lastSuccessfulId=r.id,this.currentPageId=r.targetPageId},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),yh,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const o={replaceUrl:!0},s=null!=i&&i.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Xb),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s;let u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...o};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}return null!==u&&(u=this.removeEmptyProps(u)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,u,null!=l?l:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=yc(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,yh,null,r)}navigate(t,r={skipLocationChange:!1}){return function bZ(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new R(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...yZ}:!1===r?{..._Z}:r,yc(t))return eP(this.currentUrlTree,t,i);const o=this.parseUrl(t);return eP(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l,u;if(s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((v,E)=>{a=v,c=E}),"computed"===this.canceledNavigationResolution)if(i&&i.\u0275routerPageId)u=i.\u0275routerPageId;else if(o.replaceUrl||o.skipLocationChange){var d;u=null!==(d=this.browserPageId)&&void 0!==d?d:0}else{var f;u=(null!==(f=this.browserPageId)&&void 0!==f?f:0)+1}else u=0;return this.navigationTransitions.handleNavigationRequest({targetPageId:u,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(v=>Promise.reject(v))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),o={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",o):this.location.go(i,"",o)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){var i,o;const s=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.getCurrentNavigation())||void 0===i?void 0:i.finalUrl)||0===s?this.currentUrlTree===(null===(o=this.getCurrentNavigation())||void 0===o?void 0:o.finalUrl)&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ec=(()=>{class n{constructor(t,r,i,o,s,a){var c;this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new fe;const l=null===(c=s.nativeElement.tagName)||void 0===c?void 0:c.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=t.events.subscribe(u=>{u instanceof _c&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=ru(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=ru(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=ru(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){var t;null===(t=this.subscription)||void 0===t||t.unsubscribe()}updateHref(){var t;this.href=null!==this.urlTree&&this.locationStrategy?null===(t=this.locationStrategy)||void 0===t?void 0:t.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const r=null===this.href?null:function oM(n,e,t){return function KG(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?iM:rM}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(g(Dt),g(Us),Dl("tabindex"),g(xs),g(Ne),g(Ls))},n.\u0275dir=ut({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&xe("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&t&&Yo("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[si]}),n})(),KP=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new tn,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof _c&&this.update()})}ngAfterContentInit(){mt(this.links.changes,mt(null)).pipe(eo()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Kt(r).pipe(eo()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function EZ(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}}return n.\u0275fac=function(t){return new(t||n)(g(Dt),g(Ne),g(xs),g(Ge),g(Ec,8))},n.\u0275dir=ut({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,i){if(1&t&&ks(i,Ec,5),2&t){let o;Mo(o=Ro())&&(r.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[si]}),n})();class YP{}let IZ=(()=>{class n{preload(t,r){return r().pipe(Vs(()=>mt(null)))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),SZ=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Qo(t=>t instanceof _c),mc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const c of r){var o,s;c.providers&&!c._injector&&(c._injector=vg(c.providers,t,`Route: ${c.path}`));const l=null!==(o=c._injector)&&void 0!==o?o:t,u=null!==(s=c._loadedInjector)&&void 0!==s?s:l;if(c.loadChildren&&!c._loadedRoutes&&void 0===c.canLoad||c.loadComponent&&!c._loadedComponent)i.push(this.preloadConfig(l,c));else if(c.children||c._loadedRoutes){var a;i.push(this.processRoutes(u,null!==(a=c.children)&&void 0!==a?a:c._loadedRoutes))}}return Kt(i).pipe(eo())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):mt(null);const o=i.pipe(yn(s=>{var a;return null===s?mt(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(null!==(a=s.injector)&&void 0!==a?a:t,s.routes))}));return r.loadComponent&&!r._loadedComponent?Kt([o,this.loader.loadComponent(r)]).pipe(eo()):o})}}return n.\u0275fac=function(t){return new(t||n)(Fe(Dt),Fe(EN),Fe(Ts),Fe(YP),Fe(nE))},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const iE=new lt("");let ZP=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Xg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof _c&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof gP&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new gP(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){var t,r;null===(t=this.routerEventsSubscription)||void 0===t||t.unsubscribe(),null===(r=this.scrollEventsSubscription)||void 0===r||r.unsubscribe()}}return n.\u0275fac=function(t){!function LM(){throw new Error("invalid")}()},n.\u0275prov=Je({token:n,factory:n.\u0275fac}),n})();var Ki=(()=>((Ki=Ki||{})[Ki.COMPLETE=0]="COMPLETE",Ki[Ki.FAILED=1]="FAILED",Ki[Ki.REDIRECTING=2]="REDIRECTING",Ki))();const pu=!1;function Ta(n,e){return{\u0275kind:n,\u0275providers:e}}const oE=new lt("",{providedIn:"root",factory:()=>!1});function QP(){const n=Lt(Sn);return e=>{var t,r;const i=n.get(nh);if(e!==i.components[0])return;const o=n.get(Dt),s=n.get(JP);1===n.get(sE)&&o.initialNavigation(),null===(t=n.get(eF,null,_t.Optional))||void 0===t||t.setUpPreloading(),null===(r=n.get(iE,null,_t.Optional))||void 0===r||r.init(),o.resetRootComponentType(i.componentTypes[0]),s.closed||(s.next(),s.unsubscribe())}}const JP=new lt(pu?"bootstrap done indicator":"",{factory:()=>new fe}),sE=new lt(pu?"initial navigation":"",{providedIn:"root",factory:()=>1});function AZ(){let n=[];return n=pu?[{provide:Zp,multi:!0,useFactory:()=>{const e=Lt(Dt);return()=>e.events.subscribe(t=>{var r,i,o,s;null===(r=(i=console).group)||void 0===r||r.call(i,`Router Event: ${t.constructor.name}`),console.log(function eY(n){var e,t,r,i;if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${(null===(e=n.snapshot.routeConfig)||void 0===e?void 0:e.path)||""}')`;case 13:return`ActivationStart(path: '${(null===(t=n.snapshot.routeConfig)||void 0===t?void 0:t.path)||""}')`;case 12:return`ChildActivationEnd(path: '${(null===(r=n.snapshot.routeConfig)||void 0===r?void 0:r.path)||""}')`;case 11:return`ChildActivationStart(path: '${(null===(i=n.snapshot.routeConfig)||void 0===i?void 0:i.path)||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),null===(o=(s=console).groupEnd)||void 0===o||o.call(s)})}}]:[],Ta(1,n)}const eF=new lt(pu?"router preloader":"");function xZ(n){return Ta(0,[{provide:eF,useExisting:SZ},{provide:YP,useExisting:n}])}const Ch=!1,tF=new lt(Ch?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),MZ=[oh,{provide:su,useClass:Fb},Dt,bc,{provide:Us,useFactory:function XP(n){return n.routerState.root},deps:[Dt]},nE,Ch?{provide:oE,useValue:!0}:[]];function RZ(){return new AN("Router",Dt)}let nF=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[MZ,Ch&&null!=r&&r.enableTracing?AZ().\u0275providers:[],{provide:fu,multi:!0,useValue:t},{provide:tF,useFactory:PZ,deps:[[Dt,new li,new Rd]]},{provide:um,useValue:r||{}},null!=r&&r.useHash?{provide:Ls,useClass:xq}:{provide:Ls,useClass:XN},{provide:iE,useFactory:()=>{const n=Lt(Z7),e=Lt(Me),t=Lt(um),r=Lt(lm),i=Lt(su);return t.scrollOffset&&n.setOffset(t.scrollOffset),new ZP(i,r,n,e,t)}},null!=r&&r.preloadingStrategy?xZ(r.preloadingStrategy).\u0275providers:[],{provide:AN,multi:!0,useFactory:RZ},null!=r&&r.initialNavigation?FZ(r):[],[{provide:rF,useFactory:QP},{provide:bN,multi:!0,useExisting:rF}]]}}static forChild(t){return{ngModule:n,providers:[{provide:fu,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(Fe(tF,8))},n.\u0275mod=jr({type:n}),n.\u0275inj=Dr({imports:[Yb]}),n})();function PZ(n){if(Ch&&n)throw new R(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function FZ(n){return["disabled"===n.initialNavigation?Ta(3,[{provide:eh,multi:!0,useFactory:()=>{const e=Lt(Dt);return()=>{e.setUpLocationChangeListener()}}},{provide:sE,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Ta(2,[{provide:sE,useValue:0},{provide:eh,multi:!0,deps:[Sn],useFactory:e=>{const t=e.get(Tq,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Dt),o=e.get(JP);(function wZ(n,e){n.events.pipe(Qo(t=>t instanceof _c||t instanceof Qg||t instanceof jb||t instanceof Jg),be(t=>t instanceof _c||t instanceof Jg?Ki.COMPLETE:t instanceof Qg&&(0===t.code||1===t.code)?Ki.REDIRECTING:Ki.FAILED),Qo(t=>t!==Ki.REDIRECTING),hh(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(lm).afterPreactivation=()=>(r(!0),o.closed?mt(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const rF=new lt(Ch?"Router Initializer":"");let iF=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(g(xs),g(Ne))},n.\u0275dir=ut({type:n}),n})(),Ic=(()=>{class n extends iF{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=xr(n)))(r||n)}}(),n.\u0275dir=ut({type:n,features:[Ut]}),n})();const hi=new lt("NgValueAccessor"),BZ={provide:hi,useExisting:S(()=>aE),multi:!0},jZ=new lt("CompositionEventMode");let aE=(()=>{class n extends iF{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function UZ(){const n=Ps()?Ps().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(g(xs),g(Ne),g(jZ,8))},n.\u0275dir=ut({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&xe("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[en([BZ]),Ut]}),n})();const HZ=!1;function Aa(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function sF(n){return null!=n&&"number"==typeof n.length}const Zr=new lt("NgValidators"),xa=new lt("NgAsyncValidators"),GZ=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Un{static min(e){return function aF(n){return e=>{if(Aa(e.value)||Aa(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function cF(n){return e=>{if(Aa(e.value)||Aa(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function lF(n){return Aa(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function uF(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function dF(n){return Aa(n.value)||GZ.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function hF(n){return e=>Aa(e.value)||!sF(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function fF(n){return e=>sF(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function pF(n){if(!n)return dm;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Aa(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return bF(e)}static composeAsync(e){return EF(e)}}function dm(n){return null}function gF(n){return null!=n}function mF(n){const e=Gd(n)?Kt(n):n;if(HZ&&!g0(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new R(-1101,t)}return e}function vF(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function yF(n,e){return e.map(t=>t(n))}function _F(n){return n.map(e=>function zZ(n){return!n.validate}(e)?e:t=>e.validate(t))}function bF(n){if(!n)return null;const e=n.filter(gF);return 0==e.length?null:function(t){return vF(yF(t,e))}}function cE(n){return null!=n?bF(_F(n)):null}function EF(n){if(!n)return null;const e=n.filter(gF);return 0==e.length?null:function(t){return function $Z(...n){const e=pa(n),{args:t,keys:r}=UO(n),i=new Pe(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let c=s,l=s;for(let u=0;u<s;u++){let d=!1;vn(t[u]).subscribe(_e(o,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?jO(r,a):a),o.complete())}))}});return e?i.pipe(Rb(e)):i}(yF(t,e).map(mF)).pipe(be(vF))}}function lE(n){return null!=n?EF(_F(n)):null}function IF(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function SF(n){return n._rawValidators}function wF(n){return n._rawAsyncValidators}function uE(n){return n?Array.isArray(n)?n:[n]:[]}function hm(n,e){return Array.isArray(n)?n.includes(e):n===e}function CF(n,e){const t=uE(e);return uE(n).forEach(i=>{hm(t,i)||t.push(i)}),t}function DF(n,e){return uE(e).filter(t=>!hm(n,t))}class TF{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=cE(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=lE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class fi extends TF{get formDirective(){return null}get path(){return null}}class js extends TF{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class AF{constructor(e){this._cd=e}get isTouched(){var e,t;return!(null===(e=this._cd)||void 0===e||null===(t=e.control)||void 0===t||!t.touched)}get isUntouched(){var e,t;return!(null===(e=this._cd)||void 0===e||null===(t=e.control)||void 0===t||!t.untouched)}get isPristine(){var e,t;return!(null===(e=this._cd)||void 0===e||null===(t=e.control)||void 0===t||!t.pristine)}get isDirty(){var e,t;return!(null===(e=this._cd)||void 0===e||null===(t=e.control)||void 0===t||!t.dirty)}get isValid(){var e,t;return!(null===(e=this._cd)||void 0===e||null===(t=e.control)||void 0===t||!t.valid)}get isInvalid(){var e,t;return!(null===(e=this._cd)||void 0===e||null===(t=e.control)||void 0===t||!t.invalid)}get isPending(){var e,t;return!(null===(e=this._cd)||void 0===e||null===(t=e.control)||void 0===t||!t.pending)}get isSubmitted(){var e;return!(null===(e=this._cd)||void 0===e||!e.submitted)}}let Ai=(()=>{class n extends AF{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(g(js,2))},n.\u0275dir=ut({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&dg("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ut]}),n})(),fm=(()=>{class n extends AF{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(g(fi,10))},n.\u0275dir=ut({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&dg("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Ut]}),n})();function xF(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const fE=!1,Dh="VALID",gm="INVALID",gu="PENDING",Th="DISABLED";function pE(n){return(mm(n)?n.validators:n)||null}function gE(n,e){return(mm(e)?e.asyncValidators:n)||null}function mm(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function MF(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new R(1e3,fE?function YZ(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new R(1001,fE?function ZZ(n,e){return`Cannot find form control ${xF(n,e)}`}(e,t):"")}function RF(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new R(1002,fE?function XZ(n,e){return`Must supply a value for form control ${xF(n,e)}`}(e,i):"")})}class vm{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Dh}get invalid(){return this.status===gm}get pending(){return this.status==gu}get disabled(){return this.status===Th}get enabled(){return this.status!==Th}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(CF(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(CF(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(DF(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(DF(e,this._rawAsyncValidators))}hasValidator(e){return hm(this._rawValidators,e)}hasAsyncValidator(e){return hm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=gu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Th,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Dh,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Dh||this.status===gu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Th:Dh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=gu,this._hasOwnPendingAsyncValidator=!0;const t=mF(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new tn,this.statusChanges=new tn}_calculateStatus(){return this._allControlsDisabled()?Th:this.errors?gm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gu)?gu:this._anyControlsHaveStatus(gm)?gm:Dh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){mm(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function QZ(n){return Array.isArray(n)?cE(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function JZ(n){return Array.isArray(n)?lE(n):n||null}(this._rawAsyncValidators)}}class Ah extends vm{constructor(e,t,r){super(pE(t),gE(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){RF(this,!0,e),Object.keys(e).forEach(r=>{MF(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class kF extends Ah{}const Sc=new lt("CallSetDisabledState",{providedIn:"root",factory:()=>xh}),xh="always";function ym(n,e){return[...e.path,n]}function Mh(n,e,t=xh){var r,i;mE(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&(null===(r=(i=e.valueAccessor).setDisabledState)||void 0===r||r.call(i,n.disabled)),function tX(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&NF(n,e)})}(n,e),function rX(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function nX(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&NF(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function eX(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function _m(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Em(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function bm(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function mE(n,e){const t=SF(n);null!==e.validator?n.setValidators(IF(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=wF(n);null!==e.asyncValidator?n.setAsyncValidators(IF(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();bm(e._rawValidators,i),bm(e._rawAsyncValidators,i)}function Em(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=SF(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(null!==e.asyncValidator){const i=wF(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}const r=()=>{};return bm(e._rawValidators,r),bm(e._rawAsyncValidators,r),t}function NF(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function yE(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function _E(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===aE?t=o:function sX(n){return Object.getPrototypeOf(n.constructor)===Ic}(o)?r=o:i=o}),i||r||t||null}function FF(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function LF(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const kh=class extends vm{constructor(e=null,t,r){super(pE(t),gE(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),mm(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=LF(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){FF(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){FF(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){LF(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let $F=(()=>{class n extends fi{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return ym(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=xr(n)))(r||n)}}(),n.\u0275dir=ut({type:n,features:[Ut]}),n})();const dX={provide:js,useExisting:S(()=>go)},BF=(()=>Promise.resolve())();let go=(()=>{class n extends js{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new kh,this._registered=!1,this.update=new tn,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=_E(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),yE(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Mh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){BF.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&ru(r);BF.then(()=>{var o;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(o=this._changeDetectorRef)||void 0===o||o.markForCheck()})}_getPath(t){return this._parent?ym(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(g(fi,9),g(Zr,10),g(xa,10),g(hi,10),g(Ge,8),g(Sc,8))},n.\u0275dir=ut({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[en([dX]),Ut,si]}),n})(),Im=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ut({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),jF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jr({type:n}),n.\u0275inj=Dr({}),n})();const EE=new lt("NgModelWithFormControlWarning"),vX={provide:fi,useExisting:S(()=>mu)};let mu=(()=>{class n extends fi{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new tn,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Em(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Mh(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){_m(t.control||null,t,!1),function aX(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){var r;return this.submitted=!0,function PF(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===(null==t||null===(r=t.target)||void 0===r?void 0:r.method)}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(_m(r||null,t),(n=>n instanceof kh)(i)&&(Mh(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function OF(n,e){mE(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function iX(n,e){return Em(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){mE(this.form,this),this._oldForm&&Em(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(g(Zr,10),g(xa,10),g(Sc,8))},n.\u0275dir=ut({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&xe("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[en([vX]),Ut,si]}),n})();const yX={provide:fi,useExisting:S(()=>Sm)};let Sm=(()=>{class n extends $F{constructor(t,r,i){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){WF(this._parent)}}return n.\u0275fac=function(t){return new(t||n)(g(fi,13),g(Zr,10),g(xa,10))},n.\u0275dir=ut({type:n,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[en([yX]),Ut]}),n})();const _X={provide:fi,useExisting:S(()=>IE)};let IE=(()=>{class n extends fi{constructor(t,r,i){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return ym(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){WF(this._parent)}}return n.\u0275fac=function(t){return new(t||n)(g(fi,13),g(Zr,10),g(xa,10))},n.\u0275dir=ut({type:n,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[en([_X]),Ut]}),n})();function WF(n){return!(n instanceof Sm||n instanceof mu||n instanceof IE)}const bX={provide:js,useExisting:S(()=>Nh)};let Nh=(()=>{class n extends js{set isDisabled(t){}constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new tn,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=_E(0,o)}ngOnChanges(t){this._added||this._setUpControl(),yE(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return ym(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(g(fi,13),g(Zr,10),g(xa,10),g(hi,10),g(EE,8))},n.\u0275dir=ut({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[en([bX]),Ut,si]}),n})(),iL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jr({type:n}),n.\u0275inj=Dr({imports:[jF]}),n})();class oL extends vm{constructor(e,t,r){super(pE(t),gE(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){RF(this,!1,e),e.forEach((r,i)=>{MF(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){var t;return null!==(t=this.at(e))&&void 0!==t?t:null}}function sL(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let DE=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let o={};return sL(r)?o=r:null!==r&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Ah(i,o)}record(t,r=null){const i=this._reduceControls(t);return new kF(i,r)}control(t,r,i){let o={};return this.useNonNullable?(sL(r)?o=r:(o.validators=r,o.asyncValidators=i),new kh(t,{...o,nonNullable:!0})):new kh(t,r,i)}array(t,r,i){const o=t.map(s=>this._createControl(s));return new oL(o,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof kh||t instanceof vm?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),PX=(()=>{class n{static withConfig(t){var r;return{ngModule:n,providers:[{provide:Sc,useValue:null!==(r=t.callSetDisabledState)&&void 0!==r?r:xh}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jr({type:n}),n.\u0275inj=Dr({imports:[iL]}),n})(),FX=(()=>{class n{static withConfig(t){var r,i;return{ngModule:n,providers:[{provide:EE,useValue:null!==(r=t.warnOnNgModelWithFormControl)&&void 0!==r?r:"always"},{provide:Sc,useValue:null!==(i=t.callSetDisabledState)&&void 0!==i?i:xh}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jr({type:n}),n.\u0275inj=Dr({imports:[iL]}),n})();const LX=["addListener","removeListener"],$X=["addEventListener","removeEventListener"],VX=["on","off"];function TE(n,e,t,r){if(te(t)&&(r=t,t=void 0),r)return TE(n,e,t).pipe(Rb(r));const[i,o]=function jX(n){return te(n.addEventListener)&&te(n.removeEventListener)}(n)?$X.map(s=>a=>n[s](e,a,t)):function BX(n){return te(n.addListener)&&te(n.removeListener)}(n)?LX.map(aL(n,e)):function UX(n){return te(n.on)&&te(n.off)}(n)?VX.map(aL(n,e)):[];if(!i&&wr(n))return yn(s=>TE(s,e,t))(vn(n));if(!i)throw new TypeError("Invalid event target");return new Pe(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function aL(n,e){return t=>r=>n[t](e,r)}me(181),me(6439),me(7838),me(1898);var AE=me(5179),vu=me(5730),Oh=me(1843),Ph=(me(6369),me(3539)),cL=(me(3457),me(4349),me(1308));function zX(n,e){return n===e}const qX=AE.i,Xe=["*"];function JX(n,e){if(1&n&&(w(0,"div",1),lg(1,2),C()),2&n){const t=it();W(1),le("ngTemplateOutlet",t.template)}}const uL=n=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(n):"function"==typeof requestAnimationFrame?requestAnimationFrame(n):setTimeout(n),dL=n=>!!n.resolveComponentFactory;let Fh=(()=>{class n{constructor(t,r){this.injector=t,this.el=r,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(t){this.el.nativeElement.value=this.lastValue=null==t?"":t,yu(this.el)}handleChangeEvent(t,r){t===this.el.nativeElement&&(r!==this.lastValue&&(this.lastValue=r,this.onChange(r)),yu(this.el))}_handleBlurEvent(t){t===this.el.nativeElement&&(this.onTouched(),yu(this.el))}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.el.nativeElement.disabled=t}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let t;try{t=this.injector.get(js)}catch(i){}if(!t)return;t.statusChanges&&(this.statusChanges=t.statusChanges.subscribe(()=>yu(this.el)));const r=t.control;r&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(o=>{if(typeof r[o]<"u"){const s=r[o].bind(r);r[o]=(...a)=>{s(...a),yu(this.el)}}})}}return n.\u0275fac=function(t){return new(t||n)(g(Sn),g(Ne))},n.\u0275dir=ut({type:n,hostBindings:function(t,r){1&t&&xe("ionBlur",function(o){return r._handleBlurEvent(o.target)})}}),n})();const yu=n=>{uL(()=>{const e=n.nativeElement,t=null!=e.value&&e.value.toString().length>0,r=tQ(e);xE(e,r);const i=e.closest("ion-item");i&&xE(i,t?[...r,"item-has-value"]:r)})},tQ=n=>{const e=n.classList,t=[];for(let r=0;r<e.length;r++){const i=e.item(r);null!==i&&nQ(i,"ng-")&&t.push(`ion-${i.substring(3)}`)}return t},xE=(n,e)=>{const t=n.classList;t.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),t.add(...e)},nQ=(n,e)=>n.substring(0,e.length)===e;let Po=(()=>{class n extends Fh{constructor(t,r){super(t,r)}writeValue(t){this.el.nativeElement.checked=this.lastValue=null!=t&&t,yu(this.el)}_handleIonChange(t){this.handleChangeEvent(t,t.checked)}}return n.\u0275fac=function(t){return new(t||n)(g(Sn),g(Ne))},n.\u0275dir=ut({type:n,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(t,r){1&t&&xe("ionChange",function(o){return r._handleIonChange(o.target)})},features:[en([{provide:hi,useExisting:n,multi:!0}]),Ut]}),n})(),hL=(()=>{class n extends Fh{constructor(t,r){super(t,r)}_handleIonSelect(t){this.handleChangeEvent(t,t.checked)}}return n.\u0275fac=function(t){return new(t||n)(g(Sn),g(Ne))},n.\u0275dir=ut({type:n,selectors:[["ion-radio"]],hostBindings:function(t,r){1&t&&xe("ionSelect",function(o){return r._handleIonSelect(o.target)})},features:[en([{provide:hi,useExisting:n,multi:!0}]),Ut]}),n})(),fL=(()=>{class n extends Fh{constructor(t,r){super(t,r)}_handleChangeEvent(t){this.handleChangeEvent(t,t.value)}}return n.\u0275fac=function(t){return new(t||n)(g(Sn),g(Ne))},n.\u0275dir=ut({type:n,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(t,r){1&t&&xe("ionChange",function(o){return r._handleChangeEvent(o.target)})},features:[en([{provide:hi,useExisting:n,multi:!0}]),Ut]}),n})(),_u=(()=>{class n extends Fh{constructor(t,r){super(t,r)}_handleInputEvent(t){this.handleChangeEvent(t,t.value)}}return n.\u0275fac=function(t){return new(t||n)(g(Sn),g(Ne))},n.\u0275dir=ut({type:n,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(t,r){1&t&&xe("ionChange",function(o){return r._handleInputEvent(o.target)})},features:[en([{provide:hi,useExisting:n,multi:!0}]),Ut]}),n})();const iQ=(n,e)=>{const t=n.prototype;e.forEach(r=>{Object.defineProperty(t,r,{get(){return this.el[r]},set(i){this.z.runOutsideAngular(()=>this.el[r]=i)}})})},oQ=(n,e)=>{const t=n.prototype;e.forEach(r=>{t[r]=function(){const i=arguments;return this.z.runOutsideAngular(()=>this.el[r].apply(this.el,i))}})},Zt=(n,e,t)=>{t.forEach(r=>n[r]=TE(e,r))};function Ye(n){return function(t){const{defineCustomElementFn:r,inputs:i,methods:o}=n;return void 0!==r&&r(),i&&iQ(t,i),o&&oQ(t,o),t}}let pL=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(g(Ge),g(Ne),g(Me))},n.\u0275cmp=Se({type:n,selectors:[["ion-accordion"]],inputs:{disabled:"disabled",mode:"mode",readonly:"readonly",toggleIcon:"toggleIcon",toggleIconSlot:"toggleIconSlot",value:"value"},ngContentSelectors:Xe,decls:1,vars:0,template:function(t,r){1&t&&(Ke(),We(0))},encapsulation:2,changeDetection:0}),n=ye([Ye({defineCustomElementFn:void 0,inputs:["disabled","mode","readonly","toggleIcon","toggleIconSlot","value"]})],n),n})(),gL=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Zt(this,this.el,["ionChange"])}};return n.\u0275fac=function(t){return new(t||n)(g(Ge),g(Ne),g(Me))},n.\u0275cmp=Se({type:n,selectors:[["ion-accordion-group"]],inputs:{animated:"animated",disabled:"disabled",expand:"expand",mode:"mode",multiple:"multiple",readonly:"readonly",value:"value"},ngContentSelectors:Xe,decls:1,vars:0,template:function(t,r){1&t&&(Ke(),We(0))},encapsulation:2,changeDetection:0}),n=ye([Ye({defineCustomElementFn:void 0,inputs:["animated","disabled","expand","mode","multiple","readonly","value"]})],n),n})(),ME=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(g(Ge),g(Ne),g(Me))},n.\u0275cmp=Se({type:n,selectors:[["ion-app"]],ngContentSelectors:Xe,decls:1,vars:0,template:function(t,r){1&t&&(Ke(),We(0))},encapsulation:2,changeDetection:0}),n=ye([Ye({defineCustomElementFn:void 0})],n),n})(),bu=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(g(Ge),g(Ne),g(Me))},n.\u0275cmp=Se({type:n,selectors:[["ion-avatar"]],ngContentSelectors:Xe,decls:1,vars:0,template:function(t,r){1&t&&(Ke(),We(0))},encapsulation:2,changeDetection:0}),n=ye([Ye({defineCustomElementFn:void 0})],n),n})(),Cn=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Zt(this,this.el,["ionFocus","ionBlur"])}};return n.\u0275fac=function(t){return new(t||n)(g(Ge),g(Ne),g(Me))},n.\u0275cmp=Se({type:n,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Xe,decls:1,vars:0,template:function(t,r){1&t&&(Ke(),We(0))},encapsulation:2,changeDetection:0}),n=ye([Ye({defineCustomElementFn:void 0,inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],n),n})(),jn=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(g(Ge),g(Ne),g(Me))},n.\u0275cmp=Se({type:n,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Xe,decls:1,vars:0,template:function(t,r){1&t&&(Ke(),We(0))},encapsulation:2,changeDetection:0}),n=ye([Ye({defineCustomElementFn:void 0,inputs:["collapse"]})],n),n})(),Fo=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Zt(this,this.el,["ionChange","ionFocus","ionBlur"])}};return n.\u0275fac=function(t){return new(t||n)(g(Ge),g(Ne),g(Me))},n.\u0275cmp=Se({type:n,selectors:[["ion-checkbox"]],inputs:{checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",mode:"mode",name:"name",value:"value"},ngContentSelectors:Xe,decls:1,vars:0,template:function(t,r){1&t&&(Ke(),We(0))},encapsulation:2,changeDetection:0}),n=ye([Ye({defineCustomElementFn:void 0,inputs:["checked","color","disabled","indeterminate","mode","name","value"]})],n),n})(),Cc=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(g(Ge),g(Ne),g(Me))},n.\u0275cmp=Se({type:n,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:Xe,decls:1,vars:0,template:function(t,r){1&t&&(Ke(),We(0))},encapsulation:2,changeDetection:0}),n=ye([Ye({defineCustomElementFn:void 0,inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],n),n})(),nn=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Zt(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return n.\u0275fac=function(t){return new(t||n)(g(Ge),g(Ne),g(Me))},n.\u0275cmp=Se({type:n,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Xe,decls:1,vars:0,template:function(t,r){1&t&&(Ke(),We(0))},encapsulation:2,changeDetection:0}),n=ye([Ye({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],n),n})(),Lh=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(g(Ge),g(Ne),g(Me))},n.\u0275cmp=Se({type:n,selectors:[["ion-fab"]],inputs:{activated:"activated",edge:"edge",horizontal:"horizontal",vertical:"vertical"},ngContentSelectors:Xe,decls:1,vars:0,template:function(t,r){1&t&&(Ke(),We(0))},encapsulation:2,changeDetection:0}),n=ye([Ye({defineCustomElementFn:void 0,inputs:["activated","edge","horizontal","vertical"],methods:["close"]})],n),n})(),$h=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Zt(this,this.el,["ionFocus","ionBlur"])}};return n.\u0275fac=function(t){return new(t||n)(g(Ge),g(Ne),g(Me))},n.\u0275cmp=Se({type:n,selectors:[["ion-fab-button"]],inputs:{activated:"activated",closeIcon:"closeIcon",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",show:"show",size:"size",target:"target",translucent:"translucent",type:"type"},ngContentSelectors:Xe,decls:1,vars:0,template:function(t,r){1&t&&(Ke(),We(0))},encapsulation:2,changeDetection:0}),n=ye([Ye({defineCustomElementFn:void 0,inputs:["activated","closeIcon","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","show","size","target","translucent","type"]})],n),n})(),mL=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(g(Ge),g(Ne),g(Me))},n.\u0275cmp=Se({type:n,selectors:[["ion-footer"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Xe,decls:1,vars:0,template:function(t,r){1&t&&(Ke(),We(0))},encapsulation:2,changeDetection:0}),n=ye([Ye({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],n),n})(),Dc=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(g(Ge),g(Ne),g(Me))},n.\u0275cmp=Se({type:n,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:Xe,decls:1,vars:0,template:function(t,r){1&t&&(Ke(),We(0))},encapsulation:2,changeDetection:0}),n=ye([Ye({defineCustomElementFn:void 0,inputs:["fixed"]})],n),n})(),Rn=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(g(Ge),g(Ne),g(Me))},n.\u0275cmp=Se({type:n,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Xe,decls:1,vars:0,template:function(t,r){1&t&&(Ke(),We(0))},encapsulation:2,changeDetection:0}),n=ye([Ye({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],n),n})(),_n=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(g(Ge),g(Ne),g(Me))},n.\u0275cmp=Se({type:n,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Xe,decls:1,vars:0,template:function(t,r){1&t&&(Ke(),We(0))},encapsulation:2,changeDetection:0}),n=ye([Ye({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],n),n})(),Vh=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Zt(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return n.\u0275fac=function(t){return new(t||n)(g(Ge),g(Ne),g(Me))},n.\u0275cmp=Se({type:n,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Xe,decls:1,vars:0,template:function(t,r){1&t&&(Ke(),We(0))},encapsulation:2,changeDetection:0}),n=ye([Ye({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],n),n})(),pn=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(g(Ge),g(Ne),g(Me))},n.\u0275cmp=Se({type:n,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Xe,decls:1,vars:0,template:function(t,r){1&t&&(Ke(),We(0))},encapsulation:2,changeDetection:0}),n=ye([Ye({defineCustomElementFn:void 0,inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],n),n})(),RE=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(g(Ge),g(Ne),g(Me))},n.\u0275cmp=Se({type:n,selectors:[["ion-item-divider"]],inputs:{color:"color",mode:"mode",sticky:"sticky"},ngContentSelectors:Xe,decls:1,vars:0,template:function(t,r){1&t&&(Ke(),We(0))},encapsulation:2,changeDetection:0}),n=ye([Ye({defineCustomElementFn:void 0,inputs:["color","mode","sticky"]})],n),n})(),kE=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(g(Ge),g(Ne),g(Me))},n.\u0275cmp=Se({type:n,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:Xe,decls:1,vars:0,template:function(t,r){1&t&&(Ke(),We(0))},encapsulation:2,changeDetection:0}),n=ye([Ye({defineCustomElementFn:void 0,inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],n),n})(),NE=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Zt(this,this.el,["ionSwipe"])}};return n.\u0275fac=function(t){return new(t||n)(g(Ge),g(Ne),g(Me))},n.\u0275cmp=Se({type:n,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:Xe,decls:1,vars:0,template:function(t,r){1&t&&(Ke(),We(0))},encapsulation:2,changeDetection:0}),n=ye([Ye({defineCustomElementFn:void 0,inputs:["side"]})],n),n})(),OE=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Zt(this,this.el,["ionDrag"])}};return n.\u0275fac=function(t){return new(t||n)(g(Ge),g(Ne),g(Me))},n.\u0275cmp=Se({type:n,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:Xe,decls:1,vars:0,template:function(t,r){1&t&&(Ke(),We(0))},encapsulation:2,changeDetection:0}),n=ye([Ye({defineCustomElementFn:void 0,inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],n),n})(),Dn=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(g(Ge),g(Ne),g(Me))},n.\u0275cmp=Se({type:n,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Xe,decls:1,vars:0,template:function(t,r){1&t&&(Ke(),We(0))},encapsulation:2,changeDetection:0}),n=ye([Ye({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],n),n})(),Qn=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(g(Ge),g(Ne),g(Me))},n.\u0275cmp=Se({type:n,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Xe,decls:1,vars:0,template:function(t,r){1&t&&(Ke(),We(0))},encapsulation:2,changeDetection:0}),n=ye([Ye({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],n),n})(),Lo=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(g(Ge),g(Ne),g(Me))},n.\u0275cmp=Se({type:n,selectors:[["ion-list-header"]],inputs:{color:"color",lines:"lines",mode:"mode"},ngContentSelectors:Xe,decls:1,vars:0,template:function(t,r){1&t&&(Ke(),We(0))},encapsulation:2,changeDetection:0}),n=ye([Ye({defineCustomElementFn:void 0,inputs:["color","lines","mode"]})],n),n})(),vL=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Zt(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}};return n.\u0275fac=function(t){return new(t||n)(g(Ge),g(Ne),g(Me))},n.\u0275cmp=Se({type:n,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:Xe,decls:1,vars:0,template:function(t,r){1&t&&(Ke(),We(0))},encapsulation:2,changeDetection:0}),n=ye([Ye({defineCustomElementFn:void 0,inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],n),n})(),Tc=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(g(Ge),g(Ne),g(Me))},n.\u0275cmp=Se({type:n,selectors:[["ion-menu-toggle"]],inputs:{autoHide:"autoHide",menu:"menu"},ngContentSelectors:Xe,decls:1,vars:0,template:function(t,r){1&t&&(Ke(),We(0))},encapsulation:2,changeDetection:0}),n=ye([Ye({defineCustomElementFn:void 0,inputs:["autoHide","menu"]})],n),n})(),yL=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Zt(this,this.el,["ionFocus","ionBlur"])}};return n.\u0275fac=function(t){return new(t||n)(g(Ge),g(Ne),g(Me))},n.\u0275cmp=Se({type:n,selectors:[["ion-radio"]],inputs:{color:"color",disabled:"disabled",mode:"mode",name:"name",value:"value"},ngContentSelectors:Xe,decls:1,vars:0,template:function(t,r){1&t&&(Ke(),We(0))},encapsulation:2,changeDetection:0}),n=ye([Ye({defineCustomElementFn:void 0,inputs:["color","disabled","mode","name","value"]})],n),n})(),_L=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Zt(this,this.el,["ionChange"])}};return n.\u0275fac=function(t){return new(t||n)(g(Ge),g(Ne),g(Me))},n.\u0275cmp=Se({type:n,selectors:[["ion-radio-group"]],inputs:{allowEmptySelection:"allowEmptySelection",name:"name",value:"value"},ngContentSelectors:Xe,decls:1,vars:0,template:function(t,r){1&t&&(Ke(),We(0))},encapsulation:2,changeDetection:0}),n=ye([Ye({defineCustomElementFn:void 0,inputs:["allowEmptySelection","name","value"]})],n),n})(),Bh=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Zt(this,this.el,["ionRefresh","ionPull","ionStart"])}};return n.\u0275fac=function(t){return new(t||n)(g(Ge),g(Ne),g(Me))},n.\u0275cmp=Se({type:n,selectors:[["ion-refresher"]],inputs:{closeDuration:"closeDuration",disabled:"disabled",pullFactor:"pullFactor",pullMax:"pullMax",pullMin:"pullMin",snapbackDuration:"snapbackDuration"},ngContentSelectors:Xe,decls:1,vars:0,template:function(t,r){1&t&&(Ke(),We(0))},encapsulation:2,changeDetection:0}),n=ye([Ye({defineCustomElementFn:void 0,inputs:["closeDuration","disabled","pullFactor","pullMax","pullMin","snapbackDuration"],methods:["complete","cancel","getProgress"]})],n),n})(),Uh=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(g(Ge),g(Ne),g(Me))},n.\u0275cmp=Se({type:n,selectors:[["ion-refresher-content"]],inputs:{pullingIcon:"pullingIcon",pullingText:"pullingText",refreshingSpinner:"refreshingSpinner",refreshingText:"refreshingText"},ngContentSelectors:Xe,decls:1,vars:0,template:function(t,r){1&t&&(Ke(),We(0))},encapsulation:2,changeDetection:0}),n=ye([Ye({defineCustomElementFn:void 0,inputs:["pullingIcon","pullingText","refreshingSpinner","refreshingText"]})],n),n})(),Ac=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(g(Ge),g(Ne),g(Me))},n.\u0275cmp=Se({type:n,selectors:[["ion-row"]],ngContentSelectors:Xe,decls:1,vars:0,template:function(t,r){1&t&&(Ke(),We(0))},encapsulation:2,changeDetection:0}),n=ye([Ye({defineCustomElementFn:void 0})],n),n})(),PE=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Zt(this,this.el,["ionInput","ionChange","ionCancel","ionClear","ionBlur","ionFocus"])}};return n.\u0275fac=function(t){return new(t||n)(g(Ge),g(Ne),g(Me))},n.\u0275cmp=Se({type:n,selectors:[["ion-searchbar"]],inputs:{animated:"animated",autocomplete:"autocomplete",autocorrect:"autocorrect",cancelButtonIcon:"cancelButtonIcon",cancelButtonText:"cancelButtonText",clearIcon:"clearIcon",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",mode:"mode",placeholder:"placeholder",searchIcon:"searchIcon",showCancelButton:"showCancelButton",showClearButton:"showClearButton",spellcheck:"spellcheck",type:"type",value:"value"},ngContentSelectors:Xe,decls:1,vars:0,template:function(t,r){1&t&&(Ke(),We(0))},encapsulation:2,changeDetection:0}),n=ye([Ye({defineCustomElementFn:void 0,inputs:["animated","autocomplete","autocorrect","cancelButtonIcon","cancelButtonText","clearIcon","color","debounce","disabled","enterkeyhint","inputmode","mode","placeholder","searchIcon","showCancelButton","showClearButton","spellcheck","type","value"],methods:["setFocus","getInputElement"]})],n),n})(),bL=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Zt(this,this.el,["ionSplitPaneVisible"])}};return n.\u0275fac=function(t){return new(t||n)(g(Ge),g(Ne),g(Me))},n.\u0275cmp=Se({type:n,selectors:[["ion-split-pane"]],inputs:{contentId:"contentId",disabled:"disabled",when:"when"},ngContentSelectors:Xe,decls:1,vars:0,template:function(t,r){1&t&&(Ke(),We(0))},encapsulation:2,changeDetection:0}),n=ye([Ye({defineCustomElementFn:void 0,inputs:["contentId","disabled","when"]})],n),n})(),jh=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(g(Ge),g(Ne),g(Me))},n.\u0275cmp=Se({type:n,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Xe,decls:1,vars:0,template:function(t,r){1&t&&(Ke(),We(0))},encapsulation:2,changeDetection:0}),n=ye([Ye({defineCustomElementFn:void 0,inputs:["color","mode"]})],n),n})(),IL=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Zt(this,this.el,["ionChange","ionInput","ionBlur","ionFocus"])}};return n.\u0275fac=function(t){return new(t||n)(g(Ge),g(Ne),g(Me))},n.\u0275cmp=Se({type:n,selectors:[["ion-textarea"]],inputs:{autoGrow:"autoGrow",autocapitalize:"autocapitalize",autofocus:"autofocus",clearOnEdit:"clearOnEdit",color:"color",cols:"cols",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",maxlength:"maxlength",minlength:"minlength",mode:"mode",name:"name",placeholder:"placeholder",readonly:"readonly",required:"required",rows:"rows",spellcheck:"spellcheck",value:"value",wrap:"wrap"},ngContentSelectors:Xe,decls:1,vars:0,template:function(t,r){1&t&&(Ke(),We(0))},encapsulation:2,changeDetection:0}),n=ye([Ye({defineCustomElementFn:void 0,inputs:["autoGrow","autocapitalize","autofocus","clearOnEdit","color","cols","debounce","disabled","enterkeyhint","inputmode","maxlength","minlength","mode","name","placeholder","readonly","required","rows","spellcheck","value","wrap"],methods:["setFocus","getInputElement"]})],n),n})(),Xr=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(g(Ge),g(Ne),g(Me))},n.\u0275cmp=Se({type:n,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Xe,decls:1,vars:0,template:function(t,r){1&t&&(Ke(),We(0))},encapsulation:2,changeDetection:0}),n=ye([Ye({defineCustomElementFn:void 0,inputs:["color","size"]})],n),n})(),kn=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(g(Ge),g(Ne),g(Me))},n.\u0275cmp=Se({type:n,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Xe,decls:1,vars:0,template:function(t,r){1&t&&(Ke(),We(0))},encapsulation:2,changeDetection:0}),n=ye([Ye({defineCustomElementFn:void 0,inputs:["color","mode"]})],n),n})();class SL{constructor(e={}){this.data=e}get(e){return this.data[e]}}let wm=(()=>{class n{constructor(t,r){this.zone=t,this.appRef=r}create(t,r,i,o){return new GQ(t,r,i,this.appRef,this.zone,o)}}return n.\u0275fac=function(t){return new(t||n)(Fe(Me),Fe(nh))},n.\u0275prov=Je({token:n,factory:n.\u0275fac}),n})();class GQ{constructor(e,t,r,i,o,s){this.resolverOrInjector=e,this.injector=t,this.location=r,this.appRef=i,this.zone=o,this.elementReferenceKey=s,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(e,t,r,i){return this.zone.run(()=>new Promise(o=>{const s=Object.assign({},r);void 0!==this.elementReferenceKey&&(s[this.elementReferenceKey]=e),o(zQ(this.zone,this.resolverOrInjector,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,e,t,s,i))}))}removeViewFromDom(e,t){return this.zone.run(()=>new Promise(r=>{const i=this.elRefMap.get(t);if(i){i.destroy(),this.elRefMap.delete(t);const o=this.elEventsMap.get(t);o&&(o(),this.elEventsMap.delete(t))}r()}))}}const zQ=(n,e,t,r,i,o,s,a,c,l,u)=>{let d;const f=Sn.create({providers:qQ(l),parent:t});if(e&&dL(e)){const N=e.resolveComponentFactory(c);d=r?r.createComponent(N,r.length,f):N.create(f)}else{if(!r)return null;d=r.createComponent(c,{index:r.indexOf,injector:f,environmentInjector:e})}const v=d.instance,E=d.location.nativeElement;if(l&&Object.assign(v,l),u)for(const N of u)E.classList.add(N);const x=wL(n,v,E);return a.appendChild(E),r||i.attachView(d.hostView),d.changeDetectorRef.reattach(),o.set(E,d),s.set(E,x),E},WQ=[Oh.L,Oh.a,Oh.b,Oh.c,Oh.d],wL=(n,e,t)=>n.run(()=>{const r=WQ.filter(i=>"function"==typeof e[i]).map(i=>{const o=s=>e[i](s.detail);return t.addEventListener(i,o),()=>t.removeEventListener(i,o)});return()=>r.forEach(i=>i())}),CL=new lt("NavParamsToken"),qQ=n=>[{provide:CL,useValue:n},{provide:SL,useFactory:KQ,deps:[CL]}],KQ=n=>new SL(n),DL=(n,e)=>((n=n.filter(t=>t.stackId!==e.stackId)).push(e),n),FE=(n,e)=>{const t=n.createUrlTree(["."],{relativeTo:e});return n.serializeUrl(t)},JQ=(n,e)=>{if(!n)return;const t=TL(e);for(let r=0;r<t.length;r++){if(r>=n.length)return t[r];if(t[r]!==n[r])return}},TL=n=>n.split("/").map(e=>e.trim()).filter(e=>""!==e),AL=n=>{n&&(n.ref.destroy(),n.unlistenEvents())};class eJ{constructor(e,t,r,i,o,s){this.containerEl=t,this.router=r,this.navCtrl=i,this.zone=o,this.location=s,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==e?TL(e):void 0}createView(e,t){var r;const i=FE(this.router,t),o=null===(r=null==e?void 0:e.location)||void 0===r?void 0:r.nativeElement,s=wL(this.zone,e.instance,o);return{id:this.nextId++,stackId:JQ(this.tabsPrefix,i),unlistenEvents:s,element:o,ref:e,url:i}}getExistingView(e){const t=FE(this.router,e),r=this.views.find(i=>i.url===t);return r&&r.ref.changeDetectorRef.reattach(),r}setActive(e){var t,r;const i=this.navCtrl.consumeTransition();let{direction:o,animation:s,animationBuilder:a}=i;const c=this.activeView,l=((n,e)=>!e||n.stackId!==e.stackId)(e,c);l&&(o="back",s=void 0);const u=this.views.slice();let d;const f=this.router;f.getCurrentNavigation?d=f.getCurrentNavigation():!(null===(t=f.navigations)||void 0===t)&&t.value&&(d=f.navigations.value),null!==(r=null==d?void 0:d.extras)&&void 0!==r&&r.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const v=this.views.includes(e),E=this.insertView(e,o);v||e.ref.changeDetectorRef.detectChanges();const x=e.animationBuilder;return void 0===a&&"back"===o&&!l&&void 0!==x&&(a=x),c&&(c.animationBuilder=a),this.zone.runOutsideAngular(()=>this.wait(()=>(c&&c.ref.changeDetectorRef.detach(),e.ref.changeDetectorRef.reattach(),this.transition(e,c,s,this.canGoBack(1),!1,a).then(()=>tJ(e,E,u,this.location,this.zone)).then(()=>({enteringView:e,direction:o,animation:s,tabSwitch:l})))))}canGoBack(e,t=this.getActiveStackId()){return this.getStack(t).length>e}pop(e,t=this.getActiveStackId()){return this.zone.run(()=>{var r,i;const o=this.getStack(t);if(o.length<=e)return Promise.resolve(!1);const s=o[o.length-e-1];let a=s.url;const c=s.savedData;if(c){const u=c.get("primary");null!==(i=null===(r=null==u?void 0:u.route)||void 0===r?void 0:r._routerState)&&void 0!==i&&i.snapshot.url&&(a=u.route._routerState.snapshot.url)}const{animationBuilder:l}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(a,Object.assign(Object.assign({},s.savedExtras),{animation:l})).then(()=>!0)})}startBackTransition(){const e=this.activeView;if(e){const t=this.getStack(e.stackId),r=t[t.length-2],i=r.animationBuilder;return this.wait(()=>this.transition(r,e,"back",this.canGoBack(2),!0,i))}return Promise.resolve()}endBackTransition(e){e?(this.skipTransition=!0,this.pop(1)):this.activeView&&xL(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(e){const t=this.getStack(e);return t.length>0?t[t.length-1]:void 0}getRootUrl(e){const t=this.getStack(e);return t.length>0?t[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(AL),this.activeView=void 0,this.views=[]}getStack(e){return this.views.filter(t=>t.stackId===e)}insertView(e,t){return this.activeView=e,this.views=((n,e,t)=>"root"===t?DL(n,e):"forward"===t?((n,e)=>(n.indexOf(e)>=0?n=n.filter(r=>r.stackId!==e.stackId||r.id<=e.id):n.push(e),n))(n,e):((n,e)=>n.indexOf(e)>=0?n.filter(r=>r.stackId!==e.stackId||r.id<=e.id):DL(n,e))(n,e))(this.views,e,t),this.views.slice()}transition(e,t,r,i,o,s){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(t===e)return Promise.resolve(!1);const a=e?e.element:void 0,c=t?t.element:void 0,l=this.containerEl;return a&&a!==c&&(a.classList.add("ion-page"),a.classList.add("ion-page-invisible"),a.parentElement!==l&&l.appendChild(a),l.commit)?l.commit(a,c,{deepWait:!0,duration:void 0===r?0:void 0,direction:r,showGoBack:i,progressAnimation:o,animationBuilder:s}):Promise.resolve(!1)}wait(e){return $(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const t=this.runningTask=e();return t.finally(()=>this.runningTask=void 0),t})}}const tJ=(n,e,t,r,i)=>"function"==typeof requestAnimationFrame?new Promise(o=>{requestAnimationFrame(()=>{xL(n,e,t,r,i),o()})}):Promise.resolve(),xL=(n,e,t,r,i)=>{i.run(()=>t.filter(o=>!e.includes(o)).forEach(AL)),e.forEach(o=>{const a=r.path().split("?")[0].split("#")[0];if(o!==n&&o.url!==a){const c=o.element;c.setAttribute("aria-hidden","true"),c.classList.add("ion-page-hidden"),o.ref.changeDetectorRef.detach()}})};let ML=(()=>{class n{get(t,r){const i=LE();return i?i.get(t,r):null}getBoolean(t,r){const i=LE();return!!i&&i.getBoolean(t,r)}getNumber(t,r){const i=LE();return i?i.getNumber(t,r):0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const RL=new lt("USERCONFIG"),LE=()=>{if(typeof window<"u"){const n=window.Ionic;if(null!=n&&n.config)return n.config}return null};let nJ=(()=>{class n{constructor(t,r){this.doc=t,this.backButton=new fe,this.keyboardDidShow=new fe,this.keyboardDidHide=new fe,this.pause=new fe,this.resume=new fe,this.resize=new fe,r.run(()=>{var i;let o;this.win=t.defaultView,this.backButton.subscribeWithPriority=function(s,a){return this.subscribe(c=>c.register(s,l=>r.run(()=>a(l))))},Eu(this.pause,t,"pause"),Eu(this.resume,t,"resume"),Eu(this.backButton,t,"ionBackButton"),Eu(this.resize,this.win,"resize"),Eu(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Eu(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(s=>{o=s}),null!==(i=this.win)&&void 0!==i&&i.cordova?t.addEventListener("deviceready",()=>{o("cordova")},{once:!0}):o("dom")})}is(t){return(0,AE.a)(this.win,t)}platforms(){return(0,AE.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(t){return rJ(this.win.location.href,t)}isLandscape(){return!this.isPortrait()}isPortrait(){var t,r;return null===(r=(t=this.win).matchMedia)||void 0===r?void 0:r.call(t,"(orientation: portrait)").matches}testUserAgent(t){const r=this.win.navigator;return!!(null!=r&&r.userAgent&&r.userAgent.indexOf(t)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return n.\u0275fac=function(t){return new(t||n)(Fe(Yr),Fe(Me))},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rJ=(n,e)=>{e=e.replace(/[[\]\\]/g,"\\$&");const r=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(n);return r?decodeURIComponent(r[1].replace(/\+/g," ")):null},Eu=(n,e,t)=>{e&&e.addEventListener(t,r=>{n.next(null!=r?r.detail:void 0)})};let Hh=(()=>{class n{constructor(t,r,i,o){this.location=r,this.serializer=i,this.router=o,this.direction=kL,this.animated=NL,this.guessDirection="forward",this.lastNavId=-1,o&&o.events.subscribe(s=>{if(s instanceof Xg){const a=s.restoredState?s.restoredState.navigationId:s.id;this.guessDirection=a<this.lastNavId?"back":"forward",this.guessAnimation=s.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?s.id:a}}),t.backButton.subscribeWithPriority(0,s=>{this.pop(),s()})}navigateForward(t,r={}){return this.setDirection("forward",r.animated,r.animationDirection,r.animation),this.navigate(t,r)}navigateBack(t,r={}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.navigate(t,r)}navigateRoot(t,r={}){return this.setDirection("root",r.animated,r.animationDirection,r.animation),this.navigate(t,r)}back(t={animated:!0,animationDirection:"back"}){return this.setDirection("back",t.animated,t.animationDirection,t.animation),this.location.back()}pop(){return $(this,void 0,void 0,function*(){let t=this.topOutlet;for(;t&&!(yield t.pop());)t=t.parentOutlet})}setDirection(t,r,i,o){this.direction=t,this.animated=iJ(t,r,i),this.animationBuilder=o}setTopOutlet(t){this.topOutlet=t}consumeTransition(){let r,t="root";const i=this.animationBuilder;return"auto"===this.direction?(t=this.guessDirection,r=this.guessAnimation):(r=this.animated,t=this.direction),this.direction=kL,this.animated=NL,this.animationBuilder=void 0,{direction:t,animation:r,animationBuilder:i}}navigate(t,r){if(Array.isArray(t))return this.router.navigate(t,r);{const i=this.serializer.parse(t.toString());return void 0!==r.queryParams&&(i.queryParams=Object.assign({},r.queryParams)),void 0!==r.fragment&&(i.fragment=r.fragment),this.router.navigateByUrl(i,r)}}}return n.\u0275fac=function(t){return new(t||n)(Fe(nJ),Fe(oh),Fe(su),Fe(Dt,8))},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const iJ=(n,e,t)=>{if(!1!==e){if(void 0!==t)return t;if("forward"===n||"back"===n)return n;if("root"===n&&!0===e)return"forward"}},kL="auto",NL=void 0;let Iu=(()=>{class n{constructor(t,r,i,o,s,a,c,l,u,d,f,v,E){this.parentContexts=t,this.location=r,this.config=s,this.navCtrl=a,this.componentFactoryResolver=c,this.parentOutlet=E,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new qi(null),this.stackEvents=new tn,this.activateEvents=new tn,this.deactivateEvents=new tn,this.nativeEl=u.nativeElement,this.name=i||Ct,this.tabsPrefix="true"===o?FE(d,v):void 0,this.stackCtrl=new eJ(this.tabsPrefix,this.nativeEl,d,a,f,l),t.onChildOutletCreated(this.name,this)}set animation(t){this.nativeEl.animation=t}set animated(t){this.nativeEl.animated=t}set swipeGesture(t){this._swipeGesture=t,this.nativeEl.swipeHandler=t?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:r=>this.stackCtrl.endBackTransition(r)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const t=this.getContext();null!=t&&t.route&&this.activateWith(t.route,t.resolver||null)}new Promise(t=>(0,vu.c)(this.nativeEl,t)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(t,r){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const r=this.getContext();this.activatedView.savedData=new Map(r.children.contexts);const i=this.activatedView.savedData.get("primary");if(i&&r.route&&(i.route=Object.assign({},r.route)),this.activatedView.savedExtras={},r.route){const o=r.route.snapshot;this.activatedView.savedExtras.queryParams=o.queryParams,this.activatedView.savedExtras.fragment=o.fragment}}const t=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){var i;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;let o,s=this.stackCtrl.getExistingView(t);if(s){o=this.activated=s.ref;const a=s.savedData;a&&(this.getContext().children.contexts=a),this.updateActivatedRouteProxy(o.instance,t)}else{const a=t._futureSnapshot;if(null==a.routeConfig.component&&null==this.environmentInjector)return void console.warn('[Ionic Warning]: You must supply an environmentInjector to use standalone components with routing:\n\nIn your component class, add:\n\n   import { EnvironmentInjector } from \'@angular/core\';\n   constructor(public environmentInjector: EnvironmentInjector) {}\n\nIn your router outlet template, add:\n\n   <ion-router-outlet [environmentInjector]="environmentInjector"></ion-router-outlet>\n\nAlternatively, if you are routing within ion-tabs:\n\n   <ion-tabs [environmentInjector]="environmentInjector"></ion-tabs>');const c=this.parentContexts.getOrCreateContext(this.name).children,l=new qi(null),u=this.createActivatedRouteProxy(l,t),d=new oJ(u,c,this.location.injector),f=null!==(i=a.routeConfig.component)&&void 0!==i?i:a.component;if((r=r||this.componentFactoryResolver)&&dL(r)){const v=r.resolveComponentFactory(f);o=this.activated=this.location.createComponent(v,this.location.length,d)}else o=this.activated=this.location.createComponent(f,{index:this.location.length,injector:d,environmentInjector:null!=r?r:this.environmentInjector});l.next(o.instance),s=this.stackCtrl.createView(this.activated,t),this.proxyMap.set(o.instance,u),this.currentActivatedRoute$.next({component:o.instance,activatedRoute:t})}this.activatedView=s,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(s).then(a=>{this.activateEvents.emit(o.instance),this.stackEvents.emit(a)})}canGoBack(t=1,r){return this.stackCtrl.canGoBack(t,r)}pop(t=1,r){return this.stackCtrl.pop(t,r)}getLastUrl(t){const r=this.stackCtrl.getLastUrl(t);return r?r.url:void 0}getLastRouteView(t){return this.stackCtrl.getLastUrl(t)}getRootView(t){return this.stackCtrl.getRootUrl(t)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(t,r){const i=new Us;return i._futureSnapshot=r._futureSnapshot,i._routerState=r._routerState,i.snapshot=r.snapshot,i.outlet=r.outlet,i.component=r.component,i._paramMap=this.proxyObservable(t,"paramMap"),i._queryParamMap=this.proxyObservable(t,"queryParamMap"),i.url=this.proxyObservable(t,"url"),i.params=this.proxyObservable(t,"params"),i.queryParams=this.proxyObservable(t,"queryParams"),i.fragment=this.proxyObservable(t,"fragment"),i.data=this.proxyObservable(t,"data"),i}proxyObservable(t,r){return t.pipe(Qo(i=>!!i),fo(i=>this.currentActivatedRoute$.pipe(Qo(o=>null!==o&&o.component===i),fo(o=>o&&o.activatedRoute[r]),function GX(n,e=k){return n=null!=n?n:zX,j((t,r)=>{let i,o=!0;t.subscribe(_e(r,s=>{const a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}())))}updateActivatedRouteProxy(t,r){const i=this.proxyMap.get(t);if(!i)throw new Error("Could not find activated route proxy for view");i._futureSnapshot=r._futureSnapshot,i._routerState=r._routerState,i.snapshot=r.snapshot,i.outlet=r.outlet,i.component=r.component,this.currentActivatedRoute$.next({component:t,activatedRoute:r})}}return n.\u0275fac=function(t){return new(t||n)(g(bc),g(Ci),Dl("name"),Dl("tabs"),g(ML),g(Hh),g(As,8),g(oh),g(Ne),g(Dt),g(Me),g(Us),g(n,12))},n.\u0275dir=ut({type:n,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",environmentInjector:"environmentInjector"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class oJ{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Us?this.route:e===bc?this.childContexts:this.parent.get(e,t)}}let $E=(()=>{class n{constructor(t,r,i,o,s){this.locationStrategy=t,this.navCtrl=r,this.elementRef=i,this.router=o,this.routerLink=s,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var t;if(null!==(t=this.routerLink)&&void 0!==t&&t.urlTree){const r=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=r}}onClick(t){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(g(Ls),g(Hh),g(Ne),g(Dt),g(Ec,8))},n.\u0275dir=ut({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&xe("click",function(o){return r.onClick(o)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[si]}),n})(),LL=(()=>{let n=class{constructor(t,r,i){this.z=i,this.isCmpOpen=!1,this.el=r.nativeElement,this.el.addEventListener("willPresent",()=>{this.isCmpOpen=!0,t.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,t.detectChanges()}),Zt(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}};return n.\u0275fac=function(t){return new(t||n)(g(Ge),g(Ne),g(Me))},n.\u0275cmp=Se({type:n,selectors:[["ion-modal"]],contentQueries:function(t,r,i){if(1&t&&ks(i,wi,5),2&t){let o;Mo(o=Ro())&&(r.template=o.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",swipeToClose:"swipeToClose",translucent:"translucent",trigger:"trigger"},decls:1,vars:1,consts:[["class","ion-page",4,"ngIf"],[1,"ion-page"],[3,"ngTemplateOutlet"]],template:function(t,r){1&t&&at(0,JX,2,1,"div",0),2&t&&le("ngIf",r.isCmpOpen||r.keepContentsMounted)},dependencies:[Ti,yb],encapsulation:2,changeDetection:0}),n=ye([Ye({inputs:["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","swipeToClose","translucent","trigger"],methods:["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"]})],n),n})();class Gh{constructor(e){this.ctrl=e}create(e){return this.ctrl.create(e||{})}dismiss(e,t,r){return this.ctrl.dismiss(e,t,r)}getTop(){return this.ctrl.getTop()}}let fJ=(()=>{class n extends Gh{constructor(){super(Ph.a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pJ=(()=>{class n extends Gh{constructor(){super(Ph.l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class $L{}let gJ=(()=>{class n extends Gh{constructor(t,r,i,o){super(Ph.m),this.angularDelegate=t,this.resolver=r,this.injector=i,this.environmentInjector=o}create(t){var r;return super.create(Object.assign(Object.assign({},t),{delegate:this.angularDelegate.create(null!==(r=this.resolver)&&void 0!==r?r:this.environmentInjector,this.injector,void 0,"modal")}))}}return n.\u0275fac=function(t){return new(t||n)(Fe(wm),Fe(As),Fe(Sn),Fe($L,8))},n.\u0275prov=Je({token:n,factory:n.\u0275fac}),n})(),VL=(()=>{class n extends Gh{constructor(t,r,i,o){super(Ph.c),this.angularDelegate=t,this.resolver=r,this.injector=i,this.environmentInjector=o}create(t){var r;return super.create(Object.assign(Object.assign({},t),{delegate:this.angularDelegate.create(null!==(r=this.resolver)&&void 0!==r?r:this.environmentInjector,this.injector,void 0,"popover")}))}}return n.\u0275fac=function(t){return new(t||n)(Fe(wm),Fe(As),Fe(Sn),Fe($L,8))},n.\u0275prov=Je({token:n,factory:n.\u0275fac}),n})(),mJ=(()=>{class n extends Gh{constructor(){super(Ph.t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class vJ{shouldDetach(e){return!1}shouldAttach(e){return!1}store(e,t){}retrieve(e){return null}shouldReuseRoute(e,t){if(e.routeConfig!==t.routeConfig)return!1;const r=e.params,i=t.params,o=Object.keys(r),s=Object.keys(i);if(o.length!==s.length)return!1;for(const a of o)if(i[a]!==r[a])return!1;return!0}}const yJ=(n,e,t)=>()=>{if(e.defaultView&&typeof window<"u"){(n=>{const e=window,t=e.Ionic;t&&t.config&&"Object"!==t.config.constructor.name||(e.Ionic=e.Ionic||{},e.Ionic.config=Object.assign(Object.assign({},e.Ionic.config),n))})(Object.assign(Object.assign({},n),{_zoneGate:o=>t.run(o)}));const i="__zone_symbol__addEventListener"in e.body?"__zone_symbol__addEventListener":"addEventListener";return function WX(){var n=[];if(typeof window<"u"){var e=window;(!e.customElements||e.Element&&(!e.Element.prototype.closest||!e.Element.prototype.matches||!e.Element.prototype.remove||!e.Element.prototype.getRootNode))&&n.push(me.e(6748).then(me.t.bind(me,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||e.NodeList&&!e.NodeList.prototype.forEach||!e.fetch||!function(){try{var r=new URL("b","http://a");return r.pathname="c%20d","http://a/c%20d"===r.href&&r.searchParams}catch(i){return!1}}()||typeof WeakMap>"u")&&n.push(me.e(2214).then(me.t.bind(me,4144,23)))}return Promise.all(n)}().then(()=>((n,e)=>typeof window>"u"?Promise.resolve():(0,cL.p)().then(()=>(qX(),(0,cL.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"activated":[32]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),e))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:uL,jmp:o=>t.runOutsideAngular(o),ael(o,s,a,c){o[i](s,a,c)},rel(o,s,a,c){o.removeEventListener(s,a,c)}}))}};let _J=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:RL,useValue:t},{provide:eh,useFactory:yJ,multi:!0,deps:[RL,Yr,Me]}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jr({type:n}),n.\u0275inj=Dr({providers:[wm,gJ,VL],imports:[[pO]]}),n})(),bJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Se({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,r){1&t&&(w(0,"ion-app"),Ve(1,"ion-router-outlet"),C())},dependencies:[ME,Iu],encapsulation:2}),n})();function EJ(n,e){if(1&n){const t=Jt();w(0,"ion-item",1),xe("click",function(){const o=Ot(t).$implicit;return Pt(it().open(o))}),oe(1),C()}if(2&n){const t=e.$implicit;le("button",!0)("detail",!1),W(1),Kr(" ",t.title," ")}}let IJ=(()=>{class n{constructor(t){this.router=t,this.items=[{title:"Configuraci\xf3n",path:"mail/create-settings"}],console.log("[PopoverCreateInbox.constructor]")}open(t){return $(this,void 0,void 0,function*(){console.log("[PopoverCreateInbox.open]"),yield this.router.navigate([t.path])})}}return n.\u0275fac=function(t){return new(t||n)(g(Dt))},n.\u0275cmp=Se({type:n,selectors:[["app-popover-create-inbox"]],decls:2,vars:1,consts:[[3,"button","detail","click",4,"ngFor","ngForOf"],[3,"button","detail","click"]],template:function(t,r){1&t&&(w(0,"ion-content"),at(1,EJ,2,3,"ion-item",0),C()),2&t&&(W(1),le("ngForOf",r.items))},dependencies:[Wi,nn,pn],encapsulation:2}),n})(),ln={SETTINGS:{INBOX_SHOW_BUTTON_STARRED:!0,INBOX_SHOW_BUTTON_SYNC:!0,INBOX_SHOW_BUTTON_SEARCH:!0,INBOX_SHOW_BUTTON_UN_READ:!0,INBOX_SHOW_BUTTON_REMOVE:!1,INBOX_SHOW_BUTTON_ARCHIVE:!1,INBOX_CONFIRM_BEFORE_SENT:!1,INBOX_CONFIRM_BEFORE_FILING:!0,SENT_SHOW_BUTTON_SEARCH:!0,STARRED_SHOW_BUTTON_SEARCH:!0,TRASH_SHOW_BUTTON_SEARCH:!0,GENERAL_SHOW_BUTTON_PURGE:!1,GENERAL_INITIALIZE_DATABASE:!0,GENERAL_CONFIRM_PURGE_DATABASE:!0,GENERAL_CONFIRM_BEFORE_MESSAGE_TRASH:!1,GENERAL_CONFIRM_BEFORE_MESSAGE_INBOX:!0,GENERAL_CONFIRM_BEFORE_MESSAGE_DELETE:!1}};var SJ=me(8490),BL=me.n(SJ),T=me(5861);const UL=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},BE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,l=c?n[i+2]:0;let f=(15&a)<<2|l>>6,v=63&l;c||(v=64,s||(f=64)),r.push(t[o>>2],t[(3&o)<<4|a>>4],t[f],t[v])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(UL(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const c=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const o=n[t++],s=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const l=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==o||null==a||null==l||null==d)throw new TJ;r.push(o<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==d&&r.push(l<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class TJ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Cm=function(n){return function(n){const e=UL(n);return BE.encodeByteArray(e,!0)}(n).replace(/\./g,"")},Dm=function(n){try{return BE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Tm=()=>{try{return function MJ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(t){return}const e=n&&Dm(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},HL=n=>{var e,t;return null===(t=null===(e=Tm())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},OJ=n=>{const e=HL(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]},PJ=()=>{var n;return null===(n=Tm())||void 0===n?void 0:n.config},GL=n=>{var e;return null===(e=Tm())||void 0===e?void 0:e[`_${n}`]};class Am{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function mr(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function UE(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function xc(){try{return"object"==typeof indexedDB}catch(n){return!1}}function zh(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(t){e(t)}})}function jE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class mo extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,mo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ts.prototype.create)}}class ts{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function jJ(n,e){return n.replace(HJ,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new mo(i,`${this.serviceName}: ${s} (${i}).`,r)}}const HJ=/\{\$([^}]+)}/g;function Mm(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],s=e[i];if(WL(o)&&WL(s)){if(!Mm(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function WL(n){return null!==n&&"object"==typeof n}function Rm(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Wh(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function qh(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}class WJ{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function qJ(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=HE),void 0===i.error&&(i.error=HE),void 0===i.complete&&(i.complete=HE);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(s){}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HE(){}const KJ=1e3,YJ=2,ZJ=144e5,XJ=.5;function zE(n,e=KJ,t=YJ){const r=e*Math.pow(t,n),i=Math.round(XJ*r*(Math.random()-.5)*2);return Math.min(ZJ,r+i)}function Nn(n){return n&&n._delegate?n._delegate:n}class Qr{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Mc="[DEFAULT]";class JJ{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Am;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function tee(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Mc})}catch(t){}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch(o){}}}}clearInstance(e=Mc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return(0,T.Z)(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Mc){return this.instances.has(e)}getOptions(e=Mc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch(o){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===Mc?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}var n;return r||null}normalizeInstanceIdentifier(e=Mc){return this.component?this.component.multipleInstances?e:Mc:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class nee{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new JJ(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const WE=[];var jt=(()=>{return(n=jt||(jt={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",jt;var n})();const qL={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},ree=jt.INFO,iee={[jt.DEBUG]:"log",[jt.VERBOSE]:"log",[jt.INFO]:"info",[jt.WARN]:"warn",[jt.ERROR]:"error"},oee=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=iee[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class Su{constructor(e){this.name=e,this._logLevel=ree,this._logHandler=oee,this._userLogHandler=null,WE.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in jt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?qL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,jt.DEBUG,...e),this._logHandler(this,jt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,jt.VERBOSE,...e),this._logHandler(this,jt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,jt.INFO,...e),this._logHandler(this,jt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,jt.WARN,...e),this._logHandler(this,jt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,jt.ERROR,...e),this._logHandler(this,jt.ERROR,...e)}}const see=(n,e)=>e.some(t=>n instanceof t);let KL,YL;const ZL=new WeakMap,qE=new WeakMap,XL=new WeakMap,KE=new WeakMap,YE=new WeakMap;let ZE={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return qE.get(n);if("objectStoreNames"===e)return n.objectStoreNames||XL.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Hs(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function fee(n){return"function"==typeof n?function hee(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function cee(){return YL||(YL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(XE(this),e),Hs(ZL.get(this))}:function(...e){return Hs(n.apply(XE(this),e))}:function(e,...t){const r=n.call(XE(this),e,...t);return XL.set(r,e.sort?e.sort():[e]),Hs(r)}}(n):(n instanceof IDBTransaction&&function uee(n){if(qE.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});qE.set(n,e)}(n),see(n,function aee(){return KL||(KL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,ZE):n)}function Hs(n){if(n instanceof IDBRequest)return function lee(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Hs(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&ZL.set(t,n)}).catch(()=>{}),YE.set(e,n),e}(n);if(KE.has(n))return KE.get(n);const e=fee(n);return e!==n&&(KE.set(n,e),YE.set(e,n)),e}const XE=n=>YE.get(n);function km(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(n,e),a=Hs(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Hs(s.result),c.oldVersion,c.newVersion,Hs(s.transaction))}),t&&s.addEventListener("blocked",()=>t()),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function QE(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),Hs(t).then(()=>{})}const pee=["get","getKey","getAll","getAllKeys","count"],gee=["put","add","delete","clear"],JE=new Map;function QL(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(JE.get(e))return JE.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=gee.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!pee.includes(t))return;const o=function(){var s=(0,T.Z)(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[t](...c),i&&l.done]))[0]});return function(c){return s.apply(this,arguments)}}();return JE.set(e,o),o}!function dee(n){ZE=n(ZE)}(n=>({...n,get:(e,t,r)=>QL(e,t)||n.get(e,t,r),has:(e,t)=>!!QL(e,t)||n.has(e,t)}));class mee{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function vee(n){const e=n.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const eI="@firebase/app",Rc=new Su("@firebase/app"),Nm="[DEFAULT]",Hee={[eI]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},kc=new Map,Om=new Map;function Gee(n,e){try{n.container.addComponent(e)}catch(t){Rc.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function pi(n){const e=n.name;if(Om.has(e))return Rc.debug(`There were multiple attempts to register component ${e}.`),!1;Om.set(e,n);for(const t of kc.values())Gee(t,n);return!0}function wu(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const Gs=new ts("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Wee{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gs.create("app-deleted",{appName:this._name})}}const Cu="9.17.2";function e2(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Nm,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Gs.create("bad-app-name",{appName:String(i)});if(t||(t=PJ()),!t)throw Gs.create("no-options");const o=kc.get(i);if(o){if(Mm(t,o.options)&&Mm(r,o.config))return o;throw Gs.create("duplicate-app",{appName:i})}const s=new nee(i);for(const c of Om.values())s.addComponent(c);const a=new Wee(t,r,s);return kc.set(i,a),a}function tI(n=Nm){const e=kc.get(n);if(!e&&n===Nm)return e2();if(!e)throw Gs.create("no-app",{appName:n});return e}function t2(){return Array.from(kc.values())}function On(n,e,t){var r;let i=null!==(r=Hee[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Rc.warn(a.join(" "))}pi(new Qr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const qee="firebase-heartbeat-database",Kee=1,Kh="firebase-heartbeat-store";let rI=null;function n2(){return rI||(rI=km(qee,Kee,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Kh)}}).catch(n=>{throw Gs.create("idb-open",{originalErrorMessage:n.message})})),rI}function iI(){return(iI=(0,T.Z)(function*(n){try{return(yield n2()).transaction(Kh).objectStore(Kh).get(i2(n))}catch(e){if(e instanceof mo)Rc.warn(e.message);else{const t=Gs.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});Rc.warn(t.message)}}})).apply(this,arguments)}function r2(n,e){return oI.apply(this,arguments)}function oI(){return(oI=(0,T.Z)(function*(n,e){try{const r=(yield n2()).transaction(Kh,"readwrite");return yield r.objectStore(Kh).put(e,i2(n)),r.done}catch(t){if(t instanceof mo)Rc.warn(t.message);else{const r=Gs.create("idb-set",{originalErrorMessage:null==t?void 0:t.message});Rc.warn(r.message)}}})).apply(this,arguments)}function i2(n){return`${n.name}!${n.options.appId}`}class Qee{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ete(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return(0,T.Z)(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=o2();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(o=>o.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return(0,T.Z)(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=o2(),{heartbeatsToSend:r,unsentEntries:i}=function Jee(n,e=1024){const t=[];let r=n.slice();for(const i of n){const o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),s2(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),s2(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),o=Cm(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function o2(){return(new Date).toISOString().substring(0,10)}class ete{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,T.Z)(function*(){return!!xc()&&zh().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return(0,T.Z)(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Yee(n){return iI.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return(0,T.Z)(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return r2(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return(0,T.Z)(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return r2(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function s2(n){return Cm(JSON.stringify({version:2,heartbeats:n})).length}!function tte(n){pi(new Qr("platform-logger",e=>new mee(e),"PRIVATE")),pi(new Qr("heartbeat",e=>new Qee(e),"PRIVATE")),On(eI,"0.9.4",n),On(eI,"0.9.4","esm2017"),On("fire-js","")}(""),On("firebase","9.17.2","app");const a2="@firebase/installations",sI="0.6.4",c2=1e4,l2=`w:${sI}`,u2="FIS_v2",ite="https://firebaseinstallations.googleapis.com/v1",ote=36e5,zs=new ts("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function d2(n){return n instanceof mo&&n.code.includes("request-failed")}function aI({projectId:n}){return`${ite}/projects/${n}/installations`}function h2(n){return{token:n.token,requestStatus:2,expiresIn:lte(n.expiresIn),creationTime:Date.now()}}function cI(n,e){return lI.apply(this,arguments)}function lI(){return(lI=(0,T.Z)(function*(n,e){const r=(yield e.json()).error;return zs.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function f2({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function uI(n){return dI.apply(this,arguments)}function dI(){return(dI=(0,T.Z)(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function lte(n){return Number(n.replace("s","000"))}function hI(){return(hI=(0,T.Z)(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=aI(n),i=f2(n),o=e.getImmediate({optional:!0});if(o){const l=yield o.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:u2,appId:n.appId,sdkVersion:l2})},c=yield uI(()=>fetch(r,a));if(c.ok){const l=yield c.json();return{fid:l.fid||t,registrationStatus:2,refreshToken:l.refreshToken,authToken:h2(l.authToken)}}throw yield cI("Create Installation",c)})).apply(this,arguments)}function g2(n){return new Promise(e=>{setTimeout(e,n)})}const fte=/^[cdef][\w-]{21}$/,fI="";function pte(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function gte(n){return function hte(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return fte.test(t)?t:fI}catch(n){return fI}}function Du(n){return`${n.appName}!${n.appId}`}const Tu=new Map;function m2(n,e){const t=Du(n);v2(t,e),function yte(n,e){const t=function y2(){return!Nc&&"BroadcastChannel"in self&&(Nc=new BroadcastChannel("[Firebase] FID Change"),Nc.onmessage=n=>{v2(n.data.key,n.data.fid)}),Nc}();t&&t.postMessage({key:n,fid:e}),function _2(){0===Tu.size&&Nc&&(Nc.close(),Nc=null)}()}(t,e)}function v2(n,e){const t=Tu.get(n);if(t)for(const r of t)r(e)}let Nc=null;const _te="firebase-installations-database",bte=1,Oc="firebase-installations-store";let pI=null;function gI(){return pI||(pI=km(_te,bte,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Oc)}})),pI}function Pm(n,e){return mI.apply(this,arguments)}function mI(){return(mI=(0,T.Z)(function*(n,e){const t=Du(n),i=(yield gI()).transaction(Oc,"readwrite"),o=i.objectStore(Oc),s=yield o.get(t);return yield o.put(e,t),yield i.done,(!s||s.fid!==e.fid)&&m2(n,e.fid),e})).apply(this,arguments)}function vI(n){return yI.apply(this,arguments)}function yI(){return(yI=(0,T.Z)(function*(n){const e=Du(n),r=(yield gI()).transaction(Oc,"readwrite");yield r.objectStore(Oc).delete(e),yield r.done})).apply(this,arguments)}function Yh(n,e){return _I.apply(this,arguments)}function _I(){return(_I=(0,T.Z)(function*(n,e){const t=Du(n),i=(yield gI()).transaction(Oc,"readwrite"),o=i.objectStore(Oc),s=yield o.get(t),a=e(s);return void 0===a?yield o.delete(t):yield o.put(a,t),yield i.done,a&&(!s||s.fid!==a.fid)&&m2(n,a.fid),a})).apply(this,arguments)}function bI(n){return EI.apply(this,arguments)}function EI(){return EI=(0,T.Z)(function*(n){let e;const t=yield Yh(n.appConfig,r=>{const i=function Ete(n){return E2(n||{fid:pte(),registrationStatus:0})}(r),o=function Ite(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(zs.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Ste(n,e){return II.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:wte(n)}:{installationEntry:e}}(n,i);return e=o.registrationPromise,o.installationEntry});return t.fid===fI?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),EI.apply(this,arguments)}function II(){return II=(0,T.Z)(function*(n,e){try{const t=yield function dte(n,e){return hI.apply(this,arguments)}(n,e);return Pm(n.appConfig,t)}catch(t){throw d2(t)&&409===t.customData.serverCode?yield vI(n.appConfig):yield Pm(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),II.apply(this,arguments)}function wte(n){return SI.apply(this,arguments)}function SI(){return(SI=(0,T.Z)(function*(n){let e=yield b2(n.appConfig);for(;1===e.registrationStatus;)yield g2(100),e=yield b2(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield bI(n);return r||t}return e})).apply(this,arguments)}function b2(n){return Yh(n,e=>{if(!e)throw zs.create("installation-not-found");return E2(e)})}function E2(n){return function Cte(n){return 1===n.registrationStatus&&n.registrationTime+c2<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function wI(){return(wI=(0,T.Z)(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=function Tte(n,{fid:e}){return`${aI(n)}/${e}/authTokens:generate`}(n,t),i=function p2(n,{refreshToken:e}){const t=f2(n);return t.append("Authorization",function ute(n){return`${u2} ${n}`}(e)),t}(n,t),o=e.getImmediate({optional:!0});if(o){const l=yield o.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:l2,appId:n.appId}})},c=yield uI(()=>fetch(r,a));if(c.ok)return h2(yield c.json());throw yield cI("Generate Auth Token",c)})).apply(this,arguments)}function CI(n){return DI.apply(this,arguments)}function DI(){return DI=(0,T.Z)(function*(n,e=!1){let t;const r=yield Yh(n.appConfig,o=>{if(!S2(o))throw zs.create("not-registered");const s=o.authToken;if(!e&&function Mte(n){return 2===n.requestStatus&&!function Rte(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+ote}(n)}(s))return o;if(1===s.requestStatus)return t=function Ate(n,e){return TI.apply(this,arguments)}(n,e),o;{if(!navigator.onLine)throw zs.create("app-offline");const a=function kte(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(o);return t=function xte(n,e){return AI.apply(this,arguments)}(n,a),a}});return t?yield t:r.authToken}),DI.apply(this,arguments)}function TI(){return(TI=(0,T.Z)(function*(n,e){let t=yield I2(n.appConfig);for(;1===t.authToken.requestStatus;)yield g2(100),t=yield I2(n.appConfig);const r=t.authToken;return 0===r.requestStatus?CI(n,e):r})).apply(this,arguments)}function I2(n){return Yh(n,e=>{if(!S2(e))throw zs.create("not-registered");return function Nte(n){return 1===n.requestStatus&&n.requestTime+c2<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function AI(){return AI=(0,T.Z)(function*(n,e){try{const t=yield function Dte(n,e){return wI.apply(this,arguments)}(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield Pm(n.appConfig,r),t}catch(t){if(!d2(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Pm(n.appConfig,r)}else yield vI(n.appConfig);throw t}}),AI.apply(this,arguments)}function S2(n){return void 0!==n&&2===n.registrationStatus}function xI(){return(xI=(0,T.Z)(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield bI(e);return r?r.catch(console.error):CI(e).catch(console.error),t.fid})).apply(this,arguments)}function MI(){return MI=(0,T.Z)(function*(n,e=!1){const t=n;return yield function Fte(n){return RI.apply(this,arguments)}(t),(yield CI(t,e)).token}),MI.apply(this,arguments)}function RI(){return(RI=(0,T.Z)(function*(n){const{registrationPromise:e}=yield bI(n);e&&(yield e)})).apply(this,arguments)}function OI(n){return zs.create("missing-app-config-values",{valueName:n})}const w2="installations",Ute=n=>{const e=n.getProvider("app").getImmediate(),t=function Vte(n){if(!n||!n.options)throw OI("App Configuration");if(!n.name)throw OI("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw OI(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:wu(e,"heartbeat"),_delete:()=>Promise.resolve()}},jte=n=>{const t=wu(n.getProvider("app").getImmediate(),w2).getImmediate();return{getId:()=>function Ote(n){return xI.apply(this,arguments)}(t),getToken:i=>function Pte(n){return MI.apply(this,arguments)}(t,i)}};(function Hte(){pi(new Qr(w2,Ute,"PUBLIC")),pi(new Qr("installations-internal",jte,"PRIVATE"))})(),On(a2,sI),On(a2,sI,"esm2017");const PI="@firebase/remote-config",xi=new ts("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ene{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return(0,T.Z)(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const o=yield t.client.fetch(e),s=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===o.status&&s.push(t.storage.setLastSuccessfulFetchResponse(o)),yield Promise.all(s),o})()}}function tne(n=navigator){return n.languages&&n.languages[0]||n.language}class nne{constructor(e,t,r,i,o,s){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=s}fetch(e){var t=this;return(0,T.Z)(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),s=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:tne()},l={method:"POST",headers:a,body:JSON.stringify(c)},u=fetch(s,l),d=new Promise((X,Ee)=>{e.signal.addEventListener(()=>{const z=new Error("The operation was aborted.");z.name="AbortError",Ee(z)})});let f;try{yield Promise.race([u,d]),f=yield u}catch(X){let Ee="fetch-client-network";throw"AbortError"===(null==X?void 0:X.name)&&(Ee="fetch-timeout"),xi.create(Ee,{originalErrorMessage:null==X?void 0:X.message})}let v=f.status;const E=f.headers.get("ETag")||void 0;let x,N;if(200===f.status){let X;try{X=yield f.json()}catch(Ee){throw xi.create("fetch-client-parse",{originalErrorMessage:null==Ee?void 0:Ee.message})}x=X.entries,N=X.state}if("INSTANCE_STATE_UNSPECIFIED"===N?v=500:"NO_CHANGE"===N?v=304:("NO_TEMPLATE"===N||"EMPTY_CONFIG"===N)&&(x={}),304!==v&&200!==v)throw xi.create("fetch-status",{httpStatus:v});return{status:v,eTag:E,config:x}})()}}class one{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,T.Z)(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return(0,T.Z)(function*(){yield function rne(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(xi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const o=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),o}catch(o){if(!function ine(n){if(!(n instanceof mo&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(o))throw o;const s={throttleEndTimeMillis:Date.now()+zE(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(s),i.attemptFetch(e,s)}})()}}class cne{constructor(e,t,r,i,o){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Lm(n,e){const t=n.target.error||void 0;return xi.create(e,{originalErrorMessage:t&&(null==t?void 0:t.message)})}const Pc="app_namespace_store";class hne{constructor(e,t,r,i=function dne(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(Lm(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Pc,{keyPath:"compositeKey"})}}catch(t){e(xi.create("storage-open",{originalErrorMessage:null==t?void 0:t.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,T.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([Pc],"readonly").objectStore(Pc),c=t.createCompositeKey(e);try{const l=a.get(c);l.onerror=u=>{o(Lm(u,"storage-get"))},l.onsuccess=u=>{const d=u.target.result;i(d?d.value:void 0)}}catch(l){o(xi.create("storage-get",{originalErrorMessage:null==l?void 0:l.message}))}})})()}set(e,t){var r=this;return(0,T.Z)(function*(){const i=yield r.openDbPromise;return new Promise((o,s)=>{const c=i.transaction([Pc],"readwrite").objectStore(Pc),l=r.createCompositeKey(e);try{const u=c.put({compositeKey:l,value:t});u.onerror=d=>{s(Lm(d,"storage-set"))},u.onsuccess=()=>{o()}}catch(u){s(xi.create("storage-set",{originalErrorMessage:null==u?void 0:u.message}))}})})()}delete(e){var t=this;return(0,T.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([Pc],"readwrite").objectStore(Pc),c=t.createCompositeKey(e);try{const l=a.delete(c);l.onerror=u=>{o(Lm(u,"storage-delete"))},l.onsuccess=()=>{i()}}catch(l){o(xi.create("storage-delete",{originalErrorMessage:null==l?void 0:l.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class fne{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,T.Z)(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),o=yield t;o&&(e.lastFetchStatus=o);const s=yield r;s&&(e.lastSuccessfulFetchTimestampMillis=s);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function gne(){return BI.apply(this,arguments)}function BI(){return(BI=(0,T.Z)(function*(){if(!xc())return!1;try{return yield zh()}catch(n){return!1}})).apply(this,arguments)}!function pne(){pi(new Qr("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw xi.create("registration-window");if(!xc())throw xi.create("indexed-db-unavailable");const{projectId:o,apiKey:s,appId:a}=r.options;if(!o)throw xi.create("registration-project-id");if(!s)throw xi.create("registration-api-key");if(!a)throw xi.create("registration-app-id");const c=new hne(a,r.name,t=t||"firebase"),l=new fne(c),u=new Su(PI);u.logLevel=jt.ERROR;const d=new nne(i,Cu,t,o,s,a),f=new one(d,c),v=new ene(f,c,l,u),E=new cne(r,v,l,c,u);return function Xte(n){const e=Nn(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(E),E},"PUBLIC").setMultipleInstances(!0)),On(PI,"0.4.4"),On(PI,"0.4.4","esm2017")}();const mne="/firebase-messaging-sw.js",vne="/firebase-cloud-messaging-push-scope",A2="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",yne="https://fcmregistrations.googleapis.com/v1",x2="google.c.a.c_id",_ne="google.c.a.c_l",bne="google.c.a.ts",Ene="google.c.a.e";var Au=(()=>{return(n=Au||(Au={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",Au;var n})();function Ws(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ine(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}const UI="fcm_token_details_db",Sne=5,M2="fcm_token_object_Store";function jI(){return jI=(0,T.Z)(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(UI))return null;let e=null;return(yield km(UI,Sne,{upgrade:(r=(0,T.Z)(function*(i,o,s,a){var c;if(o<2||!i.objectStoreNames.contains(M2))return;const l=a.objectStore(M2),u=yield l.index("fcmSenderId").get(n);if(yield l.clear(),u)if(2===o){const d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(c=d.createTime)&&void 0!==c?c:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Ws(d.vapidKey)}}}else if(3===o){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ws(d.auth),p256dh:Ws(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ws(d.vapidKey)}}}else if(4===o){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ws(d.auth),p256dh:Ws(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ws(d.vapidKey)}}}}),function(o,s,a,c){return r.apply(this,arguments)})})).close(),yield QE(UI),yield QE("fcm_vapid_details_db"),yield QE("undefined"),function Cne(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),jI.apply(this,arguments)}const Dne="firebase-messaging-database",Tne=1,Fc="firebase-messaging-store";let HI=null;function GI(){return HI||(HI=km(Dne,Tne,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Fc)}})),HI}function R2(n){return zI.apply(this,arguments)}function zI(){return zI=(0,T.Z)(function*(n){const e=YI(n),r=yield(yield GI()).transaction(Fc).objectStore(Fc).get(e);if(r)return r;{const i=yield function wne(n){return jI.apply(this,arguments)}(n.appConfig.senderId);if(i)return yield WI(n,i),i}}),zI.apply(this,arguments)}function WI(n,e){return qI.apply(this,arguments)}function qI(){return(qI=(0,T.Z)(function*(n,e){const t=YI(n),i=(yield GI()).transaction(Fc,"readwrite");return yield i.objectStore(Fc).put(e,t),yield i.done,e})).apply(this,arguments)}function KI(){return(KI=(0,T.Z)(function*(n){const e=YI(n),r=(yield GI()).transaction(Fc,"readwrite");yield r.objectStore(Fc).delete(e),yield r.done})).apply(this,arguments)}function YI({appConfig:n}){return n.appId}const kr=new ts("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Mne(n,e){return ZI.apply(this,arguments)}function ZI(){return(ZI=(0,T.Z)(function*(n,e){const t=yield eS(n),r=N2(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(JI(n.appConfig),i)).json()}catch(s){throw kr.create("token-subscribe-failed",{errorInfo:null==s?void 0:s.toString()})}if(o.error)throw kr.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw kr.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function XI(){return(XI=(0,T.Z)(function*(n,e){const t=yield eS(n),r=N2(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(`${JI(n.appConfig)}/${e.token}`,i)).json()}catch(s){throw kr.create("token-update-failed",{errorInfo:null==s?void 0:s.toString()})}if(o.error)throw kr.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw kr.create("token-update-no-token");return o.token})).apply(this,arguments)}function k2(n,e){return QI.apply(this,arguments)}function QI(){return(QI=(0,T.Z)(function*(n,e){const r={method:"DELETE",headers:yield eS(n)};try{const o=yield(yield fetch(`${JI(n.appConfig)}/${e}`,r)).json();if(o.error)throw kr.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(i){throw kr.create("token-unsubscribe-failed",{errorInfo:null==i?void 0:i.toString()})}})).apply(this,arguments)}function JI({projectId:n}){return`${yne}/projects/${n}/registrations`}function eS(n){return tS.apply(this,arguments)}function tS(){return(tS=(0,T.Z)(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function N2({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==A2&&(i.web.applicationPubKey=r),i}const kne=6048e5;function nS(){return nS=(0,T.Z)(function*(n){const e=yield function Pne(n,e){return sS.apply(this,arguments)}(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Ws(e.getKey("auth")),p256dh:Ws(e.getKey("p256dh"))},r=yield R2(n.firebaseDependencies);if(r){if(function Fne(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}(r.subscriptionOptions,t))return Date.now()>=r.createTime+kne?function One(n,e){return iS.apply(this,arguments)}(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield k2(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return P2(n.firebaseDependencies,t)}return P2(n.firebaseDependencies,t)}),nS.apply(this,arguments)}function rS(){return rS=(0,T.Z)(function*(n){const e=yield R2(n.firebaseDependencies);e&&(yield k2(n.firebaseDependencies,e.token),yield function Ane(n){return KI.apply(this,arguments)}(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()}),rS.apply(this,arguments)}function iS(){return iS=(0,T.Z)(function*(n,e){try{const t=yield function Rne(n,e){return XI.apply(this,arguments)}(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield WI(n.firebaseDependencies,r),t}catch(t){throw yield function O2(n){return rS.apply(this,arguments)}(n),t}}),iS.apply(this,arguments)}function P2(n,e){return oS.apply(this,arguments)}function oS(){return(oS=(0,T.Z)(function*(n,e){const r={token:yield Mne(n,e),createTime:Date.now(),subscriptionOptions:e};return yield WI(n,r),r.token})).apply(this,arguments)}function sS(){return(sS=(0,T.Z)(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ine(e)})})).apply(this,arguments)}function F2(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function Lne(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const o=e.notification.icon;o&&(n.notification.icon=o)}(e,n),function $ne(n,e){e.data&&(n.data=e.data)}(e,n),function Vne(n,e){var t,r,i,o,s;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(o=e.notification)||void 0===o?void 0:o.click_action;a&&(n.fcmOptions.link=a);const c=null===(s=e.fcmOptions)||void 0===s?void 0:s.analytics_label;c&&(n.fcmOptions.analyticsLabel=c)}(e,n),e}function L2(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function aS(n){return kr.create("missing-app-config-values",{valueName:n})}L2("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),L2("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class jne{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function Une(n){if(!n||!n.options)throw aS("App Configuration Object");if(!n.name)throw aS("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw aS(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function $2(n){return cS.apply(this,arguments)}function cS(){return(cS=(0,T.Z)(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(mne,{scope:vne}),n.swRegistration.update().catch(()=>{})}catch(e){throw kr.create("failed-service-worker-registration",{browserErrorMessage:null==e?void 0:e.message})}})).apply(this,arguments)}function lS(){return(lS=(0,T.Z)(function*(n,e){if(!e&&!n.swRegistration&&(yield $2(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw kr.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function uS(){return(uS=(0,T.Z)(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=A2)})).apply(this,arguments)}function dS(){return dS=(0,T.Z)(function*(n,e){if(!navigator)throw kr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw kr.create("permission-blocked");return yield function Gne(n,e){return uS.apply(this,arguments)}(n,null==e?void 0:e.vapidKey),yield function Hne(n,e){return lS.apply(this,arguments)}(n,null==e?void 0:e.serviceWorkerRegistration),function Nne(n){return nS.apply(this,arguments)}(n)}),dS.apply(this,arguments)}function hS(){return(hS=(0,T.Z)(function*(n,e,t){const r=function Wne(n){switch(n){case Au.NOTIFICATION_CLICKED:return"notification_open";case Au.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[x2],message_name:t[_ne],message_time:t[bne],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function fS(){return fS=(0,T.Z)(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===Au.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(F2(t)):n.onMessageHandler.next(F2(t)));const r=t.data;(function Bne(n){return"object"==typeof n&&!!n&&x2 in n})(r)&&"1"===r[Ene]&&(yield function zne(n,e,t){return hS.apply(this,arguments)}(n,t.messageType,r))}),fS.apply(this,arguments)}const B2="@firebase/messaging",Kne=n=>{const e=new jne(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function qne(n,e){return fS.apply(this,arguments)}(e,t)),e},Yne=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function V2(n,e){return dS.apply(this,arguments)}(e,r)}};function j2(){return pS.apply(this,arguments)}function pS(){return(pS=(0,T.Z)(function*(){try{yield zh()}catch(n){return!1}return typeof window<"u"&&xc()&&jE()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Zne(){pi(new Qr("messaging",Kne,"PUBLIC")),pi(new Qr("messaging-internal",Yne,"PRIVATE")),On(B2,"0.12.4"),On(B2,"0.12.4","esm2017")}();const $m="analytics",Jne="firebase_id",ere="origin",tre=6e4,nre="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",H2="https://www.googletagmanager.com/gtag/js",Nr=new Su("@firebase/analytics");function G2(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function vS(){return(vS=(0,T.Z)(function*(n,e,t,r,i,o){const s=r[i];try{if(s)yield e[s];else{const c=(yield G2(t)).find(l=>l.measurementId===i);c&&(yield e[c.appId])}}catch(a){Nr.error(a)}n("config",i,o)})).apply(this,arguments)}function yS(){return(yS=(0,T.Z)(function*(n,e,t,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=yield G2(t);for(const c of s){const l=a.find(d=>d.measurementId===c),u=l&&e[l.appId];if(!u){o=[];break}o.push(u)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),n("event",r,i||{})}catch(o){Nr.error(o)}})).apply(this,arguments)}const Yi=new ts("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),dre=30,z2=new class fre{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function pre(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function _S(){return(_S=(0,T.Z)(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:pre(r)},o=nre.replace("{app-id}",t),s=yield fetch(o,i);if(200!==s.status&&304!==s.status){let a="";try{const c=yield s.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch(c){}throw Yi.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})).apply(this,arguments)}function bS(){return(bS=(0,T.Z)(function*(n,e=z2,t){const{appId:r,apiKey:i,measurementId:o}=n.options;if(!r)throw Yi.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Yi.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new _re;return setTimeout((0,T.Z)(function*(){a.abort()}),void 0!==t?t:tre),W2({appId:r,apiKey:i,measurementId:o},s,a,e)})).apply(this,arguments)}function W2(n,e,t){return ES.apply(this,arguments)}function ES(){return ES=(0,T.Z)(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=z2){var o;const{appId:s,measurementId:a}=n;try{yield function vre(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(Yi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(c){if(a)return Nr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${null==c?void 0:c.message}]`),{appId:s,measurementId:a};throw c}try{const c=yield function gre(n){return _S.apply(this,arguments)}(n);return i.deleteThrottleMetadata(s),c}catch(c){const l=c;if(!function yre(n){if(!(n instanceof mo&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(l)){if(i.deleteThrottleMetadata(s),a)return Nr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${null==l?void 0:l.message}]`),{appId:s,measurementId:a};throw c}const u=503===Number(null===(o=null==l?void 0:l.customData)||void 0===o?void 0:o.httpStatus)?zE(t,i.intervalMillis,dre):zE(t,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:t+1};return i.setThrottleMetadata(s,d),Nr.debug(`Calling attemptFetch again in ${u} millis`),W2(n,d,r,i)}}),ES.apply(this,arguments)}class _re{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let IS,AS;function SS(){return(SS=(0,T.Z)(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const o=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:o}))}})).apply(this,arguments)}function xS(){return(xS=(0,T.Z)(function*(){if(!xc())return Nr.warn(Yi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield zh()}catch(n){return Nr.warn(Yi.create("indexeddb-unavailable",{errorInfo:null==n?void 0:n.toString()}).message),!1}return!0})).apply(this,arguments)}function MS(){return MS=(0,T.Z)(function*(n,e,t,r,i,o,s){var a;const c=function mre(n){return bS.apply(this,arguments)}(n);c.then(v=>{t[v.measurementId]=v.appId,n.options.measurementId&&v.measurementId!==n.options.measurementId&&Nr.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${v.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(v=>Nr.error(v)),e.push(c);const l=function Cre(){return xS.apply(this,arguments)}().then(v=>{if(v)return r.getId()}),[u,d]=yield Promise.all([c,l]);(function lre(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(H2)&&t.src.includes(n))return t;return null})(o)||function rre(n,e){const t=document.createElement("script");t.src=`${H2}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}(o,u.measurementId),AS&&(i("consent","default",AS),function q2(n){AS=n}(void 0)),i("js",new Date);const f=null!==(a=null==s?void 0:s.config)&&void 0!==a?a:{};return f[ere]="firebase",f.update=!0,null!=d&&(f[Jne]=d),i("config",u.measurementId,f),IS&&(i("set",IS),function K2(n){IS=n}(void 0)),u.measurementId}),MS.apply(this,arguments)}class Tre{constructor(e){this.app=e}_delete(){return delete qs[this.app.options.appId],Promise.resolve()}}let qs={},Y2=[];const Z2={};let Q2,Ks,Vm="dataLayer",X2="gtag",RS=!1;function xre(n,e,t){!function Are(){const n=[];if(UE()&&n.push("This is a browser extension environment."),jE()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Yi.create("invalid-analytics-context",{errorInfo:e});Nr.warn(t.message)}}();const r=n.options.appId;if(!r)throw Yi.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Yi.create("no-api-key");Nr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=qs[r])throw Yi.create("already-exists",{id:r});if(!RS){!function ire(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(Vm);const{wrappedGtag:o,gtagCore:s}=function cre(n,e,t,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function are(n,e,t,r){function o(){return o=(0,T.Z)(function*(s,a,c){try{"event"===s?yield function sre(n,e,t,r,i){return yS.apply(this,arguments)}(n,e,t,a,c):"config"===s?yield function ore(n,e,t,r,i,o){return vS.apply(this,arguments)}(n,e,t,r,a,c):"consent"===s?n("consent","update",c):n("set",a)}catch(l){Nr.error(l)}}),o.apply(this,arguments)}return function i(s,a,c){return o.apply(this,arguments)}}(o,n,e,t),{gtagCore:o,wrappedGtag:window[i]}}(qs,Y2,Z2,Vm,X2);Ks=o,Q2=s,RS=!0}return qs[r]=function Dre(n,e,t,r,i,o,s){return MS.apply(this,arguments)}(n,Y2,Z2,e,Q2,Vm,t),new Tre(n)}function Rre(){return kS.apply(this,arguments)}function kS(){return(kS=(0,T.Z)(function*(){if(UE()||!jE()||!xc())return!1;try{return yield zh()}catch(n){return!1}})).apply(this,arguments)}const J2="@firebase/analytics";!function Nre(){pi(new Qr($m,(e,{options:t})=>xre(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),pi(new Qr("analytics-internal",function n(e){try{const t=e.getProvider($m).getImmediate();return{logEvent:(r,i,o)=>function kre(n,e,t,r){n=Nn(n),function bre(n,e,t,r,i){return SS.apply(this,arguments)}(Ks,qs[n.app.options.appId],e,t,r).catch(i=>Nr.error(i))}(t,r,i,o)}}catch(t){throw Yi.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),On(J2,"0.9.4"),On(J2,"0.9.4","esm2017")}();class Ore extends ce{constructor(e,t){super()}schedule(e,t=0){return this}}const Bm={setInterval(n,e,...t){const{delegate:r}=Bm;return null!=r&&r.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Bm;return((null==e?void 0:e.clearInterval)||clearInterval)(n)},delegate:void 0};class t$ extends Ore{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Bm.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Bm.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Y(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const n$={now:()=>(n$.delegate||Date).now(),delegate:void 0};class Zh{constructor(e,t=Zh.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Zh.now=n$.now;class r$ extends Zh{constructor(e,t=Zh.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const Lre=new class Fre extends r${}(class Pre extends t${constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),$re=new r$(t$),Um=new Ll("7.5.0"),NS="__angularfire_symbol__analyticsIsSupportedValue",OS="__angularfire_symbol__analyticsIsSupported",PS="__angularfire_symbol__remoteConfigIsSupportedValue",FS="__angularfire_symbol__remoteConfigIsSupported",LS="__angularfire_symbol__messagingIsSupportedValue",$S="__angularfire_symbol__messagingIsSupported";function BS(n,e,t){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===t);if(1===o.length)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[OS]||(globalThis[OS]=Rre().then(n=>globalThis[NS]=n).catch(()=>globalThis[NS]=!1)),globalThis[$S]||(globalThis[$S]=j2().then(n=>globalThis[LS]=n).catch(()=>globalThis[LS]=!1)),globalThis[FS]||(globalThis[FS]=gne().then(n=>globalThis[PS]=n).catch(()=>globalThis[PS]=!1));const US=(n,e)=>{const t=e?[e]:t2(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};function xu(){}class i${constructor(e,t=Lre){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},t,r)}}class Vre{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xu,{},xu,xu)),t.pipe(Mr({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let o$=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new i$(Zone.current)),this.insideAngular=t.run(()=>new i$(Zone.current,$re)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(Fe(Me))},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Lc(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function $c(n){return Lc().ngZone.run(()=>n())}function Ure(n){return Lc(),function jre(n){return function(t){return(t=t.lift(new Vre(n.ngZone))).pipe(Ur(n.outsideAngular),pr(n.insideAngular))}}(Lc())(n)}const Hre=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),$c(()=>n.apply(void 0,r))},sr=(n,e)=>function(){let t;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(t||(t=$c(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xu,{},xu,xu)))),r[o]=Hre(r[o],t));const i=function Bre(n){return Lc().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof Pe){const o=Lc();return i.pipe(Ur(o.outsideAngular),pr(o.insideAngular))}return $c(()=>i)}return i instanceof Pe?i.pipe(Ure):i instanceof Promise?$c(()=>new Promise((o,s)=>i.then(a=>$c(()=>o(a)),a=>$c(()=>s(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:$c(()=>i)};class Mu{constructor(e){return e}}class s${constructor(){return t2()}}const jS=new lt("angularfire2._apps"),zre={provide:Mu,useFactory:function Gre(n){return n&&1===n.length?n[0]:new Mu(tI())},deps:[[new li,jS]]},Wre={provide:s$,deps:[[new li,jS]]};function qre(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Mu(r)}}let Kre=(()=>{class n{constructor(t){On("angularfire",Um.full,"core"),On("angularfire",Um.full,"app"),On("angular",yM.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(Fe(Sg))},n.\u0275mod=jr({type:n}),n.\u0275inj=Dr({providers:[zre,Wre]}),n})();function Yre(n,...e){return{ngModule:Kre,providers:[{provide:jS,useFactory:qre(n),multi:!0,deps:[Me,Sn,o$,...e]}]}}const Zre=sr(e2,!0);const Xre=function a$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},c$=new ts("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),l$=new Su("@firebase/auth");function jm(n,...e){l$.logLevel<=jt.ERROR&&l$.error(`Auth (${Cu}): ${n}`,...e)}function Mi(n,...e){throw HS(n,...e)}function ns(n,...e){return HS(n,...e)}function HS(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return c$.create(n,...e)}function qe(n,e,...t){if(!n)throw HS(e,...t)}function rs(n){const e="INTERNAL ASSERTION FAILED: "+n;throw jm(e),new Error(e)}function Ma(n,e){n||rs(e)}const d$=new Map;function Ys(n){Ma(n instanceof Function,"Expected a class definition");let e=d$.get(n);return e?(Ma(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,d$.set(n,e),e)}function Xh(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function h$(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Qh{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ma(t>e,"Short delay should be less than long delay!"),this.isMobile=function LJ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mr())}()||function VJ(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function eie(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function GS(){return"http:"===h$()||"https:"===h$()}()||UE()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function zS(n,e){Ma(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class f${static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nie={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},rie=new Qh(3e4,6e4);function ar(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function vr(n,e,t,r){return WS.apply(this,arguments)}function WS(){return(WS=(0,T.Z)(function*(n,e,t,r,i={}){return p$(n,i,(0,T.Z)(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=Rm(Object.assign({key:n.config.apiKey},s)).slice(1),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode),f$.fetch()(g$(n,n.config.apiHost,t,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function p$(n,e,t){return qS.apply(this,arguments)}function qS(){return(qS=(0,T.Z)(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},nie),e);try{const i=new iie(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw Jh(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw Jh(n,"credential-already-in-use",s);if("EMAIL_EXISTS"===c)throw Jh(n,"email-already-in-use",s);if("USER_DISABLED"===c)throw Jh(n,"user-disabled",s);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw function u$(n,e,t){const r=Object.assign(Object.assign({},Xre()),{[e]:t});return new ts("auth","Firebase",r).create(e,{appName:n.name})}(n,u,l);Mi(n,u)}}catch(i){if(i instanceof mo)throw i;Mi(n,"internal-error",{message:String(i)})}})).apply(this,arguments)}function Zs(n,e,t,r){return KS.apply(this,arguments)}function KS(){return(KS=(0,T.Z)(function*(n,e,t,r,i={}){const o=yield vr(n,e,t,r,i);return"mfaPendingCredential"in o&&Mi(n,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function g$(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?zS(n.config,i):`${n.config.apiScheme}://${i}`}class iie{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ns(this.auth,"network-request-failed")),rie.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Jh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=ns(n,e,r);return i.customData._tokenResponse=t,i}function YS(){return(YS=(0,T.Z)(function*(n,e){return vr(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function XS(){return(XS=(0,T.Z)(function*(n,e){return vr(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function ef(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function QS(){return(QS=(0,T.Z)(function*(n,e=!1){const t=Nn(n),r=yield t.getIdToken(e),i=Hm(r);qe(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=null==o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:ef(JS(i.auth_time)),issuedAtTime:ef(JS(i.iat)),expirationTime:ef(JS(i.exp)),signInProvider:s||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}})).apply(this,arguments)}function JS(n){return 1e3*Number(n)}function Hm(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return jm("JWT malformed, contained fewer than 3 sections"),null;try{const i=Dm(t);return i?JSON.parse(i):(jm("Failed to decode base64 JWT payload"),null)}catch(i){return jm("Caught error parsing JWT payload as JSON",null==i?void 0:i.toString()),null}}function Xs(n,e){return ew.apply(this,arguments)}function ew(){return(ew=(0,T.Z)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof mo&&function uie({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class die{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout((0,T.Z)(function*(){yield t.iteration()}),r)}iteration(){var e=this;return(0,T.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===(null==t?void 0:t.code)&&e.schedule(!0))}e.schedule()})()}}class m${constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ef(this.lastLoginAt),this.creationTime=ef(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function tf(n){return tw.apply(this,arguments)}function tw(){return tw=(0,T.Z)(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield Xs(n,function aie(n,e){return XS.apply(this,arguments)}(t,{idToken:r}));qe(null==i?void 0:i.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function pie(n){return n.map(e=>{var{providerId:t}=e,r=Wt(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],a=function fie(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,s),u=!!n.isAnonymous&&!(n.email&&o.passwordHash||null!=a&&a.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new m$(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(n,d)}),tw.apply(this,arguments)}function nw(){return(nw=(0,T.Z)(function*(n){const e=Nn(n);yield tf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function rw(){return(rw=(0,T.Z)(function*(n,e){const t=yield p$(n,{},(0,T.Z)(function*(){const r=Rm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=g$(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",f$.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class nf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function lie(n){const e=Hm(n);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return(0,T.Z)(function*(){return qe(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return(0,T.Z)(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function gie(n,e){return rw.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new nf;return r&&(qe("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(qe("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(qe("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new nf,this.toJSON())}_performRefresh(){return rs("not implemented")}}function Ra(n,e){qe("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Vc{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Wt(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new die(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new m$(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,T.Z)(function*(){const r=yield Xs(t,t.stsTokenManager.getToken(t.auth,e));return qe(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function cie(n){return QS.apply(this,arguments)}(this,e)}reload(){return function hie(n){return nw.apply(this,arguments)}(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Vc(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return(0,T.Z)(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield tf(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return(0,T.Z)(function*(){const t=yield e.getIdToken();return yield Xs(e,function oie(n,e){return YS.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,c,l,u;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,f=null!==(i=t.email)&&void 0!==i?i:void 0,v=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,E=null!==(s=t.photoURL)&&void 0!==s?s:void 0,x=null!==(a=t.tenantId)&&void 0!==a?a:void 0,N=null!==(c=t._redirectEventId)&&void 0!==c?c:void 0,X=null!==(l=t.createdAt)&&void 0!==l?l:void 0,Ee=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:z,emailVerified:He,isAnonymous:ct,providerData:ft,stsTokenManager:qn}=t;qe(z&&qn,e,"internal-error");const fl=nf.fromJSON(this.name,qn);qe("string"==typeof z,e,"internal-error"),Ra(d,e.name),Ra(f,e.name),qe("boolean"==typeof He,e,"internal-error"),qe("boolean"==typeof ct,e,"internal-error"),Ra(v,e.name),Ra(E,e.name),Ra(x,e.name),Ra(N,e.name),Ra(X,e.name),Ra(Ee,e.name);const l1=new Vc({uid:z,auth:e,email:f,emailVerified:He,displayName:d,isAnonymous:ct,photoURL:E,phoneNumber:v,tenantId:x,stsTokenManager:fl,createdAt:X,lastLoginAt:Ee});return ft&&Array.isArray(ft)&&(l1.providerData=ft.map(Epe=>Object.assign({},Epe))),N&&(l1._redirectEventId=N),l1}static _fromIdTokenResponse(e,t,r=!1){return(0,T.Z)(function*(){const i=new nf;i.updateFromServerResponse(t);const o=new Vc({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield tf(o),o})()}}const v$=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,T.Z)(function*(){return!0})()}_set(t,r){var i=this;return(0,T.Z)(function*(){i.storage[t]=r})()}_get(t){var r=this;return(0,T.Z)(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return(0,T.Z)(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function Gm(n,e,t){return`firebase:${n}:${e}:${t}`}class ku{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Gm(this.userKey,i.apiKey,o),this.fullPersistenceKey=Gm("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,T.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Vc._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,T.Z)(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return(0,T.Z)(function*(){if(!t.length)return new ku(Ys(v$),e,r);const i=(yield Promise.all(t.map(function(){var l=(0,T.Z)(function*(u){if(yield u._isAvailable())return u});return function(u){return l.apply(this,arguments)}}()))).filter(l=>l);let o=i[0]||Ys(v$);const s=Gm(r,e.config.apiKey,e.name);let a=null;for(const l of t)try{const u=yield l._get(s);if(u){const d=Vc._fromJSON(e,u);l!==o&&(a=d),o=l;break}}catch(u){}const c=i.filter(l=>l._shouldAllowMigration);return o._shouldAllowMigration&&c.length?(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(function(){var l=(0,T.Z)(function*(u){if(u!==o)try{yield u._remove(s)}catch(d){}});return function(u){return l.apply(this,arguments)}}())),new ku(o,e,r)):new ku(o,e,r)})()}}function y$(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(E$(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_$(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(S$(e))return"Blackberry";if(w$(e))return"Webos";if(iw(e))return"Safari";if((e.includes("chrome/")||b$(e))&&!e.includes("edge/"))return"Chrome";if(I$(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function _$(n=mr()){return/firefox\//i.test(n)}function iw(n=mr()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function b$(n=mr()){return/crios\//i.test(n)}function E$(n=mr()){return/iemobile/i.test(n)}function I$(n=mr()){return/android/i.test(n)}function S$(n=mr()){return/blackberry/i.test(n)}function w$(n=mr()){return/webos/i.test(n)}function zm(n=mr()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function C$(n=mr()){return zm(n)||I$(n)||w$(n)||S$(n)||/windows phone/i.test(n)||E$(n)}function D$(n,e=[]){let t;switch(n){case"Browser":t=y$(mr());break;case"Worker":t=`${y$(mr())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Cu}/${r}`}class _ie{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,T.Z)(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch(s){}throw t.auth._errorFactory.create("login-blocked",{originalMessage:null==i?void 0:i.message})}})()}}class bie{constructor(e,t,r){this.app=e,this.heartbeatServiceProvider=t,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new T$(this),this.idTokenSubscription=new T$(this),this.beforeStateQueue=new _ie(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=c$,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=Ys(t)),this._initializationPromise=this.queue((0,T.Z)(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield ku.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch(s){}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,T.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return(0,T.Z)(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,c=null==o?void 0:o._redirectEventId,l=yield t.tryRedirectSignIn(e);(!a||a===c)&&null!=l&&l.user&&(o=l.user,s=!0)}if(!o)return t.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield t.beforeStateQueue.runMiddleware(o)}catch(a){o=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return o?t.reloadAndSetCurrentUserOrClear(o):t.directlySetCurrentUser(null)}return qe(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===o._redirectEventId?t.directlySetCurrentUser(o):t.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var t=this;return(0,T.Z)(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch(i){yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,T.Z)(function*(){try{yield tf(e)}catch(r){if("auth/network-request-failed"!==(null==r?void 0:r.code))return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function tie(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,T.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,T.Z)(function*(){const r=e?Nn(e):null;return r&&qe(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return(0,T.Z)(function*(){if(!r._deleted)return e&&qe(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue((0,T.Z)(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,T.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,T.Z)(function*(){yield t.assertedPersistence.setPersistence(Ys(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ts("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return(0,T.Z)(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,T.Z)(function*(){if(!t.redirectPersistenceManager){const r=e&&Ys(e)||t._popupRedirectResolver;qe(r,t,"argument-error"),t.redirectPersistenceManager=yield ku.create(t,[Ys(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,T.Z)(function*(){var r,i;return t._isInitialized&&(yield t.queue((0,T.Z)(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,T.Z)(function*(){if(e===t.currentUser)return t.queue((0,T.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return qe(s,this,"internal-error"),s.then(()=>o(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,T.Z)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=D$(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,T.Z)(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}function Ri(n){return Nn(n)}class T${constructor(e){this.auth=e,this.observer=null,this.addObserver=function zJ(n,e){const t=new WJ(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function A$(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function x$(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class M${constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return rs("not implemented")}_getIdTokenResponse(e){return rs("not implemented")}_linkToIdToken(e,t){return rs("not implemented")}_getReauthenticationResolver(e){return rs("not implemented")}}function k$(n,e){return sw.apply(this,arguments)}function sw(){return(sw=(0,T.Z)(function*(n,e){return vr(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function cw(){return(cw=(0,T.Z)(function*(n,e){return Zs(n,"POST","/v1/accounts:signInWithPassword",ar(n,e))})).apply(this,arguments)}function Wm(n,e){return lw.apply(this,arguments)}function lw(){return(lw=(0,T.Z)(function*(n,e){return vr(n,"POST","/v1/accounts:sendOobCode",ar(n,e))})).apply(this,arguments)}function dw(){return(dw=(0,T.Z)(function*(n,e){return Wm(n,e)})).apply(this,arguments)}function pw(){return(pw=(0,T.Z)(function*(n,e){return Zs(n,"POST","/v1/accounts:signInWithEmailLink",ar(n,e))})).apply(this,arguments)}function gw(){return(gw=(0,T.Z)(function*(n,e){return Zs(n,"POST","/v1/accounts:signInWithEmailLink",ar(n,e))})).apply(this,arguments)}class rf extends M${constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new rf(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new rf(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(null!=t&&t.email&&null!=t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return(0,T.Z)(function*(){switch(t.signInMethod){case"password":return function Cie(n,e){return cw.apply(this,arguments)}(e,{returnSecureToken:!0,email:t._email,password:t._password});case"emailLink":return function Mie(n,e){return pw.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:Mi(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return(0,T.Z)(function*(){switch(r.signInMethod){case"password":return k$(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function Rie(n,e){return gw.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:Mi(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Qs(n,e){return mw.apply(this,arguments)}function mw(){return(mw=(0,T.Z)(function*(n,e){return Zs(n,"POST","/v1/accounts:signInWithIdp",ar(n,e))})).apply(this,arguments)}class cf{constructor(e){var t,r,i,o,s,a;const c=Wh(qh(e)),l=null!==(t=c.apiKey)&&void 0!==t?t:null,u=null!==(r=c.oobCode)&&void 0!==r?r:null,d=function $ie(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);qe(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=null!==(o=c.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=c.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function Vie(n){const e=Wh(qh(n)).link,t=e?Wh(qh(e)).deep_link_id:null,r=Wh(qh(n)).deep_link_id;return(r?Wh(qh(r)).link:null)||r||t||e||n}(e);try{return new cf(t)}catch(r){return null}}}let N$=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return rf._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=cf.parseLink(r);return qe(i,"argument-error"),rf._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class ka{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Bie extends ka{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function O$(n,e){return Iw.apply(this,arguments)}function Iw(){return(Iw=(0,T.Z)(function*(n,e){return Zs(n,"POST","/v1/accounts:signUp",ar(n,e))})).apply(this,arguments)}class vo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return(0,T.Z)(function*(){const o=yield Vc._fromIdTokenResponse(e,r,i),s=P$(r);return new vo({user:o,providerId:s,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return(0,T.Z)(function*(){yield e._updateTokensIfNecessary(r,!0);const i=P$(r);return new vo({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function P$(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Km extends mo{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Km.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Km(e,t,r,i)}}function F$(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?Km._fromErrorAndOperation(n,o,e,r):o})}function Cw(n,e){return Dw.apply(this,arguments)}function Dw(){return(Dw=(0,T.Z)(function*(n,e,t=!1){const r=yield Xs(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return vo._forOperation(n,"link",r)})).apply(this,arguments)}function $$(n,e){return Aw.apply(this,arguments)}function Aw(){return(Aw=(0,T.Z)(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const o=yield Xs(n,F$(r,i,e,n),t);qe(o.idToken,r,"internal-error");const s=Hm(o.idToken);qe(s,r,"internal-error");const{sub:a}=s;return qe(n.uid===a,r,"user-mismatch"),vo._forOperation(n,i,o)}catch(o){throw"auth/user-not-found"===(null==o?void 0:o.code)&&Mi(r,"user-mismatch"),o}})).apply(this,arguments)}function V$(n,e){return xw.apply(this,arguments)}function xw(){return(xw=(0,T.Z)(function*(n,e,t=!1){const r="signIn",i=yield F$(n,r,e),o=yield vo._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})).apply(this,arguments)}function Mw(n,e){return Rw.apply(this,arguments)}function Rw(){return(Rw=(0,T.Z)(function*(n,e){return V$(Ri(n),e)})).apply(this,arguments)}function Wie(n,e,t){return $w.apply(this,arguments)}function $w(){return $w=(0,T.Z)(function*(n,e,t){const r=Nn(n),i={requestType:"PASSWORD_RESET",email:e};t&&function Zm(n,e,t){var r;qe((null===(r=t.url)||void 0===r?void 0:r.length)>0,n,"invalid-continue-uri"),qe(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(qe(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(qe(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}(r,i,t),yield function Tie(n,e){return dw.apply(this,arguments)}(r,i)}),$w.apply(this,arguments)}function Kie(n,e,t){return Hw.apply(this,arguments)}function Hw(){return(Hw=(0,T.Z)(function*(n,e,t){const r=Ri(n),i=yield O$(r,{returnSecureToken:!0,email:e,password:t}),o=yield vo._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(o.user),o})).apply(this,arguments)}function Yie(n,e,t){return Mw(Nn(n),N$.credential(e,t))}function U$(n,e,t,r){return Nn(n).onIdTokenChanged(e,t,r)}function ioe(n,e){return Nn(n).updateCurrentUser(e)}function ooe(n){return Nn(n).signOut()}function soe(n){return eC.apply(this,arguments)}function eC(){return(eC=(0,T.Z)(function*(n){return Nn(n).delete()})).apply(this,arguments)}const Xm="__sak";class j${constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Xm,"1"),this.storage.removeItem(Xm),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const foe=(()=>{class n extends j${constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function uoe(){const n=mr();return iw(n)||zm(n)}()&&function yie(){try{return!(!window||window===window.top)}catch(n){return!1}}(),this.fallbackToPolling=C$(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const o=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);!function vie(){return function BJ(){const n=mr();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===t.newValue||t.newValue===t.oldValue?o():setTimeout(o,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,o=this;return(0,T.Z)(function*(){yield i().call(o,t,r),o.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return(0,T.Z)(function*(){const o=yield r().call(i,t);return i.localCache[t]=JSON.stringify(o),o})()}_remove(t){var r=()=>super._remove,i=this;return(0,T.Z)(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),H$=(()=>{class n extends j${constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let goe=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return(0,T.Z)(function*(){const i=t,{eventId:o,eventType:s,data:a}=i.data,c=r.handlersMap[s];if(null==c||!c.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const l=Array.from(c).map(function(){var d=(0,T.Z)(function*(f){return f(i.origin,a)});return function(f){return d.apply(this,arguments)}}()),u=yield function poe(n){return Promise.all(n.map(function(){var e=(0,T.Z)(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(l);i.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:u})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function iC(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class moe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return(0,T.Z)(function*(){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,a;return new Promise((c,l)=>{const u=iC("",20);o.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:o,onMessage(f){const v=f;if(v.data.eventId===u)switch(v.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(v.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"))}}},i.handlers.add(a),o.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:u,data:t},[o.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function cr(){return window}function oC(){return typeof cr().WorkerGlobalScope<"u"&&"function"==typeof cr().importScripts}function sC(){return(sC=(0,T.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch(n){return null}})).apply(this,arguments)}const G$="firebaseLocalStorageDb",Eoe=1,Qm="firebaseLocalStorage",z$="fbase_key";class uf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Jm(n,e){return n.transaction([Qm],e?"readwrite":"readonly").objectStore(Qm)}function aC(){const n=indexedDB.open(G$,Eoe);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Qm,{keyPath:z$})}catch(i){t(i)}}),n.addEventListener("success",(0,T.Z)(function*(){const r=n.result;r.objectStoreNames.contains(Qm)?e(r):(r.close(),yield function Ioe(){const n=indexedDB.deleteDatabase(G$);return new uf(n).toPromise()}(),e(yield aC()))}))})}function W$(n,e,t){return cC.apply(this,arguments)}function cC(){return(cC=(0,T.Z)(function*(n,e,t){const r=Jm(n,!0).put({[z$]:e,value:t});return new uf(r).toPromise()})).apply(this,arguments)}function lC(){return(lC=(0,T.Z)(function*(n,e){const t=Jm(n,!1).get(e),r=yield new uf(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function q$(n,e){const t=Jm(n,!0).delete(e);return new uf(t).toPromise()}const Doe=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return(0,T.Z)(function*(){return t.db||(t.db=yield aC()),t.db})()}_withRetries(t){var r=this;return(0,T.Z)(function*(){let i=0;for(;;)try{const o=yield r._openDb();return yield t(o)}catch(o){if(i++>3)throw o;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return(0,T.Z)(function*(){return oC()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return(0,T.Z)(function*(){t.receiver=goe._getInstance(function boe(){return oC()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=(0,T.Z)(function*(i,o){return{keyProcessed:(yield t._poll()).includes(o.key)}});return function(i,o){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=(0,T.Z)(function*(i,o){return["keyChanged"]});return function(i,o){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return(0,T.Z)(function*(){var r,i;if(t.activeServiceWorker=yield function yoe(){return sC.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new moe(t.activeServiceWorker);const o=yield t.sender._send("ping",{},800);o&&null!==(r=o[0])&&void 0!==r&&r.fulfilled&&null!==(i=o[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return(0,T.Z)(function*(){if(r.sender&&r.activeServiceWorker&&function _oe(){var n;return(null===(n=null==navigator?void 0:navigator.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch(i){}})()}_isAvailable(){return(0,T.Z)(function*(){try{if(!indexedDB)return!1;const t=yield aC();return yield W$(t,Xm,"1"),yield q$(t,Xm),!0}catch(t){}return!1})()}_withPendingWrite(t){var r=this;return(0,T.Z)(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return(0,T.Z)(function*(){return i._withPendingWrite((0,T.Z)(function*(){return yield i._withRetries(o=>W$(o,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return(0,T.Z)(function*(){const i=yield r._withRetries(o=>function Soe(n,e){return lC.apply(this,arguments)}(o,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return(0,T.Z)(function*(){return r._withPendingWrite((0,T.Z)(function*(){return yield r._withRetries(i=>q$(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return(0,T.Z)(function*(){const r=yield t._withRetries(s=>{const a=Jm(s,!1).getAll();return new uf(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],o=new Set;for(const{fbase_key:s,value:a}of r)o.add(s),JSON.stringify(t.localCache[s])!==JSON.stringify(a)&&(t.notifyListeners(s,a),i.push(s));for(const s of Object.keys(t.localCache))t.localCache[s]&&!o.has(s)&&(t.notifyListeners(s,null),i.push(s));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const o of Array.from(i))o(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval((0,T.Z)(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function Y$(n){return`__${n}${Math.floor(1e6*Math.random())}`}Y$("rcb"),new Qh(3e4,6e4);class _C extends M${constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qs(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Qs(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Qs(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Hoe(n){return V$(n.auth,new _C(n),n.bypassAuthState)}function Goe(n){const{auth:e,user:t}=n;return qe(t,e,"internal-error"),$$(t,new _C(n),n.bypassAuthState)}function zoe(n){return bC.apply(this,arguments)}function bC(){return(bC=(0,T.Z)(function*(n){const{auth:e,user:t}=n;return qe(t,e,"internal-error"),Cw(t,new _C(n),n.bypassAuthState)})).apply(this,arguments)}class Woe{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=(0,T.Z)(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(o){e.reject(o)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return(0,T.Z)(function*(){const{urlResponse:r,sessionId:i,postBody:o,tenantId:s,error:a,type:c}=e;if(a)return void t.reject(a);const l={auth:t.auth,requestUri:r,sessionId:i,tenantId:s||void 0,postBody:o||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(c)(l))}catch(u){t.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Hoe;case"linkViaPopup":case"linkViaRedirect":return zoe;case"reauthViaPopup":case"reauthViaRedirect":return Goe;default:Mi(this.auth,"internal-error")}}resolve(e){Ma(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ma(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Qh(2e3,1e4);const qoe="pendingRedirect",df=new Map;class Koe extends Woe{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return(0,T.Z)(function*(){let r=df.get(t.auth._key());if(!r){try{const o=(yield function Yoe(n,e){return CC.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(o)}catch(i){r=()=>Promise.reject(i)}df.set(t.auth._key(),r)}return t.bypassAuthState||df.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return(0,T.Z)(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return(0,T.Z)(function*(){})()}cleanUp(){}}function CC(){return(CC=(0,T.Z)(function*(n,e){const t=function Q$(n){return Gm(qoe,n.config.apiKey,n.name)}(e),r=function X$(n){return Ys(n._redirectPersistence)}(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function Zoe(n,e){df.set(n._key(),e)}function J$(n,e){return kC.apply(this,arguments)}function kC(){return(kC=(0,T.Z)(function*(n,e,t=!1){const r=Ri(n),i=function Uc(n,e){return e?Ys(e):(qe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}(r,e),s=yield new Koe(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})).apply(this,arguments)}class tse{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function nse(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nV(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!nV(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(ns(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(tV(e))}saveEventToCache(e){this.cachedEventUids.add(tV(e)),this.lastProcessedEventTime=Date.now()}}function tV(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function nV({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===(null==e?void 0:e.code)}function OC(){return(OC=(0,T.Z)(function*(n,e={}){return vr(n,"GET","/v1/projects",e)})).apply(this,arguments)}const ise=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ose=/^https?/;function PC(){return PC=(0,T.Z)(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function rse(n){return OC.apply(this,arguments)}(n);for(const t of e)try{if(ase(t))return}catch(r){}Mi(n,"unauthorized-domain")}),PC.apply(this,arguments)}function ase(n){const e=Xh(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const s=new URL(n);return""===s.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&s.hostname===r}if(!ose.test(t))return!1;if(ise.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const cse=new Qh(3e4,6e4);function rV(){const n=cr().___jsl;if(null!=n&&n.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let tv=null;function use(n){return tv=tv||function lse(n){return new Promise((e,t)=>{var r,i,o;function s(){rV(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rV(),t(ns(n,"network-request-failed"))},timeout:cse.get()})}if(null!==(i=null===(r=cr().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(o=cr().gapi)||void 0===o||!o.load){const a=Y$("iframefcb");return cr()[a]=()=>{gapi.load?s():t(ns(n,"network-request-failed"))},function K$(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=ns("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",function Moe(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>t(c))}s()}}).catch(e=>{throw tv=null,e})}(n),tv}const dse=new Qh(5e3,15e3),hse="__/auth/iframe",fse="emulator/auth/iframe",pse={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gse=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mse(n){const e=n.config;qe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?zS(e,fse):`https://${n.config.authDomain}/${hse}`,r={apiKey:e.apiKey,appName:n.name,v:Cu},i=gse.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Rm(r).slice(1)}`}function FC(){return FC=(0,T.Z)(function*(n){const e=yield use(n),t=cr().gapi;return qe(t,n,"internal-error"),e.open({where:document.body,url:mse(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pse,dontclear:!0},r=>new Promise(function(){var i=(0,T.Z)(function*(o,s){yield r.restyle({setHideOnLeave:!1});const a=ns(n,"network-request-failed"),c=cr().setTimeout(()=>{s(a)},dse.get());function l(){cr().clearTimeout(c),o(r)}r.ping(l).then(l,()=>{s(a)})});return function(o,s){return i.apply(this,arguments)}}()))}),FC.apply(this,arguments)}const yse={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_se=500,bse=600,Ese="_blank",Ise="http://localhost";class iV{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}const Cse="__/auth/handler",Dse="emulator/auth/handler";function oV(n,e,t,r,i,o){qe(n.config.authDomain,n,"auth-domain-config-required"),qe(n.config.apiKey,n,"invalid-api-key");const s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Cu,eventId:i};if(e instanceof ka){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",function GJ(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,l]of Object.entries(o||{}))s[c]=l}if(e instanceof Bie){const c=e.getScopes().filter(l=>""!==l);c.length>0&&(s.scopes=c.join(","))}n.tenantId&&(s.tid=n.tenantId);const a=s;for(const c of Object.keys(a))void 0===a[c]&&delete a[c];return`${function Tse({config:n}){return n.emulator?zS(n,Dse):`https://${n.authDomain}/${Cse}`}(n)}?${Rm(a).slice(1)}`}const LC="webStorageSupport",xse=class Ase{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=H$,this._completeRedirectFn=J$,this._overrideRedirectResult=Zoe}_openPopup(e,t,r,i){var o=this;return(0,T.Z)(function*(){var s;Ma(null===(s=o.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=oV(e,t,r,Xh(),i);return function Sse(n,e,t,r=_se,i=bse){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},yse),{width:r.toString(),height:i.toString(),top:o,left:s}),l=mr().toLowerCase();t&&(a=b$(l)?Ese:t),_$(l)&&(e=e||Ise,c.scrollbars="yes");const u=Object.entries(c).reduce((f,[v,E])=>`${f}${v}=${E},`,"");if(function mie(n=mr()){var e;return zm(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(l)&&"_self"!==a)return function wse(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new iV(null);const d=window.open(e||"",a,u);qe(d,n,"popup-blocked");try{d.focus()}catch(f){}return new iV(d)}(e,a,iC())})()}_openRedirect(e,t,r,i){var o=this;return(0,T.Z)(function*(){return yield o._originValidation(e),function voe(n){cr().location.href=n}(oV(e,t,r,Xh(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Ma(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return(0,T.Z)(function*(){const r=yield function vse(n){return FC.apply(this,arguments)}(e),i=new tse(e);return r.register("authEvent",o=>(qe(null==o?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(LC,{type:LC},i=>{var o;const s=null===(o=null==i?void 0:i[0])||void 0===o?void 0:o[LC];void 0!==s&&t(!!s),Mi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function sse(n){return PC.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return C$()||iw()||zm()}};var aV="@firebase/auth";class Mse{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,T.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((null==r?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Ose=GL("authIdTokenMaxAge")||300;let lV=null;const Pse=n=>function(){var e=(0,T.Z)(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Ose)return;const o=null==r?void 0:r.token;lV!==o&&(lV=o,yield fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function Fse(n=tI()){const e=wu(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function Qre(n,e){const t=wu(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(Mm(t.getOptions(),null!=e?e:{}))return i;Mi(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:xse,persistence:[Doe,foe,H$]}),r=GL("authTokenSyncURL");if(r){const o=Pse(r);(function roe(n,e,t){Nn(n).beforeAuthStateChanged(e,t)})(t,o,()=>o(t.currentUser)),U$(t,s=>o(s))}const i=HL("auth");return i&&function Eie(n,e,t){const r=Ri(n);qe(r._canInitEmulator,r,"emulator-config-failed"),qe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!(null==t||!t.disableWarnings),o=A$(e),{host:s,port:a}=function Iie(n){const e=A$(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:x$(r.substr(o.length+1))}}{const[o,s]=r.split(":");return{host:o,port:x$(s)}}}(e);r.config.emulator={url:`${o}//${s}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function Sie(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}function uV(n){return new Pe(function(e){return{unsubscribe:U$(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}!function kse(n){pi(new Qr("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:o,authDomain:s}=r.options;return((a,c)=>{qe(o&&!o.includes(":"),"invalid-api-key",{appName:a.name}),qe(!(null!=s&&s.includes(":")),"argument-error",{appName:a.name});const l={apiKey:o,authDomain:s,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:D$(n)},u=new bie(a,c,l);return function Jre(n,e){const t=(null==e?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ys);null!=e&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(u,t),u})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),pi(new Qr("auth-internal",e=>{const t=Ri(e.getProvider("auth").getImmediate());return new Mse(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),On(aV,"0.21.4",function Rse(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),On(aV,"0.21.4","esm2017")}("Browser");class $C{constructor(e){return e}}class hV{constructor(){return US("auth")}}const VC=new lt("angularfire2.auth-instances"),Vse={provide:hV,deps:[[new li,VC]]},Bse={provide:$C,useFactory:function Lse(n,e){const t=BS("auth",n,e);return t&&new $C(t)},deps:[[new li,VC],Mu]};let fV=(()=>{class n{constructor(){On("angularfire",Um.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jr({type:n}),n.\u0275inj=Dr({providers:[Bse,Vse]}),n})();const pV=sr(uV,!0),Use=sr(Kie,!0),jse=sr(soe,!0),Hse=sr(Fse,!0),Gse=sr(Wie,!0),zse=sr(Yie,!0),Wse=sr(ooe,!0),qse=sr(ioe,!0),BC=new Map,gV={activated:!1,tokenObservers:[]},Kse={initialized:!1,enabled:!1};function Or(n){return BC.get(n)||Object.assign({},gV)}function nv(){return Kse}const UC="https://content-firebaseappcheck.googleapis.com/v1",Qse="exchangeDebugToken",mV={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class eae{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,T.Z)(function*(){t.stop();try{t.pending=new Am,yield function tae(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Am,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const gi=new ts("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function HC(n,e){return GC.apply(this,arguments)}function GC(){return(GC=(0,T.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const o={method:"POST",body:JSON.stringify(e),headers:r};let s,a;try{s=yield fetch(n,o)}catch(d){throw gi.create("fetch-network-error",{originalErrorMessage:null==d?void 0:d.message})}if(200!==s.status)throw gi.create("fetch-status-error",{httpStatus:s.status});try{a=yield s.json()}catch(d){throw gi.create("fetch-parse-error",{originalErrorMessage:null==d?void 0:d.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw gi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(c[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+l,issuedAtTimeMillis:u}})).apply(this,arguments)}const sae="firebase-app-check-database",aae=1,hf="firebase-app-check-store";let ov=null;function bV(n,e){return zC.apply(this,arguments)}function zC(){return(zC=(0,T.Z)(function*(n,e){const r=(yield function _V(){return ov||(ov=new Promise((n,e)=>{try{const t=indexedDB.open(sae,aae);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(gi.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(hf,{keyPath:"compositeKey"})}}catch(t){e(gi.create("storage-open",{originalErrorMessage:null==t?void 0:t.message}))}}),ov)}()).transaction(hf,"readwrite"),o=r.objectStore(hf).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var l;a(gi.create("storage-set",{originalErrorMessage:null===(l=c.target.error)||void 0===l?void 0:l.message}))}})})).apply(this,arguments)}const ff=new Su("@firebase/app-check");function KC(n,e){return xc()?function lae(n,e){return bV(function IV(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{ff.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function wV(){return ZC.apply(this,arguments)}function ZC(){return(ZC=(0,T.Z)(function*(){const n=nv();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const gae={error:"UNKNOWN_ERROR"};function mae(n){return BE.encodeString(JSON.stringify(n),!1)}function sv(n){return XC.apply(this,arguments)}function XC(){return(XC=(0,T.Z)(function*(n,e=!1){const t=n.app;!function vV(n){if(!Or(n).activated)throw gi.create("use-before-activation",{appName:n.name})}(t);const r=Or(t);let o,i=r.token;if(i&&!Nu(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&(Nu(c)?i=c:yield KC(t,void 0))}if(!e&&i&&Nu(i))return{token:i.token};let a,s=!1;if(function SV(){return nv().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=HC(function oae(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${UC}/projects/${t}/apps/${r}:${Qse}?key=${i}`,body:{debug_token:e}}}(t,yield wV()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);const c=yield r.exchangeTokenPromise;return yield KC(t,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield Or(t).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?ff.warn(c.message):ff.error(c),o=c}return i?o?a=Nu(i)?{token:i.token,internalError:o}:TV(o):(a={token:i.token},r.token=i,yield KC(t,i)):a=TV(o),s&&function DV(n,e){const t=Or(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}(t,a),a})).apply(this,arguments)}function JC(n,e){const t=Or(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function CV(n){const{app:e}=n,t=Or(e);let r=t.tokenRefresher;r||(r=function vae(n){const{app:e}=n;return new eae((0,T.Z)(function*(){let r;if(r=Or(e).token?yield sv(n,!0):yield sv(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Or(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},mV.RETRIAL_MIN_WAIT,mV.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Nu(n){return n.expireTimeMillis-Date.now()>0}function TV(n){return{token:mae(gae),error:n}}class yae{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Or(this.app);for(const t of e)JC(this.app,t.next);return Promise.resolve()}}const PV="app-check-internal";!function kae(){pi(new Qr("app-check",n=>function _ae(n,e){return new yae(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(PV).initialize()})),pi(new Qr(PV,n=>function bae(n){return{getToken:e=>sv(n,e),addTokenListener:e=>function QC(n,e,t,r){const{app:i}=n,o=Or(i);if(o.tokenObservers=[...o.tokenObservers,{next:t,error:r,type:e}],o.token&&Nu(o.token)){const a=o.token;Promise.resolve().then(()=>{t({token:a.token}),CV(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>CV(n))}(n,"INTERNAL",e),removeTokenListener:e=>JC(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),On("@firebase/app-check","0.6.4")}();class LV{constructor(){return US("app-check")}}typeof window<"u"&&window;var dt,Lae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Js={},iD=iD||{},Et=Lae||self;function cv(){}function lv(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function pf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var oD="closure_uid_"+(1e9*Math.random()>>>0),Vae=0;function Bae(n,e,t){return n.call.apply(n.bind,arguments)}function Uae(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Jr(n,e,t){return(Jr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Bae:Uae).apply(null,arguments)}function uv(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Pr(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Na(){this.s=this.s,this.o=this.o}Na.prototype.s=!1,Na.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function $ae(n){Object.prototype.hasOwnProperty.call(n,oD)&&n[oD]||(n[oD]=++Vae)}(this)},Na.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const $V=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function sD(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function VV(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(lv(r)){const i=n.length||0,o=r.length||0;n.length=i+o;for(let s=0;s<o;s++)n[i+s]=r[s]}else n.push(r)}}function ei(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}ei.prototype.h=function(){this.defaultPrevented=!0};var Hae=function(){if(!Et.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Et.addEventListener("test",cv,e),Et.removeEventListener("test",cv,e)}catch(t){}return n}();function dv(n){return/^[\s\xa0]*$/.test(n)}var BV=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function aD(n,e){return n<e?-1:n>e?1:0}function hv(){var n=Et.navigator;return n&&(n=n.userAgent)?n:""}function is(n){return-1!=hv().indexOf(n)}function cD(n){return cD[" "](n),n}cD[" "]=cv;var fv,n,zae=is("Opera"),Ou=is("Trident")||is("MSIE"),UV=is("Edge"),lD=UV||Ou,jV=is("Gecko")&&!(-1!=hv().toLowerCase().indexOf("webkit")&&!is("Edge"))&&!(is("Trident")||is("MSIE"))&&!is("Edge"),Wae=-1!=hv().toLowerCase().indexOf("webkit")&&!is("Edge");function HV(){var n=Et.document;return n?n.documentMode:void 0}e:{var uD="",dD=(n=hv(),jV?/rv:([^\);]+)(\)|;)/.exec(n):UV?/Edge\/([\d\.]+)/.exec(n):Ou?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Wae?/WebKit\/(\S+)/.exec(n):zae?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(dD&&(uD=dD?dD[1]:""),Ou){var hD=HV();if(null!=hD&&hD>parseFloat(uD)){fv=String(hD);break e}}fv=uD}var qae={};var Yae=Et.document&&Ou&&(HV()||parseInt(fv,10))||void 0;function gf(n,e){if(ei.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(jV){e:{try{cD(e.nodeName);var i=!0;break e}catch(o){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Zae[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&gf.X.h.call(this)}}Pr(gf,ei);var Zae={2:"touch",3:"pen",4:"mouse"};gf.prototype.h=function(){gf.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var mf="closure_listenable_"+(1e6*Math.random()|0),Xae=0;function Qae(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++Xae,this.ba=this.ea=!1}function pv(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function pD(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function zV(n){const e={};for(const t in n)e[t]=n[t];return e}const WV="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qV(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let o=0;o<WV.length;o++)t=WV[o],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function gv(n){this.src=n,this.g={},this.h=0}function gD(n,e){var t=e.type;if(t in n.g){var o,r=n.g[t],i=$V(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(pv(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function mD(n,e,t,r){for(var i=0;i<n.length;++i){var o=n[i];if(!o.ba&&o.listener==e&&o.capture==!!t&&o.ha==r)return i}return-1}gv.prototype.add=function(n,e,t,r,i){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var s=mD(n,e,r,i);return-1<s?(e=n[s],t||(e.ea=!1)):((e=new Qae(e,this.src,o,!!r,i)).ea=t,n.push(e)),e};var vD="closure_lm_"+(1e6*Math.random()|0),yD={};function KV(n,e,t,r,i){if(r&&r.once)return ZV(n,e,t,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)KV(n,e[o],t,r,i);return null}return t=ID(t),n&&n[mf]?n.N(e,t,pf(r)?!!r.capture:!!r,i):YV(n,e,t,!1,r,i)}function YV(n,e,t,r,i,o){if(!e)throw Error("Invalid event type");var s=pf(i)?!!i.capture:!!i,a=bD(n);if(a||(n[vD]=a=new gv(n)),(t=a.add(e,t,r,s,o)).proxy)return t;if(r=function Jae(){const e=ece;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Hae||(i=s),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(QV(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function ZV(n,e,t,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)ZV(n,e[o],t,r,i);return null}return t=ID(t),n&&n[mf]?n.O(e,t,pf(r)?!!r.capture:!!r,i):YV(n,e,t,!0,r,i)}function XV(n,e,t,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)XV(n,e[o],t,r,i);else r=pf(r)?!!r.capture:!!r,t=ID(t),n&&n[mf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=mD(o=n.g[e],t,r,i))&&(pv(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=bD(n))&&(e=n.g[e.toString()],n=-1,e&&(n=mD(e,t,r,i)),(t=-1<n?e[n]:null)&&_D(t))}function _D(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[mf])gD(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(QV(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=bD(e))?(gD(t,n),0==t.h&&(t.src=null,e[vD]=null)):pv(n)}}}function QV(n){return n in yD?yD[n]:yD[n]="on"+n}function ece(n,e){if(n.ba)n=!0;else{e=new gf(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&_D(n),n=t.call(r,e)}return n}function bD(n){return(n=n[vD])instanceof gv?n:null}var ED="__closure_events_fn_"+(1e9*Math.random()>>>0);function ID(n){return"function"==typeof n?n:(n[ED]||(n[ED]=function(e){return n.handleEvent(e)}),n[ED])}function yr(){Na.call(this),this.i=new gv(this),this.P=this,this.I=null}function Fr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new ei(e,n);else if(e instanceof ei)e.target=e.target||n;else{var i=e;qV(e=new ei(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.g=t[o];i=mv(s,r,!0,e)&&i}if(i=mv(s=e.g=n,r,!0,e)&&i,i=mv(s,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=mv(s=e.g=t[o],r,!1,e)&&i}function mv(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ba&&s.capture==t){var a=s.listener,c=s.ha||s.src;s.ea&&gD(n.i,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Pr(yr,Na),yr.prototype[mf]=!0,yr.prototype.removeEventListener=function(n,e,t,r){XV(this,n,e,t,r)},yr.prototype.M=function(){if(yr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)pv(t[r]);delete n.g[e],n.h--}}this.I=null},yr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},yr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var SD=Et.JSON.stringify;function tce(){var n=tB;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var wD,JV=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new rce,n=>n.reset());class rce{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ice(n){Et.setTimeout(()=>{throw n},0)}function eB(n,e){wD||function oce(){var n=Et.Promise.resolve(void 0);wD=function(){n.then(sce)}}(),CD||(wD(),CD=!0),tB.add(n,e)}var CD=!1,tB=new class nce{constructor(){this.h=this.g=null}add(e,t){const r=JV.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function sce(){for(var n;n=tce();){try{n.h.call(n.g)}catch(t){ice(t)}var e=JV;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}CD=!1}function vv(n,e){yr.call(this),this.h=n||1,this.g=e||Et,this.j=Jr(this.lb,this),this.l=Date.now()}function DD(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function TD(n,e,t){if("function"==typeof n)t&&(n=Jr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Jr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Et.setTimeout(n,e||0)}function nB(n){n.g=TD(()=>{n.g=null,n.i&&(n.i=!1,nB(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Pr(vv,yr),(dt=vv.prototype).ca=!1,dt.R=null,dt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Fr(this,"tick"),this.ca&&(DD(this),this.start()))}},dt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},dt.M=function(){vv.X.M.call(this),DD(this),delete this.g};class ace extends Na{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:nB(this)}M(){super.M(),this.g&&(Et.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vf(n){Na.call(this),this.h=n,this.g={}}Pr(vf,Na);var rB=[];function iB(n,e,t,r){Array.isArray(t)||(t&&(rB[0]=t.toString()),t=rB);for(var i=0;i<t.length;i++){var o=KV(e,t[i],r||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function oB(n){pD(n.g,function(e,t){this.g.hasOwnProperty(t)&&_D(e)},n),n.g={}}function yv(){this.g=!0}function Pu(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function dce(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return SD(t)}catch(a){return e}}(n,t)+(r?" "+r:"")})}vf.prototype.M=function(){vf.X.M.call(this),oB(this)},vf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},yv.prototype.Aa=function(){this.g=!1},yv.prototype.info=function(){};var jc={},sB=null;function _v(){return sB=sB||new yr}function aB(n){ei.call(this,jc.Pa,n)}function yf(n){const e=_v();Fr(e,new aB(e))}function cB(n,e){ei.call(this,jc.STAT_EVENT,n),this.stat=e}function mi(n){const e=_v();Fr(e,new cB(e,n))}function lB(n,e){ei.call(this,jc.Qa,n),this.size=e}function _f(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Et.setTimeout(function(){n()},e)}jc.Pa="serverreachability",Pr(aB,ei),jc.STAT_EVENT="statevent",Pr(cB,ei),jc.Qa="timingevent",Pr(lB,ei);var bv={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},uB={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function AD(){}function hB(){}AD.prototype.h=null;var RD,bf={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function xD(){ei.call(this,"d")}function MD(){ei.call(this,"c")}function Ev(){}function Ef(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new vf(this),this.O=hce,this.T=new vv(n=lD?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new fB}function fB(){this.i=null,this.g="",this.h=!1}Pr(xD,ei),Pr(MD,ei),Pr(Ev,AD),Ev.prototype.g=function(){return new XMLHttpRequest},Ev.prototype.i=function(){return{}},RD=new Ev;var hce=45e3,kD={},Iv={};function ND(n,e,t){n.K=1,n.v=Dv(ea(e)),n.s=t,n.P=!0,pB(n,null)}function pB(n,e){n.F=Date.now(),If(n),n.A=ea(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),wB(t.i,"t",r),n.C=0,t=n.l.H,n.h=new fB,n.g=KB(n.l,t?e:null,!n.s),0<n.N&&(n.L=new ace(Jr(n.La,n,n.g),n.N)),iB(n.S,n.g,"readystatechange",n.ib),e=n.H?zV(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),yf(),function cce(n,e,t,r,i,o){n.info(function(){if(n.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+l+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+s})}(n.j,n.u,n.A,n.m,n.U,n.s)}function gB(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function mB(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=fce(n,t),i==Iv){4==e&&(n.o=4,mi(14),r=!1),Pu(n.j,n.m,null,"[Incomplete Response]");break}if(i==kD){n.o=4,mi(15),Pu(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Pu(n.j,n.m,i,null),OD(n,i)}gB(n)&&i!=Iv&&i!=kD&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,mi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),jD(e),e.K=!0,mi(11))):(Pu(n.j,n.m,t,"[Invalid Chunked Response]"),Hc(n),Sf(n))}function fce(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Iv:(t=Number(e.substring(t,r)),isNaN(t)?kD:(r+=1)+t>e.length?Iv:(e=e.substr(r,t),n.C=r+t,e))}function If(n){n.V=Date.now()+n.O,vB(n,n.O)}function vB(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=_f(Jr(n.gb,n),e)}function Sv(n){n.B&&(Et.clearTimeout(n.B),n.B=null)}function Sf(n){0==n.l.G||n.I||GB(n.l,n)}function Hc(n){Sv(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,DD(n.T),oB(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function OD(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||PD(t.h,n)))if(!n.J&&PD(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch(l){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;kv(t),Mv(t)}UD(t),mi(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=_f(Jr(t.cb,t),6e3));if(1>=TB(t.h)&&t.ja){try{t.ja()}catch(l){}t.ja=void 0}}else zc(t,11)}else if((n.J||t.g==n)&&kv(t),!dv(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(t.T=l[0],l=l[1],2==t.G)if("c"==l[0]){t.I=l[1],t.ka=l[2];const u=l[3];null!=u&&(t.ma=u,t.j.info("VER="+t.ma));const d=l[4];null!=d&&(t.Ca=d,t.j.info("SVER="+t.Ca));const f=l[5];null!=f&&"number"==typeof f&&0<f&&(t.J=r=1.5*f,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const v=n.g;if(v){const E=v.g?v.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(E){var o=r.h;o.g||-1==E.indexOf("spdy")&&-1==E.indexOf("quic")&&-1==E.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(FD(o,o.h),o.h=null))}if(r.D){const x=v.g?v.g.getResponseHeader("X-HTTP-Session-Id"):null;x&&(r.za=x,bn(r.F,r.D,x))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var s=n;if((r=t).sa=qB(r,r.H?r.ka:null,r.V),s.J){AB(r.h,s);var a=s,c=r.J;c&&a.setTimeout(c),a.B&&(Sv(a),If(a)),r.g=s}else jB(r);0<t.i.length&&Rv(t)}else"stop"!=l[0]&&"close"!=l[0]||zc(t,7);else 3==t.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?zc(t,7):BD(t):"noop"!=l[0]&&t.l&&t.l.wa(l),t.A=0)}yf()}catch(l){}}function yB(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(lv(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function gce(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(lv(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function pce(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(lv(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],t&&t[o],n)}(dt=Ef.prototype).setTimeout=function(n){this.O=n},dt.ib=function(n){n=n.target;const e=this.L;e&&3==ta(n)?e.l():this.La(n)},dt.La=function(n){try{if(n==this.g)e:{const u=ta(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>u)&&(3!=u||lD||this.g&&(this.h.h||this.g.fa()||FB(this.g)))){this.I||4!=u||7==e||yf(),Sv(this);var t=this.g.aa();this.Y=t;t:if(gB(this)){var r=FB(this.g);n="";var i=r.length,o=4==ta(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Hc(this),Sf(this);var s="";break t}this.h.i=new Et.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,s=this.h.g}else s=this.g.fa();if(this.i=200==t,function lce(n,e,t,r,i,o,s){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.U,u,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dv(a)){var l=a;break t}}l=null}if(!(t=l)){this.i=!1,this.o=3,mi(12),Hc(this),Sf(this);break e}Pu(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,OD(this,t)}this.P?(mB(this,u,s),lD&&this.i&&3==u&&(iB(this.S,this.T,"tick",this.hb),this.T.start())):(Pu(this.j,this.m,s,null),OD(this,s)),4==u&&Hc(this),this.i&&!this.I&&(4==u?GB(this.l,this):(this.i=!1,If(this)))}else 400==t&&0<s.indexOf("Unknown SID")?(this.o=3,mi(12)):(this.o=0,mi(13)),Hc(this),Sf(this)}}}catch(u){}},dt.hb=function(){if(this.g){var n=ta(this.g),e=this.g.fa();this.C<e.length&&(Sv(this),mB(this,n,e),this.i&&4!=n&&If(this))}},dt.cancel=function(){this.I=!0,Hc(this)},dt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function uce(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(yf(),mi(17)),Hc(this),this.o=2,Sf(this)):vB(this,this.V-n)};var _B=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gc(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Gc){this.h=void 0!==e?e:n.h,wv(this,n.j),this.s=n.s,this.g=n.g,Cv(this,n.m),this.l=n.l,e=n.i;var t=new Df;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),bB(this,t),this.o=n.o}else n&&(t=String(n).match(_B))?(this.h=!!e,wv(this,t[1]||"",!0),this.s=wf(t[2]||""),this.g=wf(t[3]||"",!0),Cv(this,t[4]),this.l=wf(t[5]||"",!0),bB(this,t[6]||"",!0),this.o=wf(t[7]||"")):(this.h=!!e,this.i=new Df(null,this.h))}function ea(n){return new Gc(n)}function wv(n,e,t){n.j=t?wf(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Cv(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function bB(n,e,t){e instanceof Df?(n.i=e,function Ice(n,e){e&&!n.j&&(Oa(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(IB(this,r),wB(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Cf(e,bce)),n.i=new Df(e,n.h))}function bn(n,e,t){n.i.set(e,t)}function Dv(n){return bn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function wf(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Cf(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,vce),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function vce(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Gc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Cf(e,EB,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Cf(e,EB,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Cf(t,"/"==t.charAt(0)?_ce:yce,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Cf(t,Ece)),n.join("")};var EB=/[#\/\?@]/g,yce=/[#\?:]/g,_ce=/[#\?]/g,bce=/[#\?@]/g,Ece=/#/g;function Df(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Oa(n){n.g||(n.g=new Map,n.h=0,n.i&&function mce(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var o=n[t].substring(0,r);i=n[t].substring(r+1)}else o=n[t];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function IB(n,e){Oa(n),e=Fu(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function SB(n,e){return Oa(n),e=Fu(n,e),n.g.has(e)}function wB(n,e,t){IB(n,e),0<t.length&&(n.i=null,n.g.set(Fu(n,e),sD(t)),n.h+=t.length)}function Fu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function CB(n){this.l=n||wce,n=Et.PerformanceNavigationTiming?0<(n=Et.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Et.g&&Et.g.Ga&&Et.g.Ga()&&Et.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(dt=Df.prototype).add=function(n,e){Oa(this),this.i=null,n=Fu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},dt.forEach=function(n,e){Oa(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},dt.oa=function(){Oa(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let o=0;o<i.length;o++)t.push(e[r])}return t},dt.W=function(n){Oa(this);let e=[];if("string"==typeof n)SB(this,n)&&(e=e.concat(this.g.get(Fu(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},dt.set=function(n,e){return Oa(this),this.i=null,SB(this,n=Fu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},dt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},dt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const o=encodeURIComponent(String(r)),s=this.W(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),n.push(i)}}return this.i=n.join("&")};var wce=10;function DB(n){return!!n.h||!!n.g&&n.g.size>=n.j}function TB(n){return n.h?1:n.g?n.g.size:0}function PD(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function FD(n,e){n.g?n.g.add(e):n.h=e}function AB(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function xB(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return sD(n.i)}function LD(){}function Cce(){this.g=new LD}function Dce(n,e,t){const r=t||"";try{yB(n,function(i,o){let s=i;pf(i)&&(s=SD(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Tv(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}function Tf(n){this.l=n.ac||null,this.j=n.jb||!1}function Av(n,e){yr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=$D,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}CB.prototype.cancel=function(){if(this.i=xB(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},LD.prototype.stringify=function(n){return Et.JSON.stringify(n,void 0)},LD.prototype.parse=function(n){return Et.JSON.parse(n,void 0)},Pr(Tf,AD),Tf.prototype.g=function(){return new Av(this.l,this.j)},Tf.prototype.i=function(n){return function(){return n}}({}),Pr(Av,yr);var $D=0;function MB(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Af(n){n.readyState=4,n.l=null,n.j=null,n.A=null,xf(n)}function xf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(dt=Av.prototype).open=function(n,e){if(this.readyState!=$D)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,xf(this)},dt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Et).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},dt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Af(this)),this.readyState=$D},dt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,xf(this)),this.g&&(this.readyState=3,xf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Et.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;MB(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},dt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Af(this):xf(this),3==this.readyState&&MB(this)}},dt.Va=function(n){this.g&&(this.response=this.responseText=n,Af(this))},dt.Ua=function(n){this.g&&(this.response=n,Af(this))},dt.ga=function(){this.g&&Af(this)},dt.setRequestHeader=function(n,e){this.v.append(n,e)},dt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},dt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Av.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Ace=Et.JSON.parse;function Pn(n){yr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=RB,this.K=this.L=!1}Pr(Pn,yr);var RB="",xce=/^https?$/i,Mce=["POST","PUT"];function kB(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,NB(n),xv(n)}function NB(n){n.D||(n.D=!0,Fr(n,"complete"),Fr(n,"error"))}function OB(n){if(n.h&&typeof iD<"u"&&(!n.C[1]||4!=ta(n)||2!=n.aa()))if(n.v&&4==ta(n))TD(n.Ha,0,n);else if(Fr(n,"readystatechange"),4==ta(n)){n.h=!1;try{const a=n.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===a){var i=String(n.H).match(_B)[1]||null;if(!i&&Et.self&&Et.self.location){var o=Et.self.location.protocol;i=o.substr(0,o.length-1)}r=!xce.test(i?i.toLowerCase():"")}t=r}if(t)Fr(n,"complete"),Fr(n,"success");else{n.m=6;try{var s=2<ta(n)?n.g.statusText:""}catch(c){s=""}n.j=s+" ["+n.aa()+"]",NB(n)}}finally{xv(n)}}}function xv(n,e){if(n.g){PB(n);const t=n.g,r=n.C[0]?cv:null;n.g=null,n.C=null,e||Fr(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function PB(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Et.clearTimeout(n.A),n.A=null)}function ta(n){return n.g?n.g.readyState:0}function FB(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case RB:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function LB(n){let e="";return pD(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function VD(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=LB(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):bn(n,e,t))}function Mf(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function $B(n){this.Ca=0,this.i=[],this.j=new yv,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Mf("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Mf("baseRetryDelayMs",5e3,n),this.bb=Mf("retryDelaySeedMs",1e4,n),this.$a=Mf("forwardChannelMaxRetries",2,n),this.ta=Mf("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new CB(n&&n.concurrentRequestLimit),this.Fa=new Cce,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function BD(n){if(VB(n),3==n.G){var e=n.U++,t=ea(n.F);bn(t,"SID",n.I),bn(t,"RID",e),bn(t,"TYPE","terminate"),Rf(n,t),(e=new Ef(n,n.j,e,void 0)).K=2,e.v=Dv(ea(t)),t=!1,Et.navigator&&Et.navigator.sendBeacon&&(t=Et.navigator.sendBeacon(e.v.toString(),"")),!t&&Et.Image&&((new Image).src=e.v,t=!0),t||(e.g=KB(e.l,null),e.g.da(e.v)),e.F=Date.now(),If(e)}WB(n)}function Mv(n){n.g&&(jD(n),n.g.cancel(),n.g=null)}function VB(n){Mv(n),n.u&&(Et.clearTimeout(n.u),n.u=null),kv(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Et.clearTimeout(n.m),n.m=null)}function Rv(n){DB(n.h)||n.m||(n.m=!0,eB(n.Ja,n),n.C=0)}function BB(n,e){var t;t=e?e.m:n.U++;const r=ea(n.F);bn(r,"SID",n.I),bn(r,"RID",t),bn(r,"AID",n.T),Rf(n,r),n.o&&n.s&&VD(r,n.o,n.s),t=new Ef(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=UB(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),FD(n.h,t),ND(t,r,e)}function Rf(n,e){n.ia&&pD(n.ia,function(t,r){bn(e,r,t)}),n.l&&yB({},function(t,r){bn(e,r,t)})}function UB(n,e,t){t=Math.min(n.i.length,t);var r=n.l?Jr(n.l.Ra,n.l,n):null;e:{var i=n.i;let o=-1;for(;;){const s=["count="+t];-1==o?0<t?(o=i[0].h,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<t;c++){let l=i[c].h;const u=i[c].g;if(l-=o,0>l)o=Math.max(0,i[c].h-100),a=!1;else try{Dce(u,s,"req"+l+"_")}catch(d){r&&r(u)}}if(a){r=s.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function jB(n){n.g||n.u||(n.Z=1,eB(n.Ia,n),n.A=0)}function UD(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=_f(Jr(n.Ia,n),zB(n,n.A)),n.A++,0))}function jD(n){null!=n.B&&(Et.clearTimeout(n.B),n.B=null)}function HB(n){n.g=new Ef(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=ea(n.sa);bn(e,"RID","rpc"),bn(e,"SID",n.I),bn(e,"CI",n.L?"0":"1"),bn(e,"AID",n.T),bn(e,"TYPE","xmlhttp"),Rf(n,e),n.o&&n.s&&VD(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=Dv(ea(e)),t.s=null,t.P=!0,pB(t,n)}function kv(n){null!=n.v&&(Et.clearTimeout(n.v),n.v=null)}function GB(n,e){var t=null;if(n.g==e){kv(n),jD(n),n.g=null;var r=2}else{if(!PD(n.h,e))return;t=e.D,AB(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Fr(r=_v(),new lB(r,t)),Rv(n)}else jB(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function kce(n,e){return!(TB(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=_f(Jr(n.Ja,n,e),zB(n,n.C)),n.C++,0)))}(n,e)||2==r&&UD(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:zc(n,5);break;case 4:zc(n,10);break;case 3:zc(n,6);break;default:zc(n,2)}}function zB(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function zc(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=Jr(n.kb,n);t||(t=new Gc("//www.google.com/images/cleardot.gif"),Et.location&&"http"==Et.location.protocol||wv(t,"https"),Dv(t)),function Tce(n,e){const t=new yv;if(Et.Image){const r=new Image;r.onload=uv(Tv,t,r,"TestLoadImage: loaded",!0,e),r.onerror=uv(Tv,t,r,"TestLoadImage: error",!1,e),r.onabort=uv(Tv,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=uv(Tv,t,r,"TestLoadImage: timeout",!1,e),Et.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else mi(2);n.G=0,n.l&&n.l.va(e),WB(n),VB(n)}function WB(n){if(n.G=0,n.la=[],n.l){const e=xB(n.h);(0!=e.length||0!=n.i.length)&&(VV(n.la,e),VV(n.la,n.i),n.h.i.length=0,sD(n.i),n.i.length=0),n.l.ua()}}function qB(n,e,t){var r=t instanceof Gc?ea(t):new Gc(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Cv(r,r.m);else{var i=Et.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Gc(null,void 0);r&&wv(o,r),e&&(o.g=e),i&&Cv(o,i),t&&(o.l=t),r=o}return e=n.za,(t=n.D)&&e&&bn(r,t,e),bn(r,"VER",n.ma),Rf(n,r),r}function KB(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Pn(t&&n.Da&&!n.ra?new Tf({jb:!0}):n.ra)).Ka(n.H),e}function YB(){}function Nv(){if(Ou&&!(10<=Number(Yae)))throw Error("Environmental error: no available transport.")}function Zi(n,e){yr.call(this),this.g=new $B(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!dv(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!dv(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Lu(this)}function ZB(n){xD.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function XB(){MD.call(this),this.status=1}function Lu(n){this.g=n}(dt=Pn.prototype).Ka=function(n){this.L=n},dt.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():RD.g(),this.C=function dB(n){return n.h||(n.h=n.i())}(this.u?this.u:RD),this.g.onreadystatechange=Jr(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(o){return void kB(this,o)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())t.set(o,r.get(o))}r=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),i=Et.FormData&&n instanceof Et.FormData,!(0<=$V(Mce,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of t)this.g.setRequestHeader(o,s);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{PB(this),0<this.B&&((this.K=function Rce(n){return Ou&&function Kae(){return function Gae(n){var e=qae;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=BV(String(fv)).split("."),t=BV("9").split("."),r=Math.max(e.length,t.length);for(let s=0;0==n&&s<r;s++){var i=e[s]||"",o=t[s]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==i[0].length&&0==o[0].length)break;n=aD(0==i[1].length?0:parseInt(i[1],10),0==o[1].length?0:parseInt(o[1],10))||aD(0==i[2].length,0==o[2].length)||aD(i[2],o[2]),i=i[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Jr(this.qa,this)):this.A=TD(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){kB(this,o)}},dt.qa=function(){typeof iD<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Fr(this,"timeout"),this.abort(8))},dt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Fr(this,"complete"),Fr(this,"abort"),xv(this))},dt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),xv(this,!0)),Pn.X.M.call(this)},dt.Ha=function(){this.s||(this.F||this.v||this.l?OB(this):this.fb())},dt.fb=function(){OB(this)},dt.aa=function(){try{return 2<ta(this)?this.g.status:-1}catch(n){return-1}},dt.fa=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},dt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Ace(e)}},dt.Ea=function(){return this.m},dt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(dt=$B.prototype).ma=8,dt.G=1,dt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new Ef(this,this.j,n,void 0);let o=this.s;if(this.S&&(o?(o=zV(o),qV(o,this.S)):o=this.S),null!==this.o||this.N||(i.H=o,o=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=UB(this,i,e),bn(t=ea(this.F),"RID",n),bn(t,"CVER",22),this.D&&bn(t,"X-HTTP-Session-Id",this.D),Rf(this,t),o&&(this.N?e="headers="+encodeURIComponent(String(LB(o)))+"&"+e:this.o&&VD(t,this.o,o)),FD(this.h,i),this.Ya&&bn(t,"TYPE","init"),this.O?(bn(t,"$req",e),bn(t,"SID","null"),i.Z=!0,ND(i,t,null)):ND(i,t,e),this.G=2}}else 3==this.G&&(n?BB(this,n):0==this.i.length||DB(this.h)||BB(this))},dt.Ia=function(){if(this.u=null,HB(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=_f(Jr(this.eb,this),n)}},dt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,mi(10),Mv(this),HB(this))},dt.cb=function(){null!=this.v&&(this.v=null,Mv(this),UD(this),mi(19))},dt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),mi(2)):(this.j.info("Failed to ping google.com"),mi(1))},(dt=YB.prototype).xa=function(){},dt.wa=function(){},dt.va=function(){},dt.ua=function(){},dt.Ra=function(){},Nv.prototype.g=function(n,e){return new Zi(n,e)},Pr(Zi,yr),Zi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;mi(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=qB(n,null,n.V),Rv(n)},Zi.prototype.close=function(){BD(this.g)},Zi.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=SD(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&Rv(e)},Zi.prototype.M=function(){this.g.l=null,delete this.j,BD(this.g),delete this.g,Zi.X.M.call(this)},Pr(ZB,xD),Pr(XB,MD),Pr(Lu,YB),Lu.prototype.xa=function(){Fr(this.g,"a")},Lu.prototype.wa=function(n){Fr(this.g,new ZB(n))},Lu.prototype.va=function(n){Fr(this.g,new XB)},Lu.prototype.ua=function(){Fr(this.g,"b")},Nv.prototype.createWebChannel=Nv.prototype.g,Zi.prototype.send=Zi.prototype.u,Zi.prototype.open=Zi.prototype.m,Zi.prototype.close=Zi.prototype.close,bv.NO_ERROR=0,bv.TIMEOUT=8,bv.HTTP_ERROR=6,uB.COMPLETE="complete",hB.EventType=bf,bf.OPEN="a",bf.CLOSE="b",bf.ERROR="c",bf.MESSAGE="d",yr.prototype.listen=yr.prototype.N,Pn.prototype.listenOnce=Pn.prototype.O,Pn.prototype.getLastError=Pn.prototype.Oa,Pn.prototype.getLastErrorCode=Pn.prototype.Ea,Pn.prototype.getStatus=Pn.prototype.aa,Pn.prototype.getResponseJson=Pn.prototype.Sa,Pn.prototype.getResponseText=Pn.prototype.fa,Pn.prototype.send=Pn.prototype.da,Pn.prototype.setWithCredentials=Pn.prototype.Ka;var Nce=Js.createWebChannelTransport=function(){return new Nv},Oce=Js.getStatEventTarget=function(){return _v()},HD=Js.ErrorCode=bv,Pce=Js.EventType=uB,Fce=Js.Event=jc,QB=Js.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Lce=Js.FetchXmlHttpFactory=Tf,Ov=Js.WebChannel=hB,$ce=Js.XhrIo=Pn;const JB="@firebase/firestore";class _r{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_r.UNAUTHENTICATED=new _r(null),_r.GOOGLE_CREDENTIALS=new _r("google-credentials-uid"),_r.FIRST_PARTY=new _r("first-party-uid"),_r.MOCK_USER=new _r("mock-user");let $u="9.17.2";const Pa=new Su("@firebase/firestore");function GD(){return Pa.logLevel}function $e(n,...e){if(Pa.logLevel<=jt.DEBUG){const t=e.map(zD);Pa.debug(`Firestore (${$u}): ${n}`,...t)}}function Hn(n,...e){if(Pa.logLevel<=jt.ERROR){const t=e.map(zD);Pa.error(`Firestore (${$u}): ${n}`,...t)}}function Vu(n,...e){if(Pa.logLevel<=jt.WARN){const t=e.map(zD);Pa.warn(`Firestore (${$u}): ${n}`,...t)}}function zD(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function st(n="Unexpected state"){const e=`FIRESTORE (${$u}) INTERNAL ASSERTION FAILED: `+n;throw Hn(e),new Error(e)}function ht(n,e){n||st()}function Qe(n,e){return n}const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Le extends mo{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class lr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class eU{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Vce{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(_r.UNAUTHENTICATED))}shutdown(){}}class Bce{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Uce{constructor(e){this.t=e,this.currentUser=_r.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const o=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve();let s=new lr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new lr,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable((0,T.Z)(function*(){yield l.promise,yield o(r.currentUser)}))},c=l=>{$e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):($e("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new lr)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?($e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ht("string"==typeof r.accessToken),new eU(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ht(null===e||"string"==typeof e),new _r(e)}}class jce{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=_r.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(ht(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Hce{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new jce(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(_r.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Gce{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=o=>{null!=o.error&&$e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.A;return this.A=o.token,$e("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{$e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.T.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.T.getImmediate({optional:!0});o?i(o):$e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ht("string"==typeof t.token),this.A=t.token,new tU(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function zce(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class nU{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=zce(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}}function It(n,e){return n<e?-1:n>e?1:0}function Bu(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class Tn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Le(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Le(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Le(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Le(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Tn.fromMillis(Date.now())}static fromDate(e){return Tn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Tn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?It(this.nanoseconds,e.nanoseconds):It(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class pt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new pt(e)}static min(){return new pt(new Tn(0,0))}static max(){return new pt(new Tn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class kf{constructor(e,t,r){void 0===t?t=0:t>e.length&&st(),void 0===r?r=e.length-t:r>e.length-t&&st(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===kf.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof kf?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ht extends kf{construct(e,t,r){return new Ht(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Le(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Ht(t)}static emptyPath(){return new Ht([])}}const Wce=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gn extends kf{construct(e,t,r){return new Gn(e,t,r)}static isValidIdentifier(e){return Wce.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Gn(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(0===r.length)throw new Le(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new Le(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new Le(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Le(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gn(t)}static emptyPath(){return new Gn([])}}class Ze{constructor(e){this.path=e}static fromPath(e){return new Ze(Ht.fromString(e))}static fromName(e){return new Ze(Ht.fromString(e).popFirst(5))}static empty(){return new Ze(Ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ht.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ht.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ze(new Ht(e.slice()))}}function oU(n){return new Xi(n.readTime,n.key,-1)}class Xi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Xi(pt.min(),Ze.empty(),-1)}static max(){return new Xi(pt.max(),Ze.empty(),-1)}}function qD(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ze.comparator(n.documentKey,e.documentKey),0!==t?t:It(n.largestBatchId,e.largestBatchId))}const sU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Yce{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Fa(n){return KD.apply(this,arguments)}function KD(){return KD=(0,T.Z)(function*(n){if(n.code!==re.FAILED_PRECONDITION||n.message!==sU)throw n;$e("LocalStore","Unexpectedly lost primary lease")}),KD.apply(this,arguments)}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&st(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Z((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Z?t:Z.resolve(t)}catch(t){return Z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.reject(t)}static resolve(e){return new Z((t,r)=>{t(e)})}static reject(e){return new Z((t,r)=>{r(e)})}static waitFor(e){return new Z((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},c=>r(c))}),s=!0,o===i&&t()})}static or(e){let t=Z.resolve(!1);for(const r of e)t=t.next(i=>i?Z.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new Z((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let c=0;c<o;c++){const l=c;t(e[l]).next(u=>{s[l]=u,++a,a===o&&r(s)},u=>i(u))}})}static doWhile(e,t){return new Z((r,i)=>{const o=()=>{!0===e()?t().next(()=>{o()},i):r()};o()})}}function La(n){return"IndexedDbTransactionError"===n.name}let Qi=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>r.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class nle{constructor(e,t,r,i,o,s,a,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=c}}class Kc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Kc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Kc&&e.projectId===this.projectId&&e.database===this.database}}function cU(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Yc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function lU(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Pf(n){return null==n}function Ff(n){return 0===n&&1/n==-1/0}class rle extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ur{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw i instanceof DOMException?new rle("Invalid base64 string: "+i):i}}(e);return new ur(t)}static fromUint8Array(e){const t=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new ur(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return It(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ur.EMPTY_BYTE_STRING=new ur("");const ile=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $a(n){if(ht(!!n),"string"==typeof n){let e=0;const t=ile.exec(n);if(ht(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Fn(n.seconds),nanos:Fn(n.nanos)}}function Fn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Zc(n){return"string"==typeof n?ur.fromBase64String(n):ur.fromUint8Array(n)}function XD(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function dU(n){const e=n.mapValue.fields.__previous_value__;return XD(e)?dU(e):e}function Lf(n){const e=$a(n.mapValue.fields.__local_write_time__.timestampValue);return new Tn(e.seconds,e.nanos)}const Va={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Xc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?XD(n)?4:gU(n)?9007199254740991:10:st()}function os(n,e){if(n===e)return!0;const t=Xc(n);if(t!==Xc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Lf(n).isEqual(Lf(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=$a(r.timestampValue),s=$a(i.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Zc(n.bytesValue).isEqual(Zc(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Fn(r.geoPointValue.latitude)===Fn(i.geoPointValue.latitude)&&Fn(r.geoPointValue.longitude)===Fn(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Fn(r.integerValue)===Fn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=Fn(r.doubleValue),s=Fn(i.doubleValue);return o===s?Ff(o)===Ff(s):isNaN(o)&&isNaN(s)}return!1}(n,e);case 9:return Bu(n.arrayValue.values||[],e.arrayValue.values||[],os);case 10:return function(r,i){const o=r.mapValue.fields||{},s=i.mapValue.fields||{};if(cU(o)!==cU(s))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(void 0===s[a]||!os(o[a],s[a])))return!1;return!0}(n,e);default:return st()}var i}function $f(n,e){return void 0!==(n.values||[]).find(t=>os(t,e))}function Ba(n,e){if(n===e)return 0;const t=Xc(n),r=Xc(e);if(t!==r)return It(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return It(n.booleanValue,e.booleanValue);case 2:return function(i,o){const s=Fn(i.integerValue||i.doubleValue),a=Fn(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(n,e);case 3:return hU(n.timestampValue,e.timestampValue);case 4:return hU(Lf(n),Lf(e));case 5:return It(n.stringValue,e.stringValue);case 6:return function(i,o){const s=Zc(i),a=Zc(o);return s.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,o){const s=i.split("/"),a=o.split("/");for(let c=0;c<s.length&&c<a.length;c++){const l=It(s[c],a[c]);if(0!==l)return l}return It(s.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,o){const s=It(Fn(i.latitude),Fn(o.latitude));return 0!==s?s:It(Fn(i.longitude),Fn(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,o){const s=i.values||[],a=o.values||[];for(let c=0;c<s.length&&c<a.length;++c){const l=Ba(s[c],a[c]);if(l)return l}return It(s.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===Va.mapValue&&o===Va.mapValue)return 0;if(i===Va.mapValue)return 1;if(o===Va.mapValue)return-1;const s=i.fields||{},a=Object.keys(s),c=o.fields||{},l=Object.keys(c);a.sort(),l.sort();for(let u=0;u<a.length&&u<l.length;++u){const d=It(a[u],l[u]);if(0!==d)return d;const f=Ba(s[a[u]],c[l[u]]);if(0!==f)return f}return It(a.length,l.length)}(n.mapValue,e.mapValue);default:throw st()}}function hU(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return It(n,e);const t=$a(n),r=$a(e),i=It(t.seconds,r.seconds);return 0!==i?i:It(t.nanos,r.nanos)}function Uu(n){return QD(n)}function QD(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=$a(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Zc(n.bytesValue).toBase64():"referenceValue"in n?Ze.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",o=!0;for(const s of r.values||[])o?o=!1:i+=",",i+=QD(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",s=!0;for(const a of i)s?s=!1:o+=",",o+=`${a}:${QD(r.fields[a])}`;return o+"}"}(n.mapValue):st();var e}function Qc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function JD(n){return!!n&&"integerValue"in n}function Vf(n){return!!n&&"arrayValue"in n}function fU(n){return!!n&&"nullValue"in n}function pU(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Vv(n){return!!n&&"mapValue"in n}function Bf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Yc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Bf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Bf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function gU(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ua{constructor(e,t){this.position=e,this.inclusive=t}}function yU(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],s=n.position[i];if(r=o.field.isKeyField()?Ze.comparator(Ze.fromName(s.referenceValue),t.key):Ba(s,t.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function _U(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!os(n.position[t],e.position[t]))return!1;return!0}class bU{}class Ft extends bU{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new ale(e,t,r):"array-contains"===t?new ule(e,r):"in"===t?new DU(e,r):"not-in"===t?new dle(e,r):"array-contains-any"===t?new hle(e,r):new Ft(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new cle(e,r):new lle(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ba(t,this.value)):null!==t&&Xc(this.value)===Xc(t)&&this.matchesComparison(Ba(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return st()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class rn extends bU{constructor(e,t){super(),this.filters=e,this.op=t,this.ft=null}static create(e,t){return new rn(e,t)}matches(e){return ju(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ft||(this.ft=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ft}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.dt(t=>t.isInequality());return null!==e?e.field:null}dt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function ju(n){return"and"===n.op}function tT(n){return function EU(n){for(const e of n.filters)if(e instanceof rn)return!1;return!0}(n)&&ju(n)}function nT(n){if(n instanceof Ft)return n.field.canonicalString()+n.op.toString()+Uu(n.value);if(tT(n))return n.filters.map(e=>nT(e)).join(",");{const e=n.filters.map(t=>nT(t)).join(",");return`${n.op}(${e})`}}function IU(n,e){return n instanceof Ft?(t=n,(r=e)instanceof Ft&&t.op===r.op&&t.field.isEqual(r.field)&&os(t.value,r.value)):n instanceof rn?function(t,r){return r instanceof rn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,o,s)=>i&&IU(o,r.filters[s]),!0)}(n,e):void st();var t,r}function wU(n){return n instanceof Ft?`${(e=n).field.canonicalString()} ${e.op} ${Uu(e.value)}`:n instanceof rn?function(e){return e.op.toString()+" {"+e.getFilters().map(wU).join(" ,")+"}"}(n):"Filter";var e}class ale extends Ft{constructor(e,t,r){super(e,t,r),this.key=Ze.fromName(r.referenceValue)}matches(e){const t=Ze.comparator(e.key,this.key);return this.matchesComparison(t)}}class cle extends Ft{constructor(e,t){super(e,"in",t),this.keys=CU(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class lle extends Ft{constructor(e,t){super(e,"not-in",t),this.keys=CU(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function CU(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ze.fromName(r.referenceValue))}class ule extends Ft{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Vf(t)&&$f(t.arrayValue,this.value)}}class DU extends Ft{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&$f(this.value.arrayValue,t)}}class dle extends Ft{constructor(e,t){super(e,"not-in",t)}matches(e){if($f(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!$f(this.value.arrayValue,t)}}class hle extends Ft{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Vf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>$f(this.value.arrayValue,r))}}class Hu{constructor(e,t="asc"){this.field=e,this.dir=t}}function fle(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Ln{constructor(e,t){this.comparator=e,this.root=t||Lr.EMPTY}insert(e,t){return new Ln(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Lr.BLACK,null,null))}remove(e){return new Ln(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bv(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bv(this.root,e,this.comparator,!0)}}class Bv{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lr{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=null!=r?r:Lr.RED,this.left=null!=i?i:Lr.EMPTY,this.right=null!=o?o:Lr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new Lr(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===o?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Lr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Lr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw st();const e=this.left.check();if(e!==this.right.check())throw st();return e+(this.isRed()?0:1)}}Lr.EMPTY=null,Lr.RED=!0,Lr.BLACK=!1,Lr.EMPTY=new class{constructor(){this.size=0}get key(){throw st()}get value(){throw st()}get color(){throw st()}get left(){throw st()}get right(){throw st()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Lr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class sn{constructor(e){this.comparator=e,this.data=new Ln(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new TU(this.data.getIterator())}getIteratorFrom(e){return new TU(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof sn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new sn(this.comparator);return t.data=e,t}}class TU{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ki{constructor(e){this.fields=e,e.sort(Gn.comparator)}static empty(){return new ki([])}unionWith(e){let t=new sn(Gn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ki(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Bu(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class br{constructor(e){this.value=e}static empty(){return new br({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Vv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bf(t)}setAll(e){let t=Gn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Bf(s):i.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());Vv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return os(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Vv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Yc(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new br(Bf(this.value))}}function AU(n){const e=[];return Yc(n.fields,(t,r)=>{const i=new Gn([t]);if(Vv(r)){const o=AU(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new ki(e)}class gn{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new gn(e,0,pt.min(),pt.min(),pt.min(),br.empty(),0)}static newFoundDocument(e,t,r,i){return new gn(e,1,t,pt.min(),r,i,0)}static newNoDocument(e,t){return new gn(e,2,t,pt.min(),pt.min(),br.empty(),0)}static newUnknownDocument(e,t){return new gn(e,3,t,pt.min(),pt.min(),br.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(pt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=br.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=br.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ple{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this._t=null}}function rT(n,e=null,t=[],r=[],i=null,o=null,s=null){return new ple(n,e,t,r,i,o,s)}function Jc(n){const e=Qe(n);if(null===e._t){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>nT(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Pf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Uu(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Uu(r)).join(",")),e._t=t}return e._t}function Uf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!fle(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!IU(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!_U(n.startAt,e.startAt)&&_U(n.endAt,e.endAt)}function Uv(n){return Ze.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class na{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.wt=null,this.gt=null}}function zu(n){return new na(n)}function kU(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function iT(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Hv(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function oT(n){return null!==n.collectionGroup}function el(n){const e=Qe(n);if(null===e.wt){e.wt=[];const t=Hv(e),r=iT(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new Hu(t)),e.wt.push(new Hu(Gn.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Hu(Gn.keyField(),o))}}}return e.wt}function vi(n){const e=Qe(n);if(!e.gt)if("F"===e.limitType)e.gt=rT(e.path,e.collectionGroup,el(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const o of el(e))t.push(new Hu(o.field,"desc"===o.dir?"asc":"desc"));const r=e.endAt?new Ua(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Ua(e.startAt.position,e.startAt.inclusive):null;e.gt=rT(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.gt}function sT(n,e){e.getFirstInequalityField(),Hv(n);const t=n.filters.concat([e]);return new na(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Gv(n,e,t){return new na(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function jf(n,e){return Uf(vi(n),vi(e))&&n.limitType===e.limitType}function NU(n){return`${Jc(vi(n))}|lt:${n.limitType}`}function aT(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>wU(r)).join(", ")}]`),Pf(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Uu(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Uu(r)).join(",")),`Target(${t})`}(vi(n))}; limitType=${n.limitType})`}function Hf(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Ze.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of el(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,o,s){const a=yU(i,o,s);return i.inclusive?a<=0:a<0}(t.startAt,el(t),r)||t.endAt&&!function(i,o,s){const a=yU(i,o,s);return i.inclusive?a>=0:a>0}(t.endAt,el(t),r)));var t,r}function PU(n){return(e,t)=>{let r=!1;for(const i of el(n)){const o=gle(i,e,t);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function gle(n,e,t){const r=n.field.isKeyField()?Ze.comparator(e.key,t.key):function(i,o,s){const a=o.data.field(i),c=s.data.field(i);return null!==a&&null!==c?Ba(a,c):st()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return st()}}function FU(n,e){if(n.yt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ff(e)?"-0":e}}function LU(n){return{integerValue:""+n}}function $U(n,e){return function uU(n){return"number"==typeof n&&Number.isInteger(n)&&!Ff(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?LU(e):FU(n,e)}class zv{constructor(){this._=void 0}}function mle(n,e,t){return n instanceof Wu?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(o.fields.__previous_value__=i),{mapValue:o}}(t,e):n instanceof tl?BU(n,e):n instanceof nl?UU(n,e):function(r,i){const o=VU(r,i),s=jU(o)+jU(r.It);return JD(o)&&JD(r.It)?LU(s):FU(r.Tt,s)}(n,e)}function vle(n,e,t){return n instanceof tl?BU(n,e):n instanceof nl?UU(n,e):t}function VU(n,e){return n instanceof qu?JD(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Wu extends zv{}class tl extends zv{constructor(e){super(),this.elements=e}}function BU(n,e){const t=HU(e);for(const r of n.elements)t.some(i=>os(i,r))||t.push(r);return{arrayValue:{values:t}}}class nl extends zv{constructor(e){super(),this.elements=e}}function UU(n,e){let t=HU(e);for(const r of n.elements)t=t.filter(i=>!os(i,r));return{arrayValue:{values:t}}}class qu extends zv{constructor(e,t){super(),this.Tt=e,this.It=t}}function jU(n){return Fn(n.integerValue||n.doubleValue)}function HU(n){return Vf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class _le{constructor(e,t){this.version=e,this.transformResults=t}}class En{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new En}static exists(e){return new En(void 0,e)}static updateTime(e){return new En(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wv(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class qv{}function GU(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Yu(n.key,En.none()):new Ku(n.key,n.data,En.none());{const t=n.data,r=br.empty();let i=new sn(Gn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);null===s&&o.length>1&&(o=o.popLast(),s=t.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new ra(n.key,r,new ki(i.toArray()),En.none())}}function ble(n,e,t){n instanceof Ku?function(r,i,o){const s=r.value.clone(),a=qU(r.fieldTransforms,i,o.transformResults);s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(n,e,t):n instanceof ra?function(r,i,o){if(!Wv(r.precondition,i))return void i.convertToUnknownDocument(o.version);const s=qU(r.fieldTransforms,i,o.transformResults),a=i.data;a.setAll(WU(r)),a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function zf(n,e,t,r){return n instanceof Ku?function(i,o,s,a){if(!Wv(i.precondition,o))return s;const c=i.value.clone(),l=KU(i.fieldTransforms,a,o);return c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof ra?function(i,o,s,a){if(!Wv(i.precondition,o))return s;const c=KU(i.fieldTransforms,a,o),l=o.data;return l.setAll(WU(i)),l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null===s?null:s.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(u=>u.field))}(n,e,t,r):(s=t,Wv(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s);var o,s}function Ele(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=VU(r.transform,i||null);null!=o&&(null===t&&(t=br.empty()),t.set(r.field,o))}return t||null}function zU(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Bu(t,r,(i,o)=>function yle(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof tl&&r instanceof tl||t instanceof nl&&r instanceof nl?Bu(t.elements,r.elements,os):t instanceof qu&&r instanceof qu?os(t.It,r.It):t instanceof Wu&&r instanceof Wu);var t,r}(i,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Ku extends qv{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ra extends qv{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function WU(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function qU(n,e,t){const r=new Map;ht(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,vle(s,a,t[i]))}return r}function KU(n,e,t){const r=new Map;for(const i of n){const o=i.transform,s=t.data.field(i.field);r.set(i.field,mle(o,s,e))}return r}class Yu extends qv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cT extends qv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ile{constructor(e){this.count=e}}var Jn,Gt;function ZU(n){if(void 0===n)return Hn("GRPC error has no .code"),re.UNKNOWN;switch(n){case Jn.OK:return re.OK;case Jn.CANCELLED:return re.CANCELLED;case Jn.UNKNOWN:return re.UNKNOWN;case Jn.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Jn.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Jn.INTERNAL:return re.INTERNAL;case Jn.UNAVAILABLE:return re.UNAVAILABLE;case Jn.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Jn.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Jn.NOT_FOUND:return re.NOT_FOUND;case Jn.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Jn.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Jn.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Jn.ABORTED:return re.ABORTED;case Jn.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Jn.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Jn.DATA_LOSS:return re.DATA_LOSS;default:return st()}}(Gt=Jn||(Jn={}))[Gt.OK=0]="OK",Gt[Gt.CANCELLED=1]="CANCELLED",Gt[Gt.UNKNOWN=2]="UNKNOWN",Gt[Gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gt[Gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gt[Gt.NOT_FOUND=5]="NOT_FOUND",Gt[Gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gt[Gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gt[Gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gt[Gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gt[Gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gt[Gt.ABORTED=10]="ABORTED",Gt[Gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gt[Gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gt[Gt.INTERNAL=13]="INTERNAL",Gt[Gt.UNAVAILABLE=14]="UNAVAILABLE",Gt[Gt.DATA_LOSS=15]="DATA_LOSS";class ja{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Yc(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return lU(this.inner)}size(){return this.innerSize}}const Sle=new Ln(Ze.comparator);function Ni(){return Sle}const XU=new Ln(Ze.comparator);function Wf(...n){let e=XU;for(const t of n)e=e.insert(t.key,t);return e}function QU(n){let e=XU;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ss(){return qf()}function JU(){return qf()}function qf(){return new ja(n=>n.toString(),(n,e)=>n.isEqual(e))}const wle=new Ln(Ze.comparator),Cle=new sn(Ze.comparator);function Tt(...n){let e=Cle;for(const t of n)e=e.add(t);return e}const Dle=new sn(It);function Kv(){return Dle}class Kf{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Yf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Kf(pt.min(),i,Kv(),Ni(),Tt())}}class Yf{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Yf(r,t,Tt(),Tt(),Tt())}}class Yv{constructor(e,t,r,i){this.Et=e,this.removedTargetIds=t,this.key=r,this.At=i}}class e3{constructor(e,t){this.targetId=e,this.Rt=t}}class t3{constructor(e,t,r=ur.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class n3{constructor(){this.bt=0,this.vt=i3(),this.Pt=ur.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}get current(){return this.Vt}get resumeToken(){return this.Pt}get Dt(){return 0!==this.bt}get Ct(){return this.St}xt(e){e.approximateByteSize()>0&&(this.St=!0,this.Pt=e)}Nt(){let e=Tt(),t=Tt(),r=Tt();return this.vt.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:st()}}),new Yf(this.Pt,this.Vt,e,t,r)}kt(){this.St=!1,this.vt=i3()}Ot(e,t){this.St=!0,this.vt=this.vt.insert(e,t)}Mt(e){this.St=!0,this.vt=this.vt.remove(e)}Ft(){this.bt+=1}$t(){this.bt-=1}Bt(){this.St=!0,this.Vt=!0}}class Tle{constructor(e){this.Lt=e,this.qt=new Map,this.Ut=Ni(),this.Kt=r3(),this.Gt=new sn(It)}Qt(e){for(const t of e.Et)e.At&&e.At.isFoundDocument()?this.jt(t,e.At):this.zt(t,e.key,e.At);for(const t of e.removedTargetIds)this.zt(t,e.key,e.At)}Wt(e){this.forEachTarget(e,t=>{const r=this.Ht(t);switch(e.state){case 0:this.Jt(t)&&r.xt(e.resumeToken);break;case 1:r.$t(),r.Dt||r.kt(),r.xt(e.resumeToken);break;case 2:r.$t(),r.Dt||this.removeTarget(t);break;case 3:this.Jt(t)&&(r.Bt(),r.xt(e.resumeToken));break;case 4:this.Jt(t)&&(this.Yt(t),r.xt(e.resumeToken));break;default:st()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qt.forEach((r,i)=>{this.Jt(i)&&t(i)})}Zt(e){const t=e.targetId,r=e.Rt.count,i=this.Xt(t);if(i){const o=i.target;if(Uv(o))if(0===r){const s=new Ze(o.path);this.zt(t,s,gn.newNoDocument(s,pt.min()))}else ht(1===r);else this.te(t)!==r&&(this.Yt(t),this.Gt=this.Gt.add(t))}}ee(e){const t=new Map;this.qt.forEach((o,s)=>{const a=this.Xt(s);if(a){if(o.current&&Uv(a.target)){const c=new Ze(a.target.path);null!==this.Ut.get(c)||this.ne(s,c)||this.zt(s,c,gn.newNoDocument(c,e))}o.Ct&&(t.set(s,o.Nt()),o.kt())}});let r=Tt();this.Kt.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{const l=this.Xt(c);return!l||2===l.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.Ut.forEach((o,s)=>s.setReadTime(e));const i=new Kf(e,t,this.Gt,this.Ut,r);return this.Ut=Ni(),this.Kt=r3(),this.Gt=new sn(It),i}jt(e,t){if(!this.Jt(e))return;const r=this.ne(e,t.key)?2:0;this.Ht(e).Ot(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.Kt=this.Kt.insert(t.key,this.se(t.key).add(e))}zt(e,t,r){if(!this.Jt(e))return;const i=this.Ht(e);this.ne(e,t)?i.Ot(t,1):i.Mt(t),this.Kt=this.Kt.insert(t,this.se(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.qt.delete(e)}te(e){const t=this.Ht(e).Nt();return this.Lt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ft(e){this.Ht(e).Ft()}Ht(e){let t=this.qt.get(e);return t||(t=new n3,this.qt.set(e,t)),t}se(e){let t=this.Kt.get(e);return t||(t=new sn(It),this.Kt=this.Kt.insert(e,t)),t}Jt(e){const t=null!==this.Xt(e);return t||$e("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.qt.get(e);return t&&t.Dt?null:this.Lt.ie(e)}Yt(e){this.qt.set(e,new n3),this.Lt.getRemoteKeysForTarget(e).forEach(t=>{this.zt(e,t,null)})}ne(e,t){return this.Lt.getRemoteKeysForTarget(e).has(t)}}function r3(){return new Ln(Ze.comparator)}function i3(){return new Ln(Ze.comparator)}const Ale={asc:"ASCENDING",desc:"DESCENDING"},xle={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Mle={and:"AND",or:"OR"};class Rle{constructor(e,t){this.databaseId=e,this.yt=t}}function Zu(n,e){return n.yt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function o3(n,e){return n.yt?e.toBase64():e.toUint8Array()}function kle(n,e){return Zu(n,e.toTimestamp())}function zn(n){return ht(!!n),pt.fromTimestamp(function(e){const t=$a(e);return new Tn(t.seconds,t.nanos)}(n))}function lT(n,e){return(t=n,new Ht(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function s3(n){const e=Ht.fromString(n);return ht(g3(e)),e}function Zf(n,e){return lT(n.databaseId,e.path)}function as(n,e){const t=s3(e);if(t.get(1)!==n.databaseId.projectId)throw new Le(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Le(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ze(c3(t))}function uT(n,e){return lT(n.databaseId,e)}function Xf(n){return new Ht(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function c3(n){return ht(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function l3(n,e,t){return{name:Zf(n,e),fields:t.value.mapValue.fields}}function d3(n,e){return{documents:[uT(n,e.path)]}}function hT(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=uT(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=uT(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return p3(rn.create(c,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const o=function(c){if(0!==c.length)return c.map(l=>{return{field:Ha((u=l).field),direction:Lle(u.dir)};var u})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const s=(l=e.limit,n.yt||Pf(l)?l:{value:l});var l,a,c;return null!==s&&(t.structuredQuery.limit=s),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(c=e.endAt).inclusive,values:c.position}),t}function h3(n){let e=function a3(n){const e=s3(n);return 4===e.length?Ht.emptyPath():c3(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){ht(1===r);const u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let o=[];t.where&&(o=function(u){const d=f3(u);return d instanceof rn&&tT(d)?d.getFilters():[d]}(t.where));let s=[];t.orderBy&&(s=t.orderBy.map(u=>{return new Hu(Xu((d=u).field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(u){let d;return d="object"==typeof u?u.value:u,Pf(d)?null:d}(t.limit));let c=null;var u;t.startAt&&(c=new Ua((u=t.startAt).values||[],!!u.before));let l=null;return t.endAt&&(l=function(u){return new Ua(u.values||[],!u.before)}(t.endAt)),function RU(n,e,t,r,i,o,s,a){return new na(n,e,t,r,i,o,s,a)}(e,i,s,o,a,"F",c,l)}function f3(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Xu(e.unaryFilter.field);return Ft.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Xu(e.unaryFilter.field);return Ft.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Xu(e.unaryFilter.field);return Ft.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Xu(e.unaryFilter.field);return Ft.create(o,"!=",{nullValue:"NULL_VALUE"});default:return st()}}(n):void 0!==n.fieldFilter?Ft.create(Xu((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return st()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return rn.create(e.compositeFilter.filters.map(t=>f3(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return st()}}(e.compositeFilter.op))}(n):st();var e}function Lle(n){return Ale[n]}function $le(n){return xle[n]}function Vle(n){return Mle[n]}function Ha(n){return{fieldPath:n.canonicalString()}}function Xu(n){return Gn.fromServerFormat(n.fieldPath)}function p3(n){return n instanceof Ft?function(e){if("=="===e.op){if(pU(e.value))return{unaryFilter:{field:Ha(e.field),op:"IS_NAN"}};if(fU(e.value))return{unaryFilter:{field:Ha(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(pU(e.value))return{unaryFilter:{field:Ha(e.field),op:"IS_NOT_NAN"}};if(fU(e.value))return{unaryFilter:{field:Ha(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ha(e.field),op:$le(e.op),value:e.value}}}(n):n instanceof rn?function(e){const t=e.getFilters().map(r=>p3(r));return 1===t.length?t[0]:{compositeFilter:{op:Vle(e.op),filters:t}}}(n):st()}function Ble(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function g3(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class pT{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&ble(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=zf(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=zf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=JU();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;const c=GU(s,a);null!==c&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(pt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Tt())}isEqual(e){return this.batchId===e.batchId&&Bu(this.mutations,e.mutations,(t,r)=>zU(t,r))&&Bu(this.baseMutations,e.baseMutations,(t,r)=>zU(t,r))}}class gT{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ht(e.mutations.length===r.length);let i=wle;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new gT(e,t,r,i)}}class mT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ga{constructor(e,t,r,i,o=pt.min(),s=pt.min(),a=ur.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a}withSequenceNumber(e){return new Ga(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Ga(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ga(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class I3{constructor(e){this.oe=e}}function vT(n){const e=h3({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Gv(e,e.limit,"L"):e}class sl{constructor(){}ae(e,t){this.he(e,t),t.le()}he(e,t){if("nullValue"in e)this.fe(t,5);else if("booleanValue"in e)this.fe(t,10),t.de(e.booleanValue?1:0);else if("integerValue"in e)this.fe(t,15),t.de(Fn(e.integerValue));else if("doubleValue"in e){const r=Fn(e.doubleValue);isNaN(r)?this.fe(t,13):(this.fe(t,15),Ff(r)?t.de(0):t.de(r))}else if("timestampValue"in e){const r=e.timestampValue;this.fe(t,20),"string"==typeof r?t._e(r):(t._e(`${r.seconds||""}`),t.de(r.nanos||0))}else if("stringValue"in e)this.we(e.stringValue,t),this.me(t);else if("bytesValue"in e)this.fe(t,30),t.ge(Zc(e.bytesValue)),this.me(t);else if("referenceValue"in e)this.ye(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.fe(t,45),t.de(r.latitude||0),t.de(r.longitude||0)}else"mapValue"in e?gU(e)?this.fe(t,Number.MAX_SAFE_INTEGER):(this.pe(e.mapValue,t),this.me(t)):"arrayValue"in e?(this.Ie(e.arrayValue,t),this.me(t)):st()}we(e,t){this.fe(t,25),this.Te(e,t)}Te(e,t){t._e(e)}pe(e,t){const r=e.fields||{};this.fe(t,55);for(const i of Object.keys(r))this.we(i,t),this.he(r[i],t)}Ie(e,t){const r=e.values||[];this.fe(t,50);for(const i of r)this.he(i,t)}ye(e,t){this.fe(t,37),Ze.fromName(e).path.forEach(r=>{this.fe(t,60),this.Te(r,t)})}fe(e,t){e.de(t)}me(e){e.de(2)}}sl.Ee=new sl;class fue{constructor(){this.Ze=new ST}addToCollectionParentIndex(e,t){return this.Ze.add(t),Z.resolve()}getCollectionParents(e,t){return Z.resolve(this.Ze.getEntries(t))}addFieldIndex(e,t){return Z.resolve()}deleteFieldIndex(e,t){return Z.resolve()}getDocumentsMatchingTarget(e,t){return Z.resolve(null)}getIndexType(e,t){return Z.resolve(0)}getFieldIndexes(e,t){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,t){return Z.resolve(Xi.min())}getMinOffsetFromCollectionGroup(e,t){return Z.resolve(Xi.min())}updateCollectionGroup(e,t,r){return Z.resolve()}updateIndexEntries(e,t){return Z.resolve()}}class ST{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new sn(Ht.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new sn(Ht.comparator)).toArray()}}new Uint8Array(0);class Oi{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Oi(e,Oi.DEFAULT_COLLECTION_PERCENTILE,Oi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Oi.DEFAULT_COLLECTION_PERCENTILE=10,Oi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Oi.DEFAULT=new Oi(41943040,Oi.DEFAULT_COLLECTION_PERCENTILE,Oi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Oi.DISABLED=new Oi(-1,0,0);class cl{constructor(e){this.Pn=e}next(){return this.Pn+=2,this.Pn}static Vn(){return new cl(0)}static Sn(){return new cl(-1)}}class bue{constructor(){this.changes=new ja(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,gn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Z.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Sue{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class W3{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&zf(r.mutation,i,ki.empty(),Tn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Tt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Tt()){const i=ss();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Wf();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const r=ss();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Tt()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Ni();const s=qf(),a=qf();return t.forEach((c,l)=>{const u=r.get(l.key);i.has(l.key)&&(void 0===u||u.mutation instanceof ra)?o=o.insert(l.key,l):void 0!==u?(s.set(l.key,u.mutation.getFieldMask()),zf(u.mutation,l,u.mutation.getFieldMask(),Tn.now())):s.set(l.key,ki.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,u)=>s.set(l,u)),t.forEach((l,u)=>{var d;return a.set(l,new Sue(u,null!==(d=s.get(l))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=qf();let i=new Ln((s,a)=>s-a),o=Tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(c=>{const l=t.get(c);if(null===l)return;let u=r.get(c)||ki.empty();u=a.applyToLocalView(l,u),r.set(c,u);const d=(i.get(a.batchId)||Tt()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,d=JU();u.forEach(f=>{if(!o.has(f)){const v=GU(t.get(f),r.get(f));null!==v&&d.set(f,v),o=o.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,d))}return Z.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Ze.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):oT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):Z.resolve(ss());let a=-1,c=o;return s.next(l=>Z.forEach(l,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(u)?Z.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{c=c.insert(u,f)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,Tt())).next(u=>({batchId:a,changes:QU(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ze(t)).next(r=>{let i=Wf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let o=Wf();return this.indexManager.getCollectionParents(e,i).next(s=>Z.forEach(s,a=>{const c=(l=t,u=a.child(i),new na(u,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,u;return this.getDocumentsMatchingCollectionQuery(e,c,r).next(l=>{l.forEach((u,d)=>{o=o.insert(u,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(o=>{i.forEach((a,c)=>{const l=c.getKey();null===o.get(l)&&(o=o.insert(l,gn.newInvalidDocument(l)))});let s=Wf();return o.forEach((a,c)=>{const l=i.get(a);void 0!==l&&zf(l.mutation,c,ki.empty(),Tn.now()),Hf(t,c)&&(s=s.insert(a,c))}),s})}}class wue{constructor(e){this.Tt=e,this.es=new Map,this.ns=new Map}getBundleMetadata(e,t){return Z.resolve(this.es.get(t))}saveBundleMetadata(e,t){var r;return this.es.set(t.id,{id:(r=t).id,version:r.version,createTime:zn(r.createTime)}),Z.resolve()}getNamedQuery(e,t){return Z.resolve(this.ns.get(t))}saveNamedQuery(e,t){return this.ns.set(t.name,{name:(r=t).name,query:vT(r.bundledQuery),readTime:zn(r.readTime)}),Z.resolve();var r}}class Cue{constructor(){this.overlays=new Ln(Ze.comparator),this.ss=new Map}getOverlay(e,t){return Z.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ss();return Z.forEach(t,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.ce(e,t,o)}),Z.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ss.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.ss.delete(r)),Z.resolve()}getOverlaysForCollection(e,t,r){const i=ss(),o=t.length+1,s=new Ze(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return Z.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Ln((l,u)=>l-u);const s=this.overlays.getIterator();for(;s.hasNext();){const l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let u=o.get(l.largestBatchId);null===u&&(u=ss(),o=o.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=ss(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=i)););return Z.resolve(a)}ce(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.ss.get(i.largestBatchId).delete(r.key);this.ss.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new mT(t,r));let o=this.ss.get(t);void 0===o&&(o=Tt(),this.ss.set(t,o)),this.ss.set(t,o.add(r.key))}}class wT{constructor(){this.rs=new sn(Ir.os),this.us=new sn(Ir.cs)}isEmpty(){return this.rs.isEmpty()}addReference(e,t){const r=new Ir(e,t);this.rs=this.rs.add(r),this.us=this.us.add(r)}hs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ls(new Ir(e,t))}fs(e,t){e.forEach(r=>this.removeReference(r,t))}ds(e){const t=new Ze(new Ht([])),r=new Ir(t,e),i=new Ir(t,e+1),o=[];return this.us.forEachInRange([r,i],s=>{this.ls(s),o.push(s.key)}),o}_s(){this.rs.forEach(e=>this.ls(e))}ls(e){this.rs=this.rs.delete(e),this.us=this.us.delete(e)}ws(e){const t=new Ze(new Ht([])),r=new Ir(t,e),i=new Ir(t,e+1);let o=Tt();return this.us.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new Ir(e,0),r=this.rs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ir{constructor(e,t){this.key=e,this.gs=t}static os(e,t){return Ze.comparator(e.key,t.key)||It(e.gs,t.gs)}static cs(e,t){return It(e.gs,t.gs)||Ze.comparator(e.key,t.key)}}class Due{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ys=1,this.ps=new sn(Ir.os)}checkEmpty(e){return Z.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const o=this.ys;this.ys++;const s=new pT(o,t,r,i);this.mutationQueue.push(s);for(const a of i)this.ps=this.ps.add(new Ir(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Z.resolve(s)}lookupMutationBatch(e,t){return Z.resolve(this.Is(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Ts(t+1),o=i<0?0:i;return Z.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(0===this.mutationQueue.length?-1:this.ys-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ir(t,0),i=new Ir(t,Number.POSITIVE_INFINITY),o=[];return this.ps.forEachInRange([r,i],s=>{const a=this.Is(s.gs);o.push(a)}),Z.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new sn(It);return t.forEach(i=>{const o=new Ir(i,0),s=new Ir(i,Number.POSITIVE_INFINITY);this.ps.forEachInRange([o,s],a=>{r=r.add(a.gs)})}),Z.resolve(this.Es(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;Ze.isDocumentKey(o)||(o=o.child(""));const s=new Ir(new Ze(o),0);let a=new sn(It);return this.ps.forEachWhile(c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.gs)),!0)},s),Z.resolve(this.Es(a))}Es(e){const t=[];return e.forEach(r=>{const i=this.Is(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){ht(0===this.As(t.batchId,"removed")),this.mutationQueue.shift();let r=this.ps;return Z.forEach(t.mutations,i=>{const o=new Ir(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ps=r})}bn(e){}containsKey(e,t){const r=new Ir(t,0),i=this.ps.firstAfterOrEqual(r);return Z.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return Z.resolve()}As(e,t){return this.Ts(e)}Ts(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Is(e){const t=this.Ts(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Tue{constructor(e){this.Rs=e,this.docs=new Ln(Ze.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Rs(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Z.resolve(r?r.document.mutableCopy():gn.newInvalidDocument(t))}getEntries(e,t){let r=Ni();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():gn.newInvalidDocument(i))}),Z.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Ni();const s=t.path,a=new Ze(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||qD(oU(u),r)<=0||(i.has(u.key)||Hf(t,u))&&(o=o.insert(u.key,u.mutableCopy()))}return Z.resolve(o)}getAllFromCollectionGroup(e,t,r,i){st()}bs(e,t){return Z.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Aue(this)}getSize(e){return Z.resolve(this.size)}}class Aue extends bue{constructor(e){super(),this.Xn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Xn.addEntry(e,i)):this.Xn.removeEntry(r)}),Z.waitFor(t)}getFromCache(e,t){return this.Xn.getEntry(e,t)}getAllFromCache(e,t){return this.Xn.getEntries(e,t)}}class xue{constructor(e){this.persistence=e,this.vs=new ja(t=>Jc(t),Uf),this.lastRemoteSnapshotVersion=pt.min(),this.highestTargetId=0,this.Ps=0,this.Vs=new wT,this.targetCount=0,this.Ss=cl.Vn()}forEachTarget(e,t){return this.vs.forEach((r,i)=>t(i)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.Ps)}allocateTargetId(e){return this.highestTargetId=this.Ss.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ps&&(this.Ps=t),Z.resolve()}xn(e){this.vs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ss=new cl(t),this.highestTargetId=t),e.sequenceNumber>this.Ps&&(this.Ps=e.sequenceNumber)}addTargetData(e,t){return this.xn(t),this.targetCount+=1,Z.resolve()}updateTargetData(e,t){return this.xn(t),Z.resolve()}removeTargetData(e,t){return this.vs.delete(t.target),this.Vs.ds(t.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.vs.forEach((s,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.vs.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Z.waitFor(o).next(()=>i)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,t){const r=this.vs.get(t)||null;return Z.resolve(r)}addMatchingKeys(e,t,r){return this.Vs.hs(t,r),Z.resolve()}removeMatchingKeys(e,t,r){this.Vs.fs(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),Z.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Vs.ds(t),Z.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Vs.ws(t);return Z.resolve(r)}containsKey(e,t){return Z.resolve(this.Vs.containsKey(t))}}class q3{constructor(e,t){this.Ds={},this.overlays={},this.Cs=new Qi(0),this.xs=!1,this.xs=!0,this.referenceDelegate=e(this),this.Ns=new xue(this),this.indexManager=new fue,this.remoteDocumentCache=new Tue(r=>this.referenceDelegate.ks(r)),this.Tt=new I3(t),this.Os=new wue(this.Tt)}start(){return Promise.resolve()}shutdown(){return this.xs=!1,Promise.resolve()}get started(){return this.xs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Cue,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Ds[e.toKey()];return r||(r=new Due(t,this.referenceDelegate),this.Ds[e.toKey()]=r),r}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Os}runTransaction(e,t,r){$e("MemoryPersistence","Starting transaction:",e);const i=new Mue(this.Cs.next());return this.referenceDelegate.Ms(),r(i).next(o=>this.referenceDelegate.Fs(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}$s(e,t){return Z.or(Object.values(this.Ds).map(r=>()=>r.containsKey(e,t)))}}class Mue extends Yce{constructor(e){super(),this.currentSequenceNumber=e}}class oy{constructor(e){this.persistence=e,this.Bs=new wT,this.Ls=null}static qs(e){return new oy(e)}get Us(){if(this.Ls)return this.Ls;throw st()}addReference(e,t,r){return this.Bs.addReference(r,t),this.Us.delete(r.toString()),Z.resolve()}removeReference(e,t,r){return this.Bs.removeReference(r,t),this.Us.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,t){return this.Us.add(t.toString()),Z.resolve()}removeTarget(e,t){this.Bs.ds(t.targetId).forEach(i=>this.Us.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Us.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ms(){this.Ls=new Set}Fs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.Us,r=>{const i=Ze.fromPath(r);return this.Ks(e,i).next(o=>{o||t.removeEntry(i,pt.min())})}).next(()=>(this.Ls=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ks(e,t).next(r=>{r?this.Us.delete(t.toString()):this.Us.add(t.toString())})}ks(e){return 0}Ks(e,t){return Z.or([()=>Z.resolve(this.Bs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.$s(e,t)])}}class AT{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Ci=r,this.xi=i}static Ni(e,t){let r=Tt(),i=Tt();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new AT(e,t.fromCache,r,i)}}class Y3{constructor(){this.ki=!1}initialize(e,t){this.Oi=e,this.indexManager=t,this.ki=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Mi(e,t).next(o=>o||this.Fi(e,t,i,r)).next(o=>o||this.$i(e,t))}Mi(e,t){if(kU(t))return Z.resolve(null);let r=vi(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Gv(t,null,"F"),r=vi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Tt(...o);return this.Oi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const l=this.Bi(t,a);return this.Li(t,l,s,c.readTime)?this.Mi(e,Gv(t,null,"F")):this.qi(e,l,t,c)}))})))}Fi(e,t,r,i){return kU(t)||i.isEqual(pt.min())?this.$i(e,t):this.Oi.getDocuments(e,r).next(o=>{const s=this.Bi(t,o);return this.Li(t,s,r,i)?this.$i(e,t):(GD()<=jt.DEBUG&&$e("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),aT(t)),this.qi(e,s,t,function iU(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=pt.fromTimestamp(1e9===r?new Tn(t+1,0):new Tn(t,r));return new Xi(i,Ze.empty(),e)}(i,-1)))})}Bi(e,t){let r=new sn(PU(e));return t.forEach((i,o)=>{Hf(e,o)&&(r=r.add(o))}),r}Li(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}$i(e,t){return GD()<=jt.DEBUG&&$e("QueryEngine","Using full collection scan to execute query:",aT(t)),this.Oi.getDocumentsMatchingQuery(e,t,Xi.min())}qi(e,t,r,i){return this.Oi.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}class kue{constructor(e,t,r,i){this.persistence=e,this.Ui=t,this.Tt=i,this.Ki=new Ln(It),this.Gi=new ja(o=>Jc(o),Uf),this.Qi=new Map,this.ji=e.getRemoteDocumentCache(),this.Ns=e.getTargetCache(),this.Os=e.getBundleCache(),this.zi(r)}zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new W3(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ki))}}function X3(n,e){return xT.apply(this,arguments)}function xT(){return xT=(0,T.Z)(function*(n,e){const t=Qe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.zi(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let c=Tt();for(const l of i){s.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of o){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return t.localDocuments.getDocuments(r,c).next(l=>({Wi:l,removedBatchIds:s,addedBatchIds:a}))})})}),xT.apply(this,arguments)}function Q3(n){const e=Qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ns.getLastRemoteSnapshotVersion(t))}function Pue(n,e){const t=Qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function td(n,e,t){return MT.apply(this,arguments)}function MT(){return MT=(0,T.Z)(function*(n,e,t){const r=Qe(n),i=r.Ki.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!La(s))throw s;$e("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ki=r.Ki.remove(e),r.Gi.delete(i.target)}),MT.apply(this,arguments)}function ay(n,e,t){const r=Qe(n);let i=pt.min(),o=Tt();return r.persistence.runTransaction("Execute query","readonly",s=>function(a,c,l){const u=Qe(a),d=u.Gi.get(l);return void 0!==d?Z.resolve(u.Ki.get(d)):u.Ns.getTargetData(c,l)}(r,s,vi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ns.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.Ui.getDocumentsMatchingQuery(s,e,t?i:pt.min(),t?o:Tt())).next(a=>(function nj(n,e,t){let r=n.Qi.get(e)||pt.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Qi.set(e,r)}(r,function OU(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,Yi:o})))}class PT{constructor(){this.activeTargetIds=Kv()}sr(e){this.activeTargetIds=this.activeTargetIds.add(e)}ir(e){this.activeTargetIds=this.activeTargetIds.delete(e)}nr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oj{constructor(){this.Ur=new PT,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Ur.sr(e),this.Kr[e]||"not-current"}updateQueryState(e,t,r){this.Kr[e]=t}removeLocalQueryTarget(e){this.Ur.ir(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.Kr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new PT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class $ue{Gr(e){}shutdown(){}}class sj{constructor(){this.Qr=()=>this.jr(),this.zr=()=>this.Wr(),this.Hr=[],this.Jr()}Gr(e){this.Hr.push(e)}shutdown(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}Jr(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}jr(){$e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Hr)e(0)}Wr(){$e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Hr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Vue={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Bue{constructor(e){this.Yr=e.Yr,this.Zr=e.Zr}Xr(e){this.eo=e}no(e){this.so=e}onMessage(e){this.io=e}close(){this.Zr()}send(e){this.Yr(e)}ro(){this.eo()}oo(e){this.so(e)}uo(e){this.io(e)}}class Uue extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.co=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get ho(){return!1}lo(e,t,r,i,o){const s=this.fo(e,t);$e("RestConnection","Sending: ",s,r);const a={};return this._o(a,i,o),this.wo(e,s,a,r).then(c=>($e("RestConnection","Received: ",c),c),c=>{throw Vu("RestConnection",`${e} failed with error: `,c,"url: ",s,"request:",r),c})}mo(e,t,r,i,o,s){return this.lo(e,t,r,i,o)}_o(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+$u,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}fo(e,t){return`${this.co}/v1/${t}:${Vue[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}wo(e,t,r,i){return new Promise((o,s)=>{const a=new $ce;a.setWithCredentials(!0),a.listenOnce(Pce.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case HD.NO_ERROR:const l=a.getResponseJson();$e("Connection","XHR received:",JSON.stringify(l)),o(l);break;case HD.TIMEOUT:$e("Connection",'RPC "'+e+'" timed out'),s(new Le(re.DEADLINE_EXCEEDED,"Request time out"));break;case HD.HTTP_ERROR:const u=a.getStatus();if($e("Connection",'RPC "'+e+'" failed with status:',u,"response text:",a.getResponseText()),u>0){let d=a.getResponseJson();Array.isArray(d)&&(d=d[0]);const f=null==d?void 0:d.error;if(f&&f.status&&f.message){const v=function(E){const x=E.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(x)>=0?x:re.UNKNOWN}(f.status);s(new Le(v,f.message))}else s(new Le(re.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new Le(re.UNAVAILABLE,"Connection failed."));break;default:st()}}finally{$e("Connection",'RPC "'+e+'" completed.')}});const c=JSON.stringify(i);a.send(t,"POST",c,r,15)})}yo(e,t,r){const i=[this.co,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Nce(),s=Oce(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new Lce({})),this._o(a.initMessageHeaders,t,r),a.encodeInitMessageHeaders=!0;const c=i.join("");$e("Connection","Creating WebChannel: "+c,a);const l=o.createWebChannel(c,a);let u=!1,d=!1;const f=new Bue({Yr:E=>{d?$e("Connection","Not sending because WebChannel is closed:",E):(u||($e("Connection","Opening WebChannel transport."),l.open(),u=!0),$e("Connection","WebChannel sending:",E),l.send(E))},Zr:()=>l.close()}),v=(E,x,N)=>{E.listen(x,X=>{try{N(X)}catch(Ee){setTimeout(()=>{throw Ee},0)}})};return v(l,Ov.EventType.OPEN,()=>{d||$e("Connection","WebChannel transport opened.")}),v(l,Ov.EventType.CLOSE,()=>{d||(d=!0,$e("Connection","WebChannel transport closed"),f.oo())}),v(l,Ov.EventType.ERROR,E=>{d||(d=!0,Vu("Connection","WebChannel transport errored:",E),f.oo(new Le(re.UNAVAILABLE,"The operation could not be completed")))}),v(l,Ov.EventType.MESSAGE,E=>{var x;if(!d){const N=E.data[0];ht(!!N);const Ee=N.error||(null===(x=N[0])||void 0===x?void 0:x.error);if(Ee){$e("Connection","WebChannel received error:",Ee);const z=Ee.status;let He=function(ft){const qn=Jn[ft];if(void 0!==qn)return ZU(qn)}(z),ct=Ee.message;void 0===He&&(He=re.INTERNAL,ct="Unknown error status: "+z+" with message "+Ee.message),d=!0,f.oo(new Le(He,ct)),l.close()}else $e("Connection","WebChannel received:",N),f.uo(N)}}),v(s,Fce.STAT_EVENT,E=>{E.stat===QB.PROXY?$e("Connection","Detected buffering proxy"):E.stat===QB.NOPROXY&&$e("Connection","Detected no buffering proxy")}),setTimeout(()=>{f.ro()},0),f}}function uy(){return typeof document<"u"?document:null}function ap(n){return new Rle(n,!0)}class LT{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Ys=e,this.timerId=t,this.po=r,this.Io=i,this.To=o,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}reset(){this.Eo=0}bo(){this.Eo=this.To}vo(e){this.cancel();const t=Math.floor(this.Eo+this.Po()),r=Math.max(0,Date.now()-this.Ro),i=Math.max(0,t-r);i>0&&$e("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Eo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,i,()=>(this.Ro=Date.now(),e())),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}Vo(){null!==this.Ao&&(this.Ao.skipDelay(),this.Ao=null)}cancel(){null!==this.Ao&&(this.Ao.cancel(),this.Ao=null)}Po(){return(Math.random()-.5)*this.Eo}}class cj{constructor(e,t,r,i,o,s,a,c){this.Ys=e,this.So=r,this.Do=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new LT(e,t)}Oo(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Fo()}stop(){var e=this;return(0,T.Z)(function*(){e.Oo()&&(yield e.close(0))})()}$o(){this.state=0,this.ko.reset()}Bo(){this.Mo()&&null===this.xo&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,()=>this.Lo()))}qo(e){this.Uo(),this.stream.send(e)}Lo(){var e=this;return(0,T.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.xo&&(this.xo.cancel(),this.xo=null)}Ko(){this.No&&(this.No.cancel(),this.No=null)}close(e,t){var r=this;return(0,T.Z)(function*(){r.Uo(),r.Ko(),r.ko.cancel(),r.Co++,4!==e?r.ko.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(Hn(t.toString()),Hn("Using maximum backoff delay to prevent overloading the backend."),r.ko.bo()):t&&t.code===re.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Go(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.no(t)})()}Go(){}auth(){this.state=1;const e=this.Qo(this.Co),t=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Co===t&&this.jo(r,i)},r=>{e(()=>{const i=new Le(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.zo(i)})})}jo(e,t){const r=this.Qo(this.Co);this.stream=this.Wo(e,t),this.stream.Xr(()=>{r(()=>(this.state=2,this.No=this.Ys.enqueueAfterDelay(this.Do,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.no(i=>{r(()=>this.zo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Fo(){var e=this;this.state=5,this.ko.vo((0,T.Z)(function*(){e.state=0,e.start()}))}zo(e){return $e("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Qo(e){return t=>{this.Ys.enqueueAndForget(()=>this.Co===e?t():($e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jue extends cj{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.Tt=o}Wo(e,t){return this.connection.yo("Listen",e,t)}onMessage(e){this.ko.reset();const t=function Ole(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:st(),i=e.targetChange.targetIds||[],o=function(c,l){return c.yt?(ht(void 0===l||"string"==typeof l),ur.fromBase64String(l||"")):(ht(void 0===l||l instanceof Uint8Array),ur.fromUint8Array(l||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const l=void 0===c.code?re.UNKNOWN:ZU(c.code);return new Le(l,c.message||"")}(s);t=new t3(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=as(n,r.document.name),o=zn(r.document.updateTime),s=r.document.createTime?zn(r.document.createTime):pt.min(),a=new br({mapValue:{fields:r.document.fields}}),c=gn.newFoundDocument(i,o,s,a);t=new Yv(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=as(n,r.document),o=r.readTime?zn(r.readTime):pt.min(),s=gn.newNoDocument(i,o);t=new Yv([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=as(n,r.document);t=new Yv([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return st();{const r=e.filter,o=new Ile(r.count||0);t=new e3(r.targetId,o)}}var c;return t}(this.Tt,e),r=function(i){if(!("targetChange"in i))return pt.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?pt.min():o.readTime?zn(o.readTime):pt.min()}(e);return this.listener.Ho(t,r)}Jo(e){const t={};t.database=Xf(this.Tt),t.addTarget=function(i,o){let s;const a=o.target;return s=Uv(a)?{documents:d3(i,a)}:{query:hT(i,a)},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?s.resumeToken=o3(i,o.resumeToken):o.snapshotVersion.compareTo(pt.min())>0&&(s.readTime=Zu(i,o.snapshotVersion.toTimestamp())),s}(this.Tt,e);const r=function Fle(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return st()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.qo(t)}Yo(e){const t={};t.database=Xf(this.Tt),t.removeTarget=e,this.qo(t)}}class Hue extends cj{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.Tt=o,this.Zo=!1}get Xo(){return this.Zo}start(){this.Zo=!1,this.lastStreamToken=void 0,super.start()}Go(){this.Zo&&this.tu([])}Wo(e,t){return this.connection.yo("Write",e,t)}onMessage(e){if(ht(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Zo){this.ko.reset();const t=function Ple(n,e){return n&&n.length>0?(ht(void 0!==e),n.map(t=>function(r,i){let o=zn(r.updateTime?r.updateTime:i);return o.isEqual(pt.min())&&(o=zn(i)),new _le(o,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=zn(e.commitTime);return this.listener.eu(r,t)}return ht(!e.writeResults||0===e.writeResults.length),this.Zo=!0,this.listener.nu()}su(){const e={};e.database=Xf(this.Tt),this.qo(e)}tu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function Qf(n,e){let t;if(e instanceof Ku)t={update:l3(n,e.key,e.value)};else if(e instanceof Yu)t={delete:Zf(n,e.key)};else if(e instanceof ra)t={update:l3(n,e.key,e.data),updateMask:Ble(e.fieldMask)};else{if(!(e instanceof cT))return st();t={verify:Zf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const s=o.transform;if(s instanceof Wu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof tl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof nl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof qu)return{fieldPath:o.field.canonicalString(),increment:s.It};throw st()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:kle(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:st()),t;var i}(this.Tt,r))};this.qo(t)}}class Gue extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.Tt=i,this.iu=!1}ru(){if(this.iu)throw new Le(re.FAILED_PRECONDITION,"The client has already been terminated.")}lo(e,t,r){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.lo(e,t,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Le(re.UNKNOWN,i.toString())})}mo(e,t,r,i){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.mo(e,t,r,o,s,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Le(re.UNKNOWN,o.toString())})}terminate(){this.iu=!0}}class Wue{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}au(){0===this.ou&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.uu=null,this.lu("Backend didn't respond within 10 seconds."),this.hu("Offline"),Promise.resolve())))}fu(e){"Online"===this.state?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.hu("Offline")))}set(e){this.du(),this.ou=0,"Online"===e&&(this.cu=!1),this.hu(e)}hu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}lu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.cu?(Hn(t),this.cu=!1):$e("OnlineStateTracker",t)}du(){null!==this.uu&&(this.uu.cancel(),this.uu=null)}}class que{constructor(e,t,r,i,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=o,this.yu.Gr(a=>{r.enqueueAndForget((0,T.Z)(function*(){var c;ia(s)&&($e("RemoteStore","Restarting streams for network reachability change."),yield(c=(0,T.Z)(function*(l){const u=Qe(l);u.mu.add(4),yield nd(u),u.pu.set("Unknown"),u.mu.delete(4),yield cp(u)}),function(l){return c.apply(this,arguments)})(s))}))}),this.pu=new Wue(r,i)}}function cp(n){return VT.apply(this,arguments)}function VT(){return VT=(0,T.Z)(function*(n){if(ia(n))for(const e of n.gu)yield e(!0)}),VT.apply(this,arguments)}function nd(n){return BT.apply(this,arguments)}function BT(){return BT=(0,T.Z)(function*(n){for(const e of n.gu)yield e(!1)}),BT.apply(this,arguments)}function dy(n,e){const t=Qe(n);t.wu.has(e.targetId)||(t.wu.set(e.targetId,e),HT(t)?jT(t):id(t).Mo()&&UT(t,e))}function lp(n,e){const t=Qe(n),r=id(t);t.wu.delete(e),r.Mo()&&lj(t,e),0===t.wu.size&&(r.Mo()?r.Bo():ia(t)&&t.pu.set("Unknown"))}function UT(n,e){n.Iu.Ft(e.targetId),id(n).Jo(e)}function lj(n,e){n.Iu.Ft(e),id(n).Yo(e)}function jT(n){n.Iu=new Tle({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ie:e=>n.wu.get(e)||null}),id(n).start(),n.pu.au()}function HT(n){return ia(n)&&!id(n).Oo()&&n.wu.size>0}function ia(n){return 0===Qe(n).mu.size}function uj(n){n.Iu=void 0}function Kue(n){return GT.apply(this,arguments)}function GT(){return GT=(0,T.Z)(function*(n){n.wu.forEach((e,t)=>{UT(n,e)})}),GT.apply(this,arguments)}function Yue(n,e){return zT.apply(this,arguments)}function zT(){return zT=(0,T.Z)(function*(n,e){uj(n),HT(n)?(n.pu.fu(e),jT(n)):n.pu.set("Unknown")}),zT.apply(this,arguments)}function Zue(n,e,t){return WT.apply(this,arguments)}function WT(){return WT=(0,T.Z)(function*(n,e,t){if(n.pu.set("Online"),e instanceof t3&&2===e.state&&e.cause)try{yield(r=(0,T.Z)(function*(i,o){const s=o.cause;for(const a of o.targetIds)i.wu.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.wu.delete(a),i.Iu.removeTarget(a))}),function(i,o){return r.apply(this,arguments)})(n,e)}catch(r){$e("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield hy(n,r)}else if(e instanceof Yv?n.Iu.Qt(e):e instanceof e3?n.Iu.Zt(e):n.Iu.Wt(e),!t.isEqual(pt.min()))try{const r=yield Q3(n.localStore);t.compareTo(r)>=0&&(yield function(i,o){const s=i.Iu.ee(o);return s.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const l=i.wu.get(c);l&&i.wu.set(c,l.withResumeToken(a.resumeToken,o))}}),s.targetMismatches.forEach(a=>{const c=i.wu.get(a);if(!c)return;i.wu.set(a,c.withResumeToken(ur.EMPTY_BYTE_STRING,c.snapshotVersion)),lj(i,a);const l=new Ga(c.target,a,1,c.sequenceNumber);UT(i,l)}),i.remoteSyncer.applyRemoteEvent(s)}(n,t))}catch(r){$e("RemoteStore","Failed to raise snapshot:",r),yield hy(n,r)}var r}),WT.apply(this,arguments)}function hy(n,e,t){return qT.apply(this,arguments)}function qT(){return qT=(0,T.Z)(function*(n,e,t){if(!La(e))throw e;n.mu.add(1),yield nd(n),n.pu.set("Offline"),t||(t=()=>Q3(n.localStore)),n.asyncQueue.enqueueRetryable((0,T.Z)(function*(){$e("RemoteStore","Retrying IndexedDB access"),yield t(),n.mu.delete(1),yield cp(n)}))}),qT.apply(this,arguments)}function dj(n,e){return e().catch(t=>hy(n,t,e))}function rd(n){return KT.apply(this,arguments)}function KT(){return KT=(0,T.Z)(function*(n){const e=Qe(n),t=Ka(e);let r=e._u.length>0?e._u[e._u.length-1].batchId:-1;for(;Xue(e);)try{const i=yield Pue(e.localStore,r);if(null===i){0===e._u.length&&t.Bo();break}r=i.batchId,Que(e,i)}catch(i){yield hy(e,i)}hj(e)&&fj(e)}),KT.apply(this,arguments)}function Xue(n){return ia(n)&&n._u.length<10}function Que(n,e){n._u.push(e);const t=Ka(n);t.Mo()&&t.Xo&&t.tu(e.mutations)}function hj(n){return ia(n)&&!Ka(n).Oo()&&n._u.length>0}function fj(n){Ka(n).start()}function Jue(n){return YT.apply(this,arguments)}function YT(){return YT=(0,T.Z)(function*(n){Ka(n).su()}),YT.apply(this,arguments)}function ede(n){return ZT.apply(this,arguments)}function ZT(){return ZT=(0,T.Z)(function*(n){const e=Ka(n);for(const t of n._u)e.tu(t.mutations)}),ZT.apply(this,arguments)}function tde(n,e,t){return XT.apply(this,arguments)}function XT(){return XT=(0,T.Z)(function*(n,e,t){const r=n._u.shift(),i=gT.from(r,e,t);yield dj(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield rd(n)}),XT.apply(this,arguments)}function nde(n,e){return QT.apply(this,arguments)}function QT(){return QT=(0,T.Z)(function*(n,e){var t;e&&Ka(n).Xo&&(yield(t=(0,T.Z)(function*(r,i){if(function YU(n){switch(n){default:return st();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0}}(o=i.code)&&o!==re.ABORTED){const s=r._u.shift();Ka(r).$o(),yield dj(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield rd(r)}var o}),function(r,i){return t.apply(this,arguments)})(n,e)),hj(n)&&fj(n)}),QT.apply(this,arguments)}function pj(n,e){return JT.apply(this,arguments)}function JT(){return JT=(0,T.Z)(function*(n,e){const t=Qe(n);t.asyncQueue.verifyOperationInProgress(),$e("RemoteStore","RemoteStore received new credentials");const r=ia(t);t.mu.add(3),yield nd(t),r&&t.pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.mu.delete(3),yield cp(t)}),JT.apply(this,arguments)}function tA(){return tA=(0,T.Z)(function*(n,e){const t=Qe(n);e?(t.mu.delete(2),yield cp(t)):e||(t.mu.add(2),yield nd(t),t.pu.set("Unknown"))}),tA.apply(this,arguments)}function id(n){return n.Tu||(n.Tu=function(e,t,r){const i=Qe(e);return i.ru(),new jue(t,i.connection,i.authCredentials,i.appCheckCredentials,i.Tt,r)}(n.datastore,n.asyncQueue,{Xr:Kue.bind(null,n),no:Yue.bind(null,n),Ho:Zue.bind(null,n)}),n.gu.push(function(){var e=(0,T.Z)(function*(t){t?(n.Tu.$o(),HT(n)?jT(n):n.pu.set("Unknown")):(yield n.Tu.stop(),uj(n))});return function(t){return e.apply(this,arguments)}}())),n.Tu}function Ka(n){return n.Eu||(n.Eu=function(e,t,r){const i=Qe(e);return i.ru(),new Hue(t,i.connection,i.authCredentials,i.appCheckCredentials,i.Tt,r)}(n.datastore,n.asyncQueue,{Xr:Jue.bind(null,n),no:nde.bind(null,n),nu:ede.bind(null,n),eu:tde.bind(null,n)}),n.gu.push(function(){var e=(0,T.Z)(function*(t){t?(n.Eu.$o(),yield rd(n)):(yield n.Eu.stop(),n._u.length>0&&($e("RemoteStore",`Stopping write stream with ${n._u.length} pending writes`),n._u=[]))});return function(t){return e.apply(this,arguments)}}())),n.Eu}class nA{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,t,r,i,o){const s=Date.now()+r,a=new nA(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Le(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function od(n,e){if(Hn("AsyncQueue",`${e}: ${n}`),La(n))return new Le(re.UNAVAILABLE,`${e}: ${n}`);throw n}class sd{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ze.comparator(t.key,r.key):(t,r)=>Ze.comparator(t.key,r.key),this.keyedMap=Wf(),this.sortedSet=new Ln(this.comparator)}static emptySet(e){return new sd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof sd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new sd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class gj{constructor(){this.Au=new Ln(Ze.comparator)}track(e){const t=e.doc.key,r=this.Au.get(t);r?0!==e.type&&3===r.type?this.Au=this.Au.insert(t,e):3===e.type&&1!==r.type?this.Au=this.Au.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Au=this.Au.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Au=this.Au.remove(t):1===e.type&&2===r.type?this.Au=this.Au.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):st():this.Au=this.Au.insert(t,e)}Ru(){const e=[];return this.Au.inorderTraversal((t,r)=>{e.push(r)}),e}}class ad{constructor(e,t,r,i,o,s,a,c,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new ad(e,t,sd.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class rde{constructor(){this.bu=void 0,this.listeners=[]}}class ide{constructor(){this.queries=new ja(e=>NU(e),jf),this.onlineState="Unknown",this.vu=new Set}}function rA(n,e){return iA.apply(this,arguments)}function iA(){return iA=(0,T.Z)(function*(n,e){const t=Qe(n),r=e.query;let i=!1,o=t.queries.get(r);if(o||(i=!0,o=new rde),i)try{o.bu=yield t.onListen(r)}catch(s){const a=od(s,`Initialization of query '${aT(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,o),o.listeners.push(e),e.Pu(t.onlineState),o.bu&&e.Vu(o.bu)&&aA(t)}),iA.apply(this,arguments)}function oA(n,e){return sA.apply(this,arguments)}function sA(){return sA=(0,T.Z)(function*(n,e){const t=Qe(n),r=e.query;let i=!1;const o=t.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),sA.apply(this,arguments)}function ode(n,e){const t=Qe(n);let r=!1;for(const i of e){const s=t.queries.get(i.query);if(s){for(const a of s.listeners)a.Vu(i)&&(r=!0);s.bu=i}}r&&aA(t)}function sde(n,e,t){const r=Qe(n),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(t);r.queries.delete(e)}function aA(n){n.vu.forEach(e=>{e.next()})}class cA{constructor(e,t,r){this.query=e,this.Su=t,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new ad(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Du?this.xu(e)&&(this.Su.next(e),t=!0):this.Nu(e,this.onlineState)&&(this.ku(e),t=!0),this.Cu=e,t}onError(e){this.Su.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,e)&&(this.ku(this.Cu),t=!0),t}Nu(e,t){return!e.fromCache||(!this.options.Ou||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}xu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Cu&&this.Cu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}ku(e){e=ad.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Du=!0,this.Su.next(e)}}class yj{constructor(e){this.key=e}}class _j{constructor(e){this.key=e}}class bj{constructor(e,t){this.query=e,this.Ku=t,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=Tt(),this.mutatedKeys=Tt(),this.ju=PU(e),this.zu=new sd(this.ju)}get Wu(){return this.Ku}Hu(e,t){const r=t?t.Ju:new gj,i=t?t.zu:this.zu;let o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const f=i.get(u),v=Hf(this.query,d)?d:null,E=!!f&&this.mutatedKeys.has(f.key),x=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let N=!1;f&&v?f.data.isEqual(v.data)?E!==x&&(r.track({type:3,doc:v}),N=!0):this.Yu(f,v)||(r.track({type:2,doc:v}),N=!0,(c&&this.ju(v,c)>0||l&&this.ju(v,l)<0)&&(a=!0)):!f&&v?(r.track({type:0,doc:v}),N=!0):f&&!v&&(r.track({type:1,doc:f}),N=!0,(c||l)&&(a=!0)),N&&(v?(s=s.add(v),o=x?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const u="F"===this.query.limitType?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),r.track({type:1,doc:u})}return{zu:s,Ju:r,Li:a,mutatedKeys:o}}Yu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.zu;this.zu=e.zu,this.mutatedKeys=e.mutatedKeys;const o=e.Ju.Ru();o.sort((l,u)=>function(d,f){const v=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return st()}};return v(d)-v(f)}(l.type,u.type)||this.ju(l.doc,u.doc)),this.Zu(r);const s=t?this.Xu():[],a=0===this.Qu.size&&this.current?1:0,c=a!==this.Gu;return this.Gu=a,0!==o.length||c?{snapshot:new ad(this.query,e.zu,i,o,e.mutatedKeys,0===a,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),tc:s}:{tc:s}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new gj,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}ec(e){return!this.Ku.has(e)&&!!this.zu.has(e)&&!this.zu.get(e).hasLocalMutations}Zu(e){e&&(e.addedDocuments.forEach(t=>this.Ku=this.Ku.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ku=this.Ku.delete(t)),this.current=e.current)}Xu(){if(!this.current)return[];const e=this.Qu;this.Qu=Tt(),this.zu.forEach(r=>{this.ec(r.key)&&(this.Qu=this.Qu.add(r.key))});const t=[];return e.forEach(r=>{this.Qu.has(r)||t.push(new _j(r))}),this.Qu.forEach(r=>{e.has(r)||t.push(new yj(r))}),t}nc(e){this.Ku=e.Yi,this.Qu=Tt();const t=this.Hu(e.documents);return this.applyChanges(t,!0)}sc(){return ad.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,0===this.Gu,this.hasCachedResults)}}class lde{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class ude{constructor(e){this.key=e,this.ic=!1}}class dde{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.rc={},this.oc=new ja(a=>NU(a),jf),this.uc=new Map,this.cc=new Set,this.ac=new Ln(Ze.comparator),this.hc=new Map,this.lc=new wT,this.fc={},this.dc=new Map,this._c=cl.Sn(),this.onlineState="Unknown",this.wc=void 0}get isPrimaryClient(){return!0===this.wc}}function hde(n,e){return lA.apply(this,arguments)}function lA(){return lA=(0,T.Z)(function*(n,e){const t=function kA(n){const e=Qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ej.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ede.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gde.bind(null,e),e.rc.Ho=ode.bind(null,e.eventManager),e.rc.gc=sde.bind(null,e.eventManager),e}(n);let r,i;const o=t.oc.get(e);if(o)r=o.targetId,t.sharedClientState.addLocalQueryTarget(r),i=o.view.sc();else{const s=yield function ed(n,e){const t=Qe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ns.getTargetData(r,e).next(o=>o?(i=o,Z.resolve(i)):t.Ns.allocateTargetId(r).next(s=>(i=new Ga(e,s,0,r.currentSequenceNumber),t.Ns.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ki.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ki=t.Ki.insert(r.targetId,r),t.Gi.set(e,r.targetId)),r})}(t.localStore,vi(e));t.isPrimaryClient&&dy(t.remoteStore,s);const a=t.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=yield function uA(n,e,t,r,i){return dA.apply(this,arguments)}(t,e,r,"current"===a,s.resumeToken)}return i}),lA.apply(this,arguments)}function dA(){return dA=(0,T.Z)(function*(n,e,t,r,i){n.mc=(d,f,v)=>{return(E=(0,T.Z)(function*(x,N,X,Ee){let z=N.view.Hu(X);z.Li&&(z=yield ay(x.localStore,N.query,!1).then(({documents:ft})=>N.view.Hu(ft,z)));const He=Ee&&Ee.targetChanges.get(N.targetId),ct=N.view.applyChanges(z,x.isPrimaryClient,He);return EA(x,N.targetId,ct.tc),ct.snapshot}),function(x,N,X,Ee){return E.apply(this,arguments)})(n,d,f,v);var E};const o=yield ay(n.localStore,e,!0),s=new bj(e,o.Yi),a=s.Hu(o.documents),c=Yf.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),l=s.applyChanges(a,n.isPrimaryClient,c);EA(n,t,l.tc);const u=new lde(e,t,s);return n.oc.set(e,u),n.uc.has(t)?n.uc.get(t).push(e):n.uc.set(t,[e]),l.snapshot}),dA.apply(this,arguments)}function fde(n,e){return hA.apply(this,arguments)}function hA(){return hA=(0,T.Z)(function*(n,e){const t=Qe(n),r=t.oc.get(e),i=t.uc.get(r.targetId);if(i.length>1)return t.uc.set(r.targetId,i.filter(o=>!jf(o,e))),void t.oc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield td(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),lp(t.remoteStore,r.targetId),cd(t,r.targetId)}).catch(Fa))):(cd(t,r.targetId),yield td(t.localStore,r.targetId,!0))}),hA.apply(this,arguments)}function fA(){return fA=(0,T.Z)(function*(n,e,t){const r=function NA(n){const e=Qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mde.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vde.bind(null,e),e}(n);try{const i=yield function(o,s){const a=Qe(o),c=Tn.now(),l=s.reduce((f,v)=>f.add(v.key),Tt());let u,d;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let v=Ni(),E=Tt();return a.ji.getEntries(f,l).next(x=>{v=x,v.forEach((N,X)=>{X.isValidDocument()||(E=E.add(N))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,v)).next(x=>{u=x;const N=[];for(const X of s){const Ee=Ele(X,u.get(X.key).overlayedDocument);null!=Ee&&N.push(new ra(X.key,Ee,AU(Ee.value.mapValue),En.exists(!0)))}return a.mutationQueue.addMutationBatch(f,c,N,s)}).next(x=>{d=x;const N=x.applyToLocalDocumentSet(u,E);return a.documentOverlayCache.saveOverlays(f,x.batchId,N)})}).then(()=>({batchId:d.batchId,changes:QU(u)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,a){let c=o.fc[o.currentUser.toKey()];c||(c=new Ln(It)),c=c.insert(s,a),o.fc[o.currentUser.toKey()]=c}(r,i.batchId,t),yield oa(r,i.changes),yield rd(r.remoteStore)}catch(i){const o=od(i,"Failed to persist write");t.reject(o)}}),fA.apply(this,arguments)}function Ej(n,e){return pA.apply(this,arguments)}function pA(){return pA=(0,T.Z)(function*(n,e){const t=Qe(n);try{const r=yield function Oue(n,e){const t=Qe(n),r=e.snapshotVersion;let i=t.Ki;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.ji.newChangeBuffer({trackRemovals:!0});i=t.Ki;const a=[];e.targetChanges.forEach((u,d)=>{const f=i.get(d);if(!f)return;a.push(t.Ns.removeMatchingKeys(o,u.removedDocuments,d).next(()=>t.Ns.addMatchingKeys(o,u.addedDocuments,d)));let v=f.withSequenceNumber(o.currentSequenceNumber);var E,x,N;e.targetMismatches.has(d)?v=v.withResumeToken(ur.EMPTY_BYTE_STRING,pt.min()).withLastLimboFreeSnapshotVersion(pt.min()):u.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(u.resumeToken,r)),i=i.insert(d,v),x=v,N=u,(0===(E=f).resumeToken.approximateByteSize()||x.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8||N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0)&&a.push(t.Ns.updateTargetData(o,v))});let c=Ni(),l=Tt();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(function J3(n,e,t){let r=Tt(),i=Tt();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Ni();return t.forEach((a,c)=>{const l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(pt.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):$e("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{Hi:s,Ji:i}})}(o,s,e.documentUpdates).next(u=>{c=u.Hi,l=u.Ji})),!r.isEqual(pt.min())){const u=t.Ns.getLastRemoteSnapshotVersion(o).next(d=>t.Ns.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(u)}return Z.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(t.Ki=i,o))}(t.localStore,e);e.targetChanges.forEach((i,o)=>{const s=t.hc.get(o);s&&(ht(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.ic=!0:i.modifiedDocuments.size>0?ht(s.ic):i.removedDocuments.size>0&&(ht(s.ic),s.ic=!1))}),yield oa(t,r,e)}catch(r){yield Fa(r)}}),pA.apply(this,arguments)}function Ij(n,e,t){const r=Qe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.oc.forEach((o,s)=>{const a=s.view.Pu(e);a.snapshot&&i.push(a.snapshot)}),function(o,s){const a=Qe(o);a.onlineState=s;let c=!1;a.queries.forEach((l,u)=>{for(const d of u.listeners)d.Pu(s)&&(c=!0)}),c&&aA(a)}(r.eventManager,e),i.length&&r.rc.Ho(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function gde(n,e,t){return gA.apply(this,arguments)}function gA(){return gA=(0,T.Z)(function*(n,e,t){const r=Qe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.hc.get(e),o=i&&i.key;if(o){let s=new Ln(Ze.comparator);s=s.insert(o,gn.newNoDocument(o,pt.min()));const a=Tt().add(o),c=new Kf(pt.min(),new Map,new sn(It),s,a);yield Ej(r,c),r.ac=r.ac.remove(o),r.hc.delete(e),IA(r)}else yield td(r.localStore,e,!1).then(()=>cd(r,e,t)).catch(Fa)}),gA.apply(this,arguments)}function mde(n,e){return mA.apply(this,arguments)}function mA(){return mA=(0,T.Z)(function*(n,e){const t=Qe(n),r=e.batch.batchId;try{const i=yield function Nue(n,e){const t=Qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.ji.newChangeBuffer({trackRemovals:!0});return function(s,a,c,l){const u=c.batch,d=u.keys();let f=Z.resolve();return d.forEach(v=>{f=f.next(()=>l.getEntry(a,v)).next(E=>{const x=c.docVersions.get(v);ht(null!==x),E.version.compareTo(x)<0&&(u.applyToRemoteDocument(E,c),E.isValidDocument()&&(E.setReadTime(c.commitVersion),l.addEntry(E)))})}),f.next(()=>s.mutationQueue.removeMutationBatch(a,u))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let a=Tt();for(let c=0;c<s.mutationResults.length;++c)s.mutationResults[c].transformResults.length>0&&(a=a.add(s.batch.mutations[c].key));return a}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);bA(t,r,null),_A(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield oa(t,i)}catch(i){yield Fa(i)}}),mA.apply(this,arguments)}function vde(n,e,t){return vA.apply(this,arguments)}function vA(){return vA=(0,T.Z)(function*(n,e,t){const r=Qe(n);try{const i=yield function(o,s){const a=Qe(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let l;return a.mutationQueue.lookupMutationBatch(c,s).next(u=>(ht(null!==u),l=u.keys(),a.mutationQueue.removeMutationBatch(c,u))).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,l,s)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,l)).next(()=>a.localDocuments.getDocuments(c,l))})}(r.localStore,e);bA(r,e,t),_A(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield oa(r,i)}catch(i){yield Fa(i)}}),vA.apply(this,arguments)}function _A(n,e){(n.dc.get(e)||[]).forEach(t=>{t.resolve()}),n.dc.delete(e)}function bA(n,e,t){const r=Qe(n);let i=r.fc[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.fc[r.currentUser.toKey()]=i}}function cd(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.uc.get(e))n.oc.delete(r),t&&n.rc.gc(r,t);n.uc.delete(e),n.isPrimaryClient&&n.lc.ds(e).forEach(r=>{n.lc.containsKey(r)||Sj(n,r)})}function Sj(n,e){n.cc.delete(e.path.canonicalString());const t=n.ac.get(e);null!==t&&(lp(n.remoteStore,t),n.ac=n.ac.remove(e),n.hc.delete(t),IA(n))}function EA(n,e,t){for(const r of t)r instanceof yj?(n.lc.addReference(r.key,e),_de(n,r)):r instanceof _j?($e("SyncEngine","Document no longer in limbo: "+r.key),n.lc.removeReference(r.key,e),n.lc.containsKey(r.key)||Sj(n,r.key)):st()}function _de(n,e){const t=e.key,r=t.path.canonicalString();n.ac.get(t)||n.cc.has(r)||($e("SyncEngine","New document in limbo: "+t),n.cc.add(r),IA(n))}function IA(n){for(;n.cc.size>0&&n.ac.size<n.maxConcurrentLimboResolutions;){const e=n.cc.values().next().value;n.cc.delete(e);const t=new Ze(Ht.fromString(e)),r=n._c.next();n.hc.set(r,new ude(t)),n.ac=n.ac.insert(t,r),dy(n.remoteStore,new Ga(vi(zu(t.path)),r,2,Qi.at))}}function oa(n,e,t){return SA.apply(this,arguments)}function SA(){return SA=(0,T.Z)(function*(n,e,t){const r=Qe(n),i=[],o=[],s=[];var a;r.oc.isEmpty()||(r.oc.forEach((a,c)=>{s.push(r.mc(c,e,t).then(l=>{if((l||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,null!=l&&l.fromCache?"not-current":"current"),l){i.push(l);const u=AT.Ni(c.targetId,l);o.push(u)}}))}),yield Promise.all(s),r.rc.Ho(i),yield(a=(0,T.Z)(function*(c,l){const u=Qe(c);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>Z.forEach(l,f=>Z.forEach(f.Ci,v=>u.persistence.referenceDelegate.addReference(d,f.targetId,v)).next(()=>Z.forEach(f.xi,v=>u.persistence.referenceDelegate.removeReference(d,f.targetId,v)))))}catch(d){if(!La(d))throw d;$e("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const f=d.targetId;if(!d.fromCache){const v=u.Ki.get(f),x=v.withLastLimboFreeSnapshotVersion(v.snapshotVersion);u.Ki=u.Ki.insert(f,x)}}}),function(c,l){return a.apply(this,arguments)})(r.localStore,o))}),SA.apply(this,arguments)}function bde(n,e){return wA.apply(this,arguments)}function wA(){return wA=(0,T.Z)(function*(n,e){const t=Qe(n);if(!t.currentUser.isEqual(e)){$e("SyncEngine","User change. New user:",e.toKey());const r=yield X3(t.localStore,e);t.currentUser=e,(i=t).dc.forEach(s=>{s.forEach(a=>{a.reject(new Le(re.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.dc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield oa(t,r.Wi)}var i}),wA.apply(this,arguments)}function Ede(n,e){const t=Qe(n),r=t.hc.get(e);if(r&&r.ic)return Tt().add(r.key);{let i=Tt();const o=t.uc.get(e);if(!o)return i;for(const s of o){const a=t.oc.get(s);i=i.unionWith(a.view.Wu)}return i}}class Mde{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,T.Z)(function*(){t.Tt=ap(e.databaseInfo.databaseId),t.sharedClientState=t.Ic(e),t.persistence=t.Tc(e),yield t.persistence.start(),t.localStore=t.Ec(e),t.gcScheduler=t.Ac(e,t.localStore),t.indexBackfillerScheduler=t.Rc(e,t.localStore)})()}Ac(e,t){return null}Rc(e,t){return null}Ec(e){return function Z3(n,e,t,r){return new kue(n,e,t,r)}(this.persistence,new Y3,e.initialUser,this.Tt)}Tc(e){return new q3(oy.qs,this.Tt)}Ic(e){return new oj}terminate(){var e=this;return(0,T.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class OA{initialize(e,t){var r=this;return(0,T.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Ij(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=bde.bind(null,r.syncEngine),yield function eA(n,e){return tA.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ide}createDatastore(e){const t=ap(e.databaseInfo.databaseId),r=new Uue(e.databaseInfo);return new Gue(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,o=a=>Ij(this.syncEngine,a,0),s=sj.C()?new sj:new $ue,new que(t,r,i,o,s);var t,r,i,o,s}createSyncEngine(e,t){return function(r,i,o,s,a,c,l){const u=new dde(r,i,o,s,a,c);return l&&(u.wc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,T.Z)(function*(t){const r=Qe(t);$e("RemoteStore","RemoteStore shutting down."),r.mu.add(5),yield nd(r),r.yu.shutdown(),r.pu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class fy{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.vc(this.observer.next,e)}error(e){this.observer.error?this.vc(this.observer.error,e):Hn("Uncaught Error in snapshot listener:",e.toString())}Pc(){this.muted=!0}vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Fde{constructor(e,t,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=_r.UNAUTHENTICATED,this.clientId=nU.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=(0,T.Z)(function*(a){$e("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>($e("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return(0,T.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Le(re.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,T.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=od(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function PA(){return PA=(0,T.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),$e("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,T.Z)(function*(o){r.isEqual(o)||(yield X3(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),PA.apply(this,arguments)}function FA(){return FA=(0,T.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function LA(n){return $A.apply(this,arguments)}(n);$e("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>pj(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>pj(e.remoteStore,o)),n.onlineComponents=e}),FA.apply(this,arguments)}function $A(){return $A=(0,T.Z)(function*(n){return n.offlineComponents||($e("FirestoreClient","Using default OfflineComponentProvider"),yield function Tj(n,e){return PA.apply(this,arguments)}(n,new Mde)),n.offlineComponents}),$A.apply(this,arguments)}function py(n){return VA.apply(this,arguments)}function VA(){return VA=(0,T.Z)(function*(n){return n.onlineComponents||($e("FirestoreClient","Using default OnlineComponentProvider"),yield function Aj(n,e){return FA.apply(this,arguments)}(n,new OA)),n.onlineComponents}),VA.apply(this,arguments)}function ld(n){return jA.apply(this,arguments)}function jA(){return jA=(0,T.Z)(function*(n){const e=yield py(n),t=e.eventManager;return t.onListen=hde.bind(null,e.syncEngine),t.onUnlisten=fde.bind(null,e.syncEngine),t}),jA.apply(this,arguments)}const Nj=new Map;function HA(n,e,t){if(!t)throw new Le(re.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Oj(n){if(!Ze.isDocumentKey(n))throw new Le(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Pj(n){if(Ze.isDocumentKey(n))throw new Le(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function my(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":st()}function $t(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Le(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=my(n);throw new Le(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class Lj{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Le(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Le(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function Gde(n,e,t,r){if(!0===e&&!0===r)throw new Le(re.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class up{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lj({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Le(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Le(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lj(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Vce;switch(t.type){case"gapi":return new Hce(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Le(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Nj.get(e);t&&($e("ComponentProvider","Removing Datastore"),Nj.delete(e),t.terminate())}(this),Promise.resolve()}}class Wn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ls(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wn(this.firestore,e,this._key)}}class $r{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new $r(this.firestore,e,this._query)}}class ls extends $r{constructor(e,t,r){super(e,t,zu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wn(this.firestore,null,new Ze(e))}withConverter(e){return new ls(this.firestore,e,this._path)}}function Wde(n,e,...t){if(n=Nn(n),HA("collection","path",e),n instanceof up){const r=Ht.fromString(e,...t);return Pj(r),new ls(n,null,r)}{if(!(n instanceof Wn||n instanceof ls))throw new Le(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ht.fromString(e,...t));return Pj(r),new ls(n.firestore,null,r)}}function $j(n,e,...t){if(n=Nn(n),1===arguments.length&&(e=nU.R()),HA("doc","path",e),n instanceof up){const r=Ht.fromString(e,...t);return Oj(r),new Wn(n,null,new Ze(r))}{if(!(n instanceof Wn||n instanceof ls))throw new Le(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ht.fromString(e,...t));return Oj(r),new Wn(n.firestore,n instanceof ls?n.converter:null,new Ze(r))}}class qde{constructor(){this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new LT(this,"async_queue_retry"),this.Hc=()=>{const t=uy();t&&$e("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ko.Vo()};const e=uy();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Hc)}get isShuttingDown(){return this.Kc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Jc(),this.Yc(e)}enterRestrictedMode(e){if(!this.Kc){this.Kc=!0,this.zc=e||!1;const t=uy();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Hc)}}enqueue(e){if(this.Jc(),this.Kc)return new Promise(()=>{});const t=new lr;return this.Yc(()=>this.Kc&&this.zc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Uc.push(e),this.Zc()))}Zc(){var e=this;return(0,T.Z)(function*(){if(0!==e.Uc.length){try{yield e.Uc[0](),e.Uc.shift(),e.ko.reset()}catch(t){if(!La(t))throw t;$e("AsyncQueue","Operation failed with retryable error: "+t)}e.Uc.length>0&&e.ko.vo(()=>e.Zc())}})()}Yc(e){const t=this.qc.then(()=>(this.jc=!0,e().catch(r=>{throw this.Qc=r,this.jc=!1,Hn("INTERNAL UNHANDLED ERROR: ",function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),s}(r)),r}).then(r=>(this.jc=!1,r))));return this.qc=t,t}enqueueAfterDelay(e,t,r){this.Jc(),this.Wc.indexOf(e)>-1&&(t=0);const i=nA.createAndSchedule(this,e,t,r,o=>this.Xc(o));return this.Gc.push(i),i}Jc(){this.Qc&&st()}verifyOperationInProgress(){}ta(){var e=this;return(0,T.Z)(function*(){let t;do{t=e.qc,yield t}while(t!==e.qc)})()}ea(e){for(const t of this.Gc)if(t.timerId===e)return!0;return!1}na(e){return this.ta().then(()=>{this.Gc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Gc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ta()})}sa(e){this.Wc.push(e)}Xc(e){const t=this.Gc.indexOf(e);this.Gc.splice(t,1)}}class mn extends up{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new qde,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Bj(this),this._firestoreClient.terminate()}}function Yde(n,e){const r="string"==typeof n?n:e||"(default)",i=wu("object"==typeof n?n:tI(),"firestore").getImmediate({identifier:r});if(!i._initialized){const o=OJ("firestore");o&&function zde(n,e,t,r={}){var i;const o=(n=$t(n,up))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&Vu("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let s,a;if("string"==typeof r.mockUserToken)s=r.mockUserToken,a=_r.MOCK_USER;else{s=function FJ(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Cm(JSON.stringify({alg:"none",type:"JWT"})),Cm(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Le(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new _r(c)}n._authCredentials=new Bce(new eU(s,a))}}(i,...o)}return i}function er(n){return n._firestoreClient||Bj(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Bj(n){var e;const t=n._freezeSettings(),r=(o=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new nle(n._databaseId,o,n._persistenceKey,(a=t).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var o,a;n._firestoreClient=new Fde(n._authCredentials,n._appCheckCredentials,n._queue,r)}class ul{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ul(ur.fromBase64String(e))}catch(t){throw new Le(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ul(ur.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ud{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Le(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class zA{constructor(e){this._methodName=e}}class WA{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Le(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Le(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return It(this._lat,e._lat)||It(this._long,e._long)}}const Xde=/^__.*__$/;class Qde{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new ra(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ku(e,this.data,t,this.fieldTransforms)}}class Hj{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ra(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Gj(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw st()}}class vy{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.Tt=r,this.ignoreUndefinedProperties=i,void 0===o&&this.ia(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ra(){return this.settings.ra}oa(e){return new vy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.Tt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ua(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.oa({path:r,ca:!1});return i.aa(e),i}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.oa({path:r,ca:!1});return i.ia(),i}la(e){return this.oa({path:void 0,ca:!0})}fa(e){return _y(e,this.settings.methodName,this.settings.da||!1,this.path,this.settings._a)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ia(){if(this.path)for(let e=0;e<this.path.length;e++)this.aa(this.path.get(e))}aa(e){if(0===e.length)throw this.fa("Document fields must not be empty");if(Gj(this.ra)&&Xde.test(e))throw this.fa('Document fields cannot begin and end with "__"')}}class Jde{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.Tt=r||ap(e)}wa(e,t,r,i=!1){return new vy({ra:e,methodName:t,_a:r,path:Gn.emptyPath(),ca:!1,da:i},this.databaseId,this.Tt,this.ignoreUndefinedProperties)}}function dd(n){const e=n._freezeSettings(),t=ap(n._databaseId);return new Jde(n._databaseId,!!e.ignoreUndefinedProperties,t)}function qA(n,e,t,r,i,o={}){const s=n.wa(o.merge||o.mergeFields?2:0,e,t,i);YA("Data must be an object, but it was:",s,r);const a=Yj(r,s);let c,l;if(o.merge)c=new ki(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const d of o.mergeFields){const f=fp(e,d,t);if(!s.contains(f))throw new Le(re.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Xj(u,f)||u.push(f)}c=new ki(u),l=s.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,l=s.fieldTransforms;return new Qde(new br(a),c,l)}class hp extends zA{_toFieldTransform(e){if(2!==e.ra)throw e.fa(1===e.ra?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hp}}function dl(n,e){if(Zj(n=Nn(n)))return YA("Unsupported field value:",e,n),Yj(n,e);if(n instanceof zA)return function(t,r){if(!Gj(r.ra))throw r.fa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.fa(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ca&&4!==e.ra)throw e.fa("Nested arrays are not supported");return function(t,r){const i=[];let o=0;for(const s of t){let a=dl(s,r.la(o));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),o++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=Nn(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return $U(r.Tt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Tn.fromDate(t);return{timestampValue:Zu(r.Tt,i)}}if(t instanceof Tn){const i=new Tn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Zu(r.Tt,i)}}if(t instanceof WA)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ul)return{bytesValue:o3(r.Tt,t._byteString)};if(t instanceof Wn){const i=r.databaseId,o=t.firestore._databaseId;if(!o.isEqual(i))throw r.fa(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:lT(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.fa(`Unsupported field value: ${my(t)}`)}(n,e)}function Yj(n,e){const t={};return lU(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yc(n,(r,i)=>{const o=dl(i,e.ua(r));null!=o&&(t[r]=o)}),{mapValue:{fields:t}}}function Zj(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Tn||n instanceof WA||n instanceof ul||n instanceof Wn||n instanceof zA)}function YA(n,e,t){if(!Zj(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=my(t);throw e.fa("an object"===r?n+" a custom object":n+" "+r)}var r}function fp(n,e,t){if((e=Nn(e))instanceof ud)return e._internalPath;if("string"==typeof e)return yy(n,e);throw _y("Field path arguments must be of type string or ",n,!1,void 0,t)}const rhe=new RegExp("[~\\*/\\[\\]]");function yy(n,e,t){if(e.search(rhe)>=0)throw _y(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ud(...e.split("."))._internalPath}catch(r){throw _y(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function _y(n,e,t,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new Le(re.INVALID_ARGUMENT,a+n+c)}function Xj(n,e){return n.some(t=>t.isEqual(e))}class ZA{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Wn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ihe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(by("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ihe extends ZA{data(){return super.data()}}function by(n,e){return"string"==typeof e?yy(n,e):e instanceof ud?e._internalPath:e._delegate._internalPath}class XA{}class ohe extends XA{}function she(n,e,...t){let r=[];e instanceof XA&&r.push(e),r=r.concat(t),function(i){const o=i.filter(a=>a instanceof hd).length,s=i.filter(a=>a instanceof pp).length;if(o>1||o>0&&s>0)throw new Le(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class pp extends ohe{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new pp(e,t,r)}_apply(e){const t=this._parse(e);return nH(e._query,t),new $r(e.firestore,e.converter,sT(e._query,t))}_parse(e){const t=dd(e.firestore);return function(i,o,s,a,c,l,u){let d;if(c.isKeyField()){if("array-contains"===l||"array-contains-any"===l)throw new Le(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if("in"===l||"not-in"===l){tH(u,l);const f=[];for(const v of u)f.push(eH(a,i,v));d={arrayValue:{values:f}}}else d=eH(a,i,u)}else"in"!==l&&"not-in"!==l&&"array-contains-any"!==l||tH(u,l),d=function Kj(n,e,t,r=!1){return dl(t,n.wa(r?4:3,e))}(s,"where",u,"in"===l||"not-in"===l);return Ft.create(c,l,d)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function ahe(n,e,t){const r=e,i=by("where",n);return pp._create(i,r,t)}class hd extends XA{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new hd(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:rn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let o=r;const s=i.getFlattenedFilters();for(const a of s)nH(o,a),o=sT(o,a)}(e._query,t),new $r(e.firestore,e.converter,sT(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function eH(n,e,t){if("string"==typeof(t=Nn(t))){if(""===t)throw new Le(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oT(e)&&-1!==t.indexOf("/"))throw new Le(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Ht.fromString(t));if(!Ze.isDocumentKey(r))throw new Le(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Qc(n,new Ze(r))}if(t instanceof Wn)return Qc(n,t._key);throw new Le(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${my(t)}.`)}function tH(n,e){if(!Array.isArray(n)||0===n.length)throw new Le(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nH(n,e){if(e.isInequality()){const r=Hv(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Le(re.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const o=iT(n);null!==o&&function rH(n,e,t){if(!t.isEqual(e))throw new Le(re.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}(0,i,o)}const t=function(r,i){for(const o of r)for(const s of o.getFlattenedFilters())if(i.indexOf(s.op)>=0)return s.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Le(re.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class che{convertValue(e,t="none"){switch(Xc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw st()}}convertObject(e,t){const r={};return Yc(e.fields,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertGeoPoint(e){return new WA(Fn(e.latitude),Fn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=dU(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Lf(e));default:return null}}convertTimestamp(e){const t=$a(e);return new Tn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ht.fromString(e);ht(g3(r));const i=new Kc(r.get(1),r.get(3)),o=new Ze(r.popFirst(5));return i.isEqual(t)||Hn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}class hl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fd extends ZA{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new wy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(by("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class wy extends fd{data(e={}){return super.data(e)}}class pd{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new hl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new wy(this._firestore,this._userDataWriter,r.key,r,new hl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Le(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(s=>({type:"added",doc:new wy(r._firestore,r._userDataWriter,s.doc.key,s.doc,new hl(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(s=>i||3!==s.type).map(s=>{const a=new wy(r._firestore,r._userDataWriter,s.doc.key,s.doc,new hl(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,l=-1;return 0!==s.type&&(c=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),1!==s.type&&(o=o.add(s.doc),l=o.indexOf(s.doc.key)),{type:uhe(s.type),doc:a,oldIndex:c,newIndex:l}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function uhe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return st()}}function dhe(n){n=$t(n,Wn);const e=$t(n.firestore,mn);return function Rj(n,e,t={}){const r=new lr;return n.asyncQueue.enqueueAndForget((0,T.Z)(function*(){return function(i,o,s,a,c){const l=new fy({next:d=>{o.enqueueAndForget(()=>oA(i,u));const f=d.docs.has(s);!f&&d.fromCache?c.reject(new Le(re.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&d.fromCache&&a&&"server"===a.source?c.reject(new Le(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(d)},error:d=>c.reject(d)}),u=new cA(zu(s.path),l,{includeMetadataChanges:!0,Ou:!0});return rA(i,u)}(yield ld(n),n.asyncQueue,e,t,r)})),r.promise}(er(e),n._key).then(t=>function e1(n,e,t){const r=t.docs.get(e._key),i=new Ya(n);return new fd(n,i,e._key,r,new hl(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}class Ya extends che{constructor(e){super(),this.firestore=e}convertBytes(e){return new ul(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wn(this.firestore,null,t)}}function hhe(n){n=$t(n,$r);const e=$t(n.firestore,mn),t=er(e),r=new Ya(e);return function Qj(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Le(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),function kj(n,e,t={}){const r=new lr;return n.asyncQueue.enqueueAndForget((0,T.Z)(function*(){return function(i,o,s,a,c){const l=new fy({next:d=>{o.enqueueAndForget(()=>oA(i,u)),d.fromCache&&"server"===a.source?c.reject(new Le(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),u=new cA(s,l,{includeMetadataChanges:!0,Ou:!0});return rA(i,u)}(yield ld(n),n.asyncQueue,e,t,r)})),r.promise}(t,n._query).then(i=>new pd(e,r,n,i))}function fhe(n,e,t){n=$t(n,Wn);const r=$t(n.firestore,mn),i=function JA(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e,t);return gp(r,[qA(dd(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,En.none())])}function phe(n,e,t,...r){n=$t(n,Wn);const i=$t(n.firestore,mn),o=dd(i);let s;return s="string"==typeof(e=Nn(e))||e instanceof ud?function qj(n,e,t,r,i,o){const s=n.wa(1,e,t),a=[fp(e,r,t)],c=[i];if(o.length%2!=0)throw new Le(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<o.length;f+=2)a.push(fp(e,o[f])),c.push(o[f+1]);const l=[],u=br.empty();for(let f=a.length-1;f>=0;--f)if(!Xj(l,a[f])){const v=a[f];let E=c[f];E=Nn(E);const x=s.ha(v);if(E instanceof hp)l.push(v);else{const N=dl(E,x);null!=N&&(l.push(v),u.set(v,N))}}const d=new ki(l);return new Hj(u,d,s.fieldTransforms)}(o,"updateDoc",n._key,e,t,r):function Wj(n,e,t,r){const i=n.wa(1,e,t);YA("Data must be an object, but it was:",i,r);const o=[],s=br.empty();Yc(r,(c,l)=>{const u=yy(e,c,t);l=Nn(l);const d=i.ha(u);if(l instanceof hp)o.push(u);else{const f=dl(l,d);null!=f&&(o.push(u),s.set(u,f))}});const a=new ki(o);return new Hj(s,a,i.fieldTransforms)}(o,"updateDoc",n._key,e),gp(i,[s.toMutation(n._key,En.exists(!0))])}function ghe(n){return gp($t(n.firestore,mn),[new Yu(n._key,En.none())])}function gp(n,e){return function(t,r){const i=new lr;return t.asyncQueue.enqueueAndForget((0,T.Z)(function*(){return function pde(n,e,t){return fA.apply(this,arguments)}(yield function UA(n){return py(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(er(n),e)}!function(n,e=!0){$u=Cu,pi(new Qr("firestore",(t,{instanceIdentifier:r,options:i})=>{const o=t.getProvider("app").getImmediate(),s=new mn(new Uce(t.getProvider("auth-internal")),new Gce(t.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Le(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kc(a.options.projectId,c)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),On(JB,"3.8.4",n),On(JB,"3.8.4","esm2017")}();class Dy{constructor(e){return e}}const sH="firestore",t1=new lt("angularfire2.firestore-instances");function Ihe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Dy(r)}}const She={provide:class bhe{constructor(){return US(sH)}},deps:[[new li,t1]]},whe={provide:Dy,useFactory:function Ehe(n,e){const t=BS(sH,n,e);return t&&new Dy(t)},deps:[[new li,t1],Mu]};let Che=(()=>{class n{constructor(){On("angularfire",Um.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jr({type:n}),n.\u0275inj=Dr({providers:[whe,She]}),n})();function Dhe(n,...e){return{ngModule:Che,providers:[{provide:t1,useFactory:Ihe(n),multi:!0,deps:[Me,Sn,o$,s$,[new li,hV],[new li,LV],...e]}]}}const mp=sr(Wde,!0),n1=sr(ghe,!0),Ty=sr($j,!0),The=sr(dhe,!0),vp=sr(hhe,!0),Ahe=sr(Yde,!0),r1=sr(she,!0),xhe=sr(fhe,!0),Mhe=sr(phe,!0),aH=sr(ahe,!0);let Ji=(()=>{class n{constructor(t){this.firestore=t,console.log("[FirebaseService.constructor]"),this.fs=t,this.auth=Hse()}signUp(t,r){return $(this,void 0,void 0,function*(){console.log("[FirebaseService.signUp]",{email:t,password:r});try{return Use(this.auth,t,r).then(i=>i)}catch(i){console.error(i)}})}signIn(t,r){return $(this,void 0,void 0,function*(){console.log("[FirebaseService.signIn]",{email:t,password:r});try{return zse(this.auth,t,r).then(i=>i)}catch(i){console.error(i)}})}signOut(){return $(this,void 0,void 0,function*(){return console.log("[FirebaseService.signOut]"),Wse(this.auth).then(t=>t)})}getAuthUser(){return console.log("[FirebaseService.getAuthUser]"),pV(this.auth)}updateAuthUser(t){return $(this,void 0,void 0,function*(){if(console.log("[FirebaseService.updateAuthUser]"),this.auth.currentUser)return qse(this.auth,this.auth.currentUser)})}deleteAuthUser(){if(console.log("[FirebaseService.deleteAuthUser]"),this.auth.currentUser)return jse(this.auth.currentUser)}sendVerificationMail(){return $(this,void 0,void 0,function*(){return pV(this.auth)})}forgotPassword(t){return $(this,void 0,void 0,function*(){return Gse(this.auth,t,{url:"https://alexchristianqr.github.io/game-apps/#/login"})})}getRelationshipCollections(t){var r,i,o,s,a,c;return $(this,void 0,void 0,function*(){console.info("[FirebaseService.getRelationshipCollections]",{params:t});const l=r1(mp(this.fs,t.nameCollection)),u=yield vp(l),d=[];for(const f of u.docs){const v=f.data();for(let E of t.joinReferences){let N,X,Ee,x=E.nameCollection;switch(E.type){case"join":X=r1(mp(this.fs,x),aH(null===(r=E.filter)||void 0===r?void 0:r.key,null===(i=E.filter)||void 0===i?void 0:i.type,v[null===(o=E.filter)||void 0===o?void 0:o.value])),Ee=yield vp(X),N=Ee.docs.map(z=>z.data()),v[x]=N;break;case"set":X=r1(mp(this.fs,x),aH(null===(s=E.filter)||void 0===s?void 0:s.key,null===(a=E.filter)||void 0===a?void 0:a.type,v[null===(c=E.filter)||void 0===c?void 0:c.value])),Ee=yield vp(X),N=Ee.docs.map(z=>z.data()),v[E.field]=N[0];break;default:throw new Error("El [type] no existe")}}d.push(v)}return console.info("[FirebaseService.getRelationshipCollections]",{data:d}),d})}getCollection(t){return $(this,void 0,void 0,function*(){const r=mp(this.fs,t),o=(yield vp(r)).docs.map(s=>Object.assign(Object.assign({},s.data()),{id:s.id}));return o.length>0?(console.log("[FirebaseService.getCollection]",{nameCollection:t,data:o}),o):null})}singleCollection(t,r){return $(this,void 0,void 0,function*(){const i=Ty(this.fs,t,r),s=(yield The(i)).data();return console.log("[FirebaseService.singleCollection]",{nameCollection:t,id:r,data:s}),s})}setCollection(t,r){return $(this,void 0,void 0,function*(){console.log("[FirebaseService.setCollection]",{nameCollection:t,data:r});let i=r.id;i||(i=BL()(),r.id=i);const o=Ty(this.fs,t,i);return xhe(o,r)})}updateCollection(t,r,i){return $(this,void 0,void 0,function*(){console.log("[FirebaseService.updateCollection]",{nameCollection:t,id:r,data:i});const o=Ty(this.fs,t,r);return Mhe(o,i)})}deleteCollection(t,r){return $(this,void 0,void 0,function*(){console.log("[FirebaseService.deleteCollection]",{nameCollection:t,id:r});const i=Ty(this.fs,t,r);return n1(i)})}purgeCollection(t){return $(this,void 0,void 0,function*(){console.log("[FirebaseService.purgeCollection]",{nameCollection:t});const r=["conversations","messages","participants","users"];for(let i of r){const o=mp(this.fs,i);(yield vp(o)).forEach(a=>{"users"===i&&a.is_admin||n1(a.ref)})}})}}return n.\u0275fac=function(t){return new(t||n)(Fe(Dy))},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ay=(()=>{class n{constructor(t){this.firebaseService=t,this.database="participants"}participant(t){return $(this,void 0,void 0,function*(){return console.log("[ParticipantService.participant]",{id:t}),this.firebaseService.singleCollection(this.database,t).then(r=>r||null)})}participants(t){return $(this,void 0,void 0,function*(){return console.log("[ParticipantService.participants]",{payload:t}),this.firebaseService.getCollection(this.database).then(r=>r||[])})}createParticipant(t){return $(this,void 0,void 0,function*(){return console.log("[ParticipantService.createParticipant]",{item:t}),this.firebaseService.setCollection(this.database,t)})}}return n.\u0275fac=function(t){return new(t||n)(Fe(Ji))},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yp=(()=>{class n{constructor(t,r){this.firebaseService=t,this.participantService=r,this.database="messages"}message(t){return $(this,void 0,void 0,function*(){return console.log("[MessageService.message]",{payload:t}),this.firebaseService.singleCollection(this.database,t.id).then(i=>i||null)})}messages(t){return $(this,void 0,void 0,function*(){return console.log("[MessageService.messages]",{payload:t}),this.firebaseService.getCollection(this.database).then(r=>$(this,void 0,void 0,function*(){if(!r)return[];const i=r.filter(o=>{var s,a;return!t||(t.hasOwnProperty("id")?o.id===t.id:t.hasOwnProperty("conversation_id")?(null===(s=null==o?void 0:o.conversation_id)||void 0===s?void 0:s.toString())===(null===(a=null==t?void 0:t.conversation_id)||void 0===a?void 0:a.toString()):[])});if(!i)return[];for(const o of i){const s=o.from.participant_id,a=o.to.participant_id;o.from.participant=yield this.participantService.participant(s),o.to.participant=yield this.participantService.participant(a)}return i}))})}createMessage(t){return $(this,void 0,void 0,function*(){return console.log("[MessageService.createMessage]",{item:t}),this.firebaseService.setCollection(this.database,t)})}updateMessage(t){return $(this,void 0,void 0,function*(){console.log("[MessageService.updateMessage]",{payload:t});const r=t.item.id;let i={};return t.keyItem&&t.valueItem.toString()&&(i[t.keyItem]=t.valueItem),t.dataItem&&(i=t.dataItem),this.firebaseService.updateCollection(this.database,r,i)})}}return n.\u0275fac=function(t){return new(t||n)(Fe(Ji),Fe(Ay))},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gd=(()=>{class n{constructor(t,r){this.firebaseService=t,this.participantService=r,this.database="conversations"}conversation(t){return $(this,void 0,void 0,function*(){return console.log("[ConversationService.conversation]",{id:t}),this.firebaseService.singleCollection(this.database,t).then(r=>r||null)})}conversations(t){return $(this,void 0,void 0,function*(){return console.log("[ConversationService.convesations]",{payload:t}),this.firebaseService.getCollection(this.database).then(r=>$(this,void 0,void 0,function*(){if(!r)return[];const i=r.filter(o=>!t||(t.hasOwnProperty("id")?o.id===t.id:t.hasOwnProperty("subject")?o.subject===t.subject:[]));if(!i)return[];for(const o of i){const s=o.participant_id;o.participant=yield this.participantService.participant(s)}return i}))})}createConversation(t){return $(this,void 0,void 0,function*(){console.log("[ConversationService.createConversation]",{item:t});const r=Object.assign(Object.assign({},t),{id:t.conversation_id,participant_id:t.from.participant_id,is_read:!1});return this.firebaseService.setCollection(this.database,r)})}updateConversation(t,r){return $(this,void 0,void 0,function*(){console.log("[ConversationService.updateConversation]",{payload:r});let i={};return r.keyItem&&r.valueItem.toString()&&(i[r.keyItem]=r.valueItem),r.dataItem&&(i=r.dataItem),this.firebaseService.updateCollection(this.database,t,i)})}deleteConversation(t){return $(this,void 0,void 0,function*(){return this.firebaseService.deleteCollection(this.database,t)})}existsConversation(t){return $(this,void 0,void 0,function*(){return console.log("[ConversationService.existsConversation]",{item:t}),this.conversation(t.conversation_id).then(i=>!!i)})}}return n.\u0275fac=function(t){return new(t||n)(Fe(Ji),Fe(Ay))},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cH=(()=>{class n{constructor(t,r){this.messageService=t,this.conversationService=r,this.MY_SHARED_PREFERENCES=ln,console.log("[SentService.constructor]")}getItems(){return $(this,void 0,void 0,function*(){console.log("[SentService.getItems]");let t=yield this.conversationService.conversations();t=t.filter(r=>!r.is_read);for(const r of t){const i=yield this.messageService.messages({conversation_id:r.id});i.sort((o,s)=>o>s?1:-1),r.messages=i}return t.sort((r,i)=>r>i?1:-1),t})}createItem(t){return $(this,void 0,void 0,function*(){return console.log("[SentService.createItem]",{item:t}),yield this.messageService.createMessage(t),this.conversationService.existsConversation(t).then(r=>r?this.conversationService.updateConversation(t.conversation_id,{dataItem:{message:t.message,participant_id:t.from.participant_id,is_read:!1}}):this.conversationService.createConversation(t))})}}return n.\u0275fac=function(t){return new(t||n)(Fe(yp),Fe(gd))},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var i1=me(1764);let dr=(()=>{class n{constructor(t,r,i,o){this.loadingCtrl=t,this.toastController=r,this.alertController=i,this.popoverCtrl=o}unixDate(){return i1().unix()}toISOStringDate(){return i1().toISOString()}formatDate(t,r="Y-MM-DD HH:mm:ss"){return i1(t).format(r)}showLoading(t="Cargando..."){return $(this,void 0,void 0,function*(){console.log("[UtilsService.showLoading]");const r=yield this.loadingCtrl.create({message:t});return yield r.present(),r})}presentToast(t){return $(this,void 0,void 0,function*(){console.log("[UtilsService.presentToast]");const r={};r.message=t.message,r.duration=t.duration||2500,r.position=t.position||"bottom",t.buttons&&(r.buttons=[{text:t.buttons[0].text||"OK",role:t.buttons[0].role||"cancel",handler:t.buttons[0].handler}]),yield(yield this.toastController.create(r)).present()})}presentAlert(t){var r,i,o,s;return $(this,void 0,void 0,function*(){console.log("[UtilsService.presentAlert]");const a={};a.header=t.header||null,t.subHeader&&(a.subHeader=t.subHeader),a.message=t.message||"Descripci\xf3n",a.buttons=[],t.buttons[0]&&a.buttons.push({text:(null===(r=t.buttons[0])||void 0===r?void 0:r.text)||"OK",role:(null===(i=t.buttons[0])||void 0===i?void 0:i.role)||"ok",handler:t.buttons[0].handler}),t.buttons[1]&&a.buttons.push({text:(null===(o=t.buttons[1])||void 0===o?void 0:o.text)||"CANCEL",role:(null===(s=t.buttons[1])||void 0===s?void 0:s.role)||"cancel",handler:t.buttons[1].handler}),yield(yield this.alertController.create(a)).present()})}presentPopover(t){return $(this,void 0,void 0,function*(){console.log("[UtilsService.presentPopover]");const r={};r.component=t.component,r.event=t.event,r.dismissOnSelect=t.dismissOnSelect||!0,yield(yield this.popoverCtrl.create(r)).present()})}}return n.\u0275fac=function(t){return new(t||n)(Fe(pJ),Fe(mJ),Fe(fJ),Fe(VL))},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ti=(()=>{class n{constructor(){this.dataSource=new fe,this.refreshSource$=this.dataSource.asObservable(),console.log("[EventService.constructor]")}publish(t){console.log("[EventService.publish]",{value:t}),console.log("refreshSource$ ->",this.refreshSource$),this.dataSource.next(t)}emitEvent(t){console.log("[EventService.emitEvent]",{value:t}),console.log("refreshSource$ ->",this.refreshSource$),this.dataSource.next(t)}createEvent(t){return console.log("[EventService.createEvent]",{value:t}),console.log("refreshSource$ ->",this.refreshSource$),this.dataSource.asObservable()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Rhe=me(4424),xy=me.n(Rhe);const My={SecureStorage:"ionicSecureStorage",IndexedDB:xy().INDEXEDDB,LocalStorage:xy().LOCALSTORAGE},lH={name:"_ionicstorage",storeName:"_ionickv",dbKey:"_ionickey",driverOrder:[My.SecureStorage,My.IndexedDB,My.LocalStorage]};class _p{constructor(e=lH){this._db=null,this._secureStorageDriver=null;const t=Object.assign({},lH,e||{});this._config=t}create(){var e=this;return(0,T.Z)(function*(){const t=xy().createInstance(e._config);return e._db=t,yield t.setDriver(e._config.driverOrder||[]),e})()}defineDriver(e){var t=this;return(0,T.Z)(function*(){return e._driver===My.SecureStorage&&(t._secureStorageDriver=e),xy().defineDriver(e)})()}get driver(){var e;return(null===(e=this._db)||void 0===e?void 0:e.driver())||null}assertDb(){if(!this._db)throw new Error("Database not created. Must call create() first");return this._db}get(e){return this.assertDb().getItem(e)}set(e,t){return this.assertDb().setItem(e,t)}remove(e){return this.assertDb().removeItem(e)}clear(){return this.assertDb().clear()}length(){return this.assertDb().length()}keys(){return this.assertDb().keys()}forEach(e){return this.assertDb().iterate(e)}setEncryptionKey(e){var t;if(!this._secureStorageDriver)throw new Error("@ionic-enterprise/secure-storage not installed. Encryption support not available");null===(t=this._secureStorageDriver)||void 0===t||t.setEncryptionKey(e)}}let uH=(()=>{class n{constructor(t,r){this.storage=t,this.firebaseService=r,this.conversations=[],this.messages=[],this.participants=[],this.users=[],this.initSharedPreferences=ln,this.myDatabases=["conversations","messages","participants","users"],this.mySharedPreferences="SHARED_PREFERENCES",console.log("[StoragedbService.constructor]"),this.storage.create().then(i=>$(this,void 0,void 0,function*(){console.log("My Driver DB is: ",i.driver),yield this.eachDatabases()}))}eachDatabases(){return $(this,void 0,void 0,function*(){yield this.loadSharedPreferences();for(let t of this.myDatabases)yield this.loadDatabaseStorage(t)})}loadDatabaseStorage(t){return $(this,void 0,void 0,function*(){return console.log("[StoragedbService.loadDatabaseStorage]"),this.firebaseService.getCollection(t).then(r=>$(this,void 0,void 0,function*(){if(!r){if(!ln.SETTINGS.GENERAL_INITIALIZE_DATABASE)return[];let i=[];switch(t){case"conversations":i=this.conversations;break;case"messages":i=this.messages;break;case"participants":i=this.participants;break;case"users":i=this.users}return this.firebaseService.getCollection(t).then(o=>(console.log(`Cargar ${t} por defecto`),o))}if(console.log(`Cargar ${t} por cach\xe9`),"VERSION"!==t)return r}))})}loadSharedPreferences(){return $(this,void 0,void 0,function*(){return console.log("[StoragedbService.loadSharedPreferences]"),this.getStorage(this.mySharedPreferences).then(t=>{if(!t)return this.setStorage(this.mySharedPreferences,this.initSharedPreferences).then(i=>(console.log(`Cargar ${this.mySharedPreferences} por defecto`),i));console.log(`Cargar ${this.mySharedPreferences} por cach\xe9`);const r=Object.create(ln);for(let i in t.SETTINGS)r.SETTINGS[i]=t.SETTINGS[i];return ln.SETTINGS=r.SETTINGS,t})})}getStorage(t){return $(this,void 0,void 0,function*(){return console.log("[StoragedbService.getStorage]",{key:t}),this.storage.get(t)})}setStorage(t,r){return $(this,void 0,void 0,function*(){return console.log("[StoragedbService.setStorage]",{key:t,value:r}),this.storage.set(t,r)})}removeStorage(t){return $(this,void 0,void 0,function*(){console.log("[StoragedbService.removeStorage]",{key:t}),yield this.storage.remove(t)})}}return n.\u0275fac=function(t){return new(t||n)(Fe(_p),Fe(Ji))},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_i=(()=>{class n{constructor(t,r){this.storagedbService=t,this.firebaseService=r,this.MY_SHARED_PREFERENCES=ln,console.log("[ApiService.constructor]")}getItems(t){return $(this,void 0,void 0,function*(){return console.log("[ApiService.getItems]",{database:t}),this.firebaseService.getCollection(t)})}createItem(t,r){return $(this,void 0,void 0,function*(){return console.log("[ApiService.createItem]",{database:t,item:r}),this.storagedbService.getStorage(t).then(i=>i?(i.push(r),this.storagedbService.setStorage(t,i)):[])})}updateItem(t,r,i,o){return $(this,void 0,void 0,function*(){return console.log("[ApiService.updateItem]",{keyItem:i,valueItem:o}),this.storagedbService.getStorage(t).then(s=>$(this,void 0,void 0,function*(){const a=s.find(c=>c.id===r.id);a&&(a[i]=o,yield this.storagedbService.setStorage(t,s))}))})}deleteItem(t,r){return $(this,void 0,void 0,function*(){return console.log("[ApiService.deleteItem]"),this.storagedbService.getStorage(t).then(i=>{const o=i.filter(s=>s.id!=r.id);this.storagedbService.setStorage(t,o)})})}purgeItems(t){return $(this,void 0,void 0,function*(){return console.log("[ApiService.purgeItems]"),this.firebaseService.purgeCollection(t)})}getUniqueUID(){return $(this,void 0,void 0,function*(){return BL()()})}db(){return $(this,void 0,void 0,function*(){return{create:(i,o)=>(console.log("[ApiService.db.create]",{key:i,value:o}),this.storagedbService.setStorage(i,o)),get:i=>(console.log("[ApiService.db.get]",{key:i}),this.storagedbService.getStorage(i))}})}get getDatabases(){return this.storagedbService.myDatabases}loadDatabase(t){return this.storagedbService.loadDatabaseStorage(t)}}return n.\u0275fac=function(t){return new(t||n)(Fe(uH),Fe(Ji))},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function khe(n,e){if(1&n){const t=Jt();w(0,"ion-item",10),xe("click",function(){const o=Ot(t).$implicit;return Pt(it().trackItems(o))}),w(1,"ion-avatar",11),oe(2),C(),w(3,"ion-label"),oe(4),C(),Ve(5,"ion-radio",12),C()}if(2&n){const t=e.$implicit;W(1),le("ngClass",null!=t&&t.email?"color-"+t.email.charAt(0).toUpperCase():null),W(1),Kr(" ",null!=t&&t.email?t.email.charAt(0).toUpperCase():null," "),W(2),on(null==t?null:t.email),W(1),le("value",t)}}let Nhe=(()=>{class n{constructor(){this.items=[],this.selectionCancel=new tn,this.selectionChange=new tn,this.filteredItems=[],this.buttonCheck=!1}ngOnInit(){this.filteredItems=[...this.items],this.selectedParticipant=this.selectedItem}trackItems(t){console.log("[ModalSelectUserComponent.trackItems]",{item:t}),this.buttonCheck=!0,this.selectedParticipant=t}back(){console.log("[ModalSelectUserComponent.back]"),this.selectionCancel.emit()}ok(){var t,r;return $(this,void 0,void 0,function*(){console.log("[ModalSelectUserComponent.ok]",this.selectedParticipant);const i={[this.modalParams.field]:{email:null===(t=this.selectedParticipant)||void 0===t?void 0:t.email,participant_id:null===(r=this.selectedParticipant)||void 0===r?void 0:r.id}};yield this.selectionChange.emit(i)})}searchbarInput(t){return this.filterList(t.target.value)}filterList(t){return $(this,void 0,void 0,function*(){if(void 0===t)this.filteredItems=[...this.items];else{const r=t.toLowerCase();this.filteredItems=this.items.filter(i=>i.fullname.includes(r))}})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Se({type:n,selectors:[["app-modal-select-user"]],inputs:{items:"items",selectedItem:"selectedItem",modalParams:"modalParams"},outputs:{selectionCancel:"selectionCancel",selectionChange:"selectionChange"},decls:12,vars:3,consts:[["color","danger"],["slot","start",2,"width","100%"],["fill","clear","size","default",3,"click"],["slot","icon-only","name","arrow-back"],["animated","true","placeholder","Buscar"],["fill","clear","size","default",3,"disabled","click"],["slot","icon-only","name","checkmark"],["id","modal-list",3,"inset"],["value","participants"],["lines","full",3,"click",4,"ngFor","ngForOf"],["lines","full",3,"click"],[2,"opacity","0.8","width","1.75rem","height","1.75rem","margin-right","0.5rem",3,"ngClass"],["slot","end",3,"value"]],template:function(t,r){1&t&&(w(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1)(3,"ion-button",2),xe("click",function(){return r.back()}),Ve(4,"ion-icon",3),C(),Ve(5,"ion-searchbar",4),w(6,"ion-button",5),xe("click",function(){return r.ok()}),Ve(7,"ion-icon",6),C()()()(),w(8,"ion-content")(9,"ion-list",7)(10,"ion-radio-group",8),at(11,khe,6,4,"ion-item",9),C()()()),2&t&&(W(6),le("disabled",!r.buttonCheck),W(3),le("inset",!1),W(2),le("ngForOf",r.filteredItems))},dependencies:[iu,Wi,bu,Cn,jn,nn,Rn,_n,pn,Dn,Qn,yL,_L,PE,kn,hL,fL,_u],encapsulation:2}),n})();const Ohe=["modal"];function Phe(n,e){if(1&n&&(w(0,"ion-col",13),Ve(1,"ion-input",14),C()),2&n){const t=it();W(1),hc("value",t.formGroup),le("readonly",!0)}}function Fhe(n,e){if(1&n){const t=Jt();w(0,"ion-col",15)(1,"ion-input",16),xe("focusin",function(){return Ot(t),Pt(it().openModal(1))}),C()(),w(2,"ion-col",17)(3,"ion-button",18),xe("click",function(){return Ot(t),Pt(it().openModal(1))}),Ve(4,"ion-icon",19),C()()}if(2&n){const t=it();W(1),hc("value",t.formGroup)}}function Lhe(n,e){if(1&n&&(w(0,"ion-col",13),Ve(1,"ion-input",14),C()),2&n){const t=it();W(1),hc("value",t.formGroup),le("readonly",!0)}}function $he(n,e){if(1&n){const t=Jt();w(0,"ion-col",15)(1,"ion-input",16),xe("focusin",function(){return Ot(t),Pt(it().openModal(2))}),C()(),w(2,"ion-col",17)(3,"ion-button",18),xe("click",function(){return Ot(t),Pt(it().openModal(2))}),Ve(4,"ion-icon",19),C()()}if(2&n){const t=it();W(1),hc("value",t.formGroup)}}function Vhe(n,e){if(1&n){const t=Jt();w(0,"app-modal-select-user",20),xe("selectionChange",function(i){return Ot(t),Pt(it().onChangeSelectedParticipant(i))})("selectionCancel",function(){return Ot(t),Pt(it().onCancelSelectedParticipant())}),C()}if(2&n){const t=it();le("modalParams",t.modalParams)("items",t.participants)("selectedItem",t.selectedParticipant)}}let Bhe=(()=>{class n{constructor(t,r,i,o,s,a,c){this.sentService=t,this.utilsService=r,this.eventService=i,this.apiService=o,this.formBuilder=s,this.router=a,this.participantService=c,this.MY_SHARED_PREFERENCES=ln,this.loading=!1,this.modalParams={},this.participants=[],console.log("[CreateInbox.constructor]"),this.getState(),this.formGroup=this.formGroupInitialize(),this.participantService.participants().then(l=>{this.participants=l})}getState(){var t;console.log("[CreateInbox.getState]"),this.data=null===(t=this.router.getCurrentNavigation())||void 0===t?void 0:t.extras.state}formGroupInitialize(){var t,r,i,o,s,a,c,l,u,d,f,v,E,x,N,X;return console.log("[CreateInbox.formGroupInitialize]",this.data),this.formBuilder.group({id:this.formBuilder.control(null,[Un.required]),conversation_id:this.formBuilder.control(null===(r=null===(t=this.data)||void 0===t?void 0:t.item)||void 0===r?void 0:r.conversation_id,[Un.required]),message:this.formBuilder.control('-\n\nSaludos.\n\nEquipo de GMAIL (clone)\nLima / Peru\n\n"La disciplina tarde o temprano vencer\xe1 a la inteligencia" - Y.K.D.',[Un.required]),from:this.formBuilder.group({email:this.formBuilder.control(null===(s=null===(o=null===(i=this.data)||void 0===i?void 0:i.item)||void 0===o?void 0:o.from)||void 0===s?void 0:s.email,[Un.required,Un.email]),participant_id:this.formBuilder.control(null===(l=null===(c=null===(a=this.data)||void 0===a?void 0:a.item)||void 0===c?void 0:c.from)||void 0===l?void 0:l.participant_id,[Un.required])}),to:this.formBuilder.group({email:this.formBuilder.control(null===(f=null===(d=null===(u=this.data)||void 0===u?void 0:u.item)||void 0===d?void 0:d.to)||void 0===f?void 0:f.email,[Un.required,Un.email]),participant_id:this.formBuilder.control(null===(x=null===(E=null===(v=this.data)||void 0===v?void 0:v.item)||void 0===E?void 0:E.to)||void 0===x?void 0:x.participant_id,[Un.required])}),subject:this.formBuilder.control(null===(X=null===(N=this.data)||void 0===N?void 0:N.item)||void 0===X?void 0:X.subject,[Un.required]),created_at:this.formBuilder.control(this.utilsService.toISOStringDate(),[Un.required])})}onSubmit(){return $(this,void 0,void 0,function*(){console.log("[CreateInbox.onSubmit]"),this.submitted=!0;const t=yield this.getUniqueUID();this.formGroup.patchValue({id:t});const{conversation_id:r}=this.formGroup.value;if(!r){const s=yield this.getUniqueUID();this.formGroup.patchValue({conversation_id:s})}if(this.formGroup.invalid)return this.presentAlert();this.loading=!0;const i=this.formGroup.value,o=()=>this.sentService.createItem(i).then(()=>{this.eventService.publish(),this.router.navigate(["mail/inbox"])}).catch(s=>{console.error(s)});if(!this.MY_SHARED_PREFERENCES.SETTINGS.INBOX_CONFIRM_BEFORE_SENT)return o();yield this.utilsService.presentAlert({subHeader:"\xbfEst\xe1 seguro de enviar el mensaje?",message:"Esta acci\xf3n enviar\xe1 tu mensaje a la lista de enviados.",buttons:[{text:"OK",role:"ok",handler:()=>o()},{handler:()=>({})}]})})}getUniqueUID(){return console.log("[CreateInbox.getUniqueUID]"),this.apiService.getUniqueUID()}onChangeSelectedParticipant(t){return $(this,void 0,void 0,function*(){console.log("[CreateInbox.onChangeSelectParticipant]",t),this.selectedParticipant=t,this.formGroup.patchValue(t),this.closeModal(),yield this.modal.dismiss()})}onCancelSelectedParticipant(){return $(this,void 0,void 0,function*(){console.log("[CreateInbox.onCancelSelectParticipant]"),this.closeModal()})}openModal(t){return $(this,void 0,void 0,function*(){switch(console.log("[CreateInbox.openModal]",{index:t}),t){case 1:this.modalParams={field:"from"};break;case 2:this.modalParams={field:"to"};break;default:new Error("No existe el \xedndice")}this.modal.isOpen=!0})}closeModal(){this.modal.isOpen=!1}back(){return $(this,void 0,void 0,function*(){console.log("[CreateInbox.back]"),yield this.router.navigate([this.data.path])})}presentAlert(){return $(this,void 0,void 0,function*(){console.log("[CreateInbox.presentAlert]"),yield this.utilsService.presentAlert({message:"No se puede enviar tu mensaje, porque hay campos vacios.",buttons:[{text:"OK",role:"cancel",handler:()=>({})}]})})}presentPopover(t){return $(this,void 0,void 0,function*(){console.log("[CreateInbox.presentPopover]"),yield this.utilsService.presentPopover({component:IJ,event:t})})}}return n.\u0275fac=function(t){return new(t||n)(g(cH),g(dr),g(ti),g(_i),g(DE),g(Dt),g(Ay))},n.\u0275cmp=Se({type:n,selectors:[["app-create-inbox"]],viewQuery:function(t,r){if(1&t&&function $0(n,e,t){const r=Bt();r.firstCreatePass&&(Jk(r,new Zk(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),Qk(r,Ae(),e)}(Ohe,7),2&t){let i;Mo(i=Ro())&&(r.modal=i.first)}},decls:36,vars:8,consts:[["color","danger"],["slot","start"],[3,"click"],["slot","icon-only","name","arrow-back"],["slot","end"],["slot","icon-only","name","send"],["slot","icon-only","name","ellipsis-vertical"],[3,"formGroup"],[3,"formGroupName"],[3,"ngIf"],["placeholder","Asunto","formControlName","subject","type","text",3,"value"],["formControlName","message","rows","10","cols","10"],["modal",""],["size","12"],["formControlName","email","type","text",3,"value","readonly"],["size","9"],["formControlName","email","type","text",3,"value","focusin"],["size","3"],["fill","clear","color","danger","size","default",1,"ion-float-end",3,"click"],["slot","icon-only","name","search"],[1,"ion-page",3,"modalParams","items","selectedItem","selectionChange","selectionCancel"]],template:function(t,r){1&t&&(w(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1)(3,"ion-button",2),xe("click",function(){return r.back()}),Ve(4,"ion-icon",3),C()(),w(5,"ion-title"),oe(6,"Nuevo mensaje"),C(),w(7,"ion-buttons",4)(8,"ion-button",2),xe("click",function(){return r.onSubmit()}),Ve(9,"ion-icon",5),C(),w(10,"ion-button",2),xe("click",function(o){return r.presentPopover(o)}),Ve(11,"ion-icon",6),C()()()(),w(12,"ion-content")(13,"form",7)(14,"ion-list")(15,"ion-item",8)(16,"ion-label"),oe(17,"De"),C(),w(18,"ion-grid")(19,"ion-row"),at(20,Phe,2,2,"ng-template",9),at(21,Fhe,5,1,"ng-template",9),C()()(),w(22,"ion-item",8)(23,"ion-label"),oe(24,"Para"),C(),w(25,"ion-grid")(26,"ion-row"),at(27,Lhe,2,2,"ng-template",9),at(28,$he,5,1,"ng-template",9),C()()(),w(29,"ion-item"),Ve(30,"ion-input",10),C(),w(31,"ion-item"),Ve(32,"ion-textarea",11),C()()()(),w(33,"ion-modal",null,12),at(35,Vhe,1,3,"ng-template"),C()),2&t&&(W(13),le("formGroup",r.formGroup),W(2),le("formGroupName","from"),W(5),le("ngIf",null==r.data||null==r.data.payload?null:r.data.payload.fromTo),W(1),le("ngIf",!(null!=r.data&&null!=r.data.payload&&r.data.payload.fromTo)),W(1),le("formGroupName","to"),W(5),le("ngIf",null==r.data||null==r.data.payload?null:r.data.payload.fromTo),W(1),le("ngIf",!(null!=r.data&&null!=r.data.payload&&r.data.payload.fromTo)),W(2),hc("value",r.formGroup))},dependencies:[Im,Ai,fm,mu,Nh,Sm,Ti,Cn,jn,Cc,nn,Dc,Rn,_n,Vh,pn,Dn,Qn,Ac,IL,Xr,kn,LL,_u,Nhe],encapsulation:2}),n})(),us=(()=>{class n{constructor(t){this.storagedbService=t,this.mySharedPreferences="SHARED_PREFERENCES",console.log("[PreferencesService.constructor]")}update(t){return $(this,void 0,void 0,function*(){console.log("[PreferencesService.update]",{item:t});const r=this.mySharedPreferences;return yield this.storagedbService.removeStorage(r),this.storagedbService.setStorage(r,t)})}}return n.\u0275fac=function(t){return new(t||n)(Fe(uH))},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Uhe=(()=>{class n{constructor(t,r){this.preferencesService=t,this.router=r,this.MY_SHARED_PREFERENCES=ln,console.log("[ModalSettingsCreateInbox.constructor]")}back(){return $(this,void 0,void 0,function*(){console.log("[ModalSettingsCreateInbox.back]"),yield this.router.navigate(["mail/create"])})}updateMyPreferences(){return $(this,void 0,void 0,function*(){console.log("[ModalSettingsCreateInbox.updateMyPreferences]"),yield this.preferencesService.update(this.MY_SHARED_PREFERENCES)})}}return n.\u0275fac=function(t){return new(t||n)(g(us),g(Dt))},n.\u0275cmp=Se({type:n,selectors:[["app-modal-settings-create-inbox"]],decls:19,vars:1,consts:[["color","danger"],["slot","start"],[3,"click"],["slot","icon-only","name","arrow-back"],["lines","full"],[3,"ngModel","ngModelChange","click"]],template:function(t,r){1&t&&(w(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1)(3,"ion-button",2),xe("click",function(){return r.back()}),Ve(4,"ion-icon",3),C()(),w(5,"ion-title"),oe(6,"Configuraci\xf3n"),C()()(),w(7,"ion-content")(8,"ion-list")(9,"ion-list-header")(10,"h2"),oe(11,"Preguntar antes de"),C()(),w(12,"ion-item",4)(13,"ion-label")(14,"h2"),oe(15,"Enviar mensaje"),C(),w(16,"p"),oe(17,"Solicitar confirmaci\xf3n antes de enviar."),C()(),w(18,"ion-checkbox",5),xe("ngModelChange",function(o){return r.MY_SHARED_PREFERENCES.SETTINGS.INBOX_CONFIRM_BEFORE_SENT=o})("click",function(){return r.updateMyPreferences()}),C()()()()),2&t&&(W(18),le("ngModel",r.MY_SHARED_PREFERENCES.SETTINGS.INBOX_CONFIRM_BEFORE_SENT))},dependencies:[Ai,go,Cn,jn,Fo,nn,Rn,_n,pn,Dn,Qn,Lo,Xr,kn,Po],encapsulation:2}),n})();function jhe(n,e){if(1&n){const t=Jt();w(0,"ion-item",1),xe("click",function(){const o=Ot(t).$implicit;return Pt(it().open(o))}),oe(1),C()}if(2&n){const t=e.$implicit;le("button",!0)("detail",!1),W(1),Kr(" ",t.title," ")}}let Hhe=(()=>{class n{constructor(t,r,i,o){this.utilsService=t,this.eventService=r,this.apiService=i,this.router=o,this.myDatabase="DATABASE_INBOX",this.items=[{title:"Configuraci\xf3n",path:"mail/inbox-settings"}],console.log("[PopoverListInbox.constructor]")}open(t){return $(this,void 0,void 0,function*(){console.log("[PopoverListInbox.open]"),t.path?yield this.router.navigate([t.path]):"presentAlert"===t.dispatch&&(yield this.presentAlert())})}presentAlert(){return $(this,void 0,void 0,function*(){console.log("[PopoverListInbox.presentAlert]"),yield this.utilsService.presentAlert({subHeader:"\xbfEst\xe1 seguro de limpiar la base de datos INBOX?",message:"Esta acci\xf3n eliminar\xe1 todos los registros.",buttons:[{handler:()=>{this.apiService.purgeItems(this.myDatabase).then(()=>{this.eventService.publish(),this.presentToast("Base de datos limpiada")})}},{handler:()=>({})}]})})}presentToast(t){return $(this,void 0,void 0,function*(){console.log("[PopoverListInbox.presentToast]"),yield this.utilsService.presentToast({message:t})})}}return n.\u0275fac=function(t){return new(t||n)(g(dr),g(ti),g(_i),g(Dt))},n.\u0275cmp=Se({type:n,selectors:[["app-popover-list-inbox"]],decls:2,vars:1,consts:[[3,"button","detail","click",4,"ngFor","ngForOf"],[3,"button","detail","click"]],template:function(t,r){1&t&&(w(0,"ion-content"),at(1,jhe,2,3,"ion-item",0),C()),2&t&&(W(1),le("ngForOf",r.items))},dependencies:[Wi,nn,pn],encapsulation:2}),n})(),o1=(()=>{class n{constructor(t,r,i,o,s){this.utilsService=t,this.firebaseService=r,this.apiService=i,this.conversationService=o,this.messageService=s,this.MY_SHARED_PREFERENCES=ln,console.log("[InboxService.constructor]")}getItems(){return $(this,void 0,void 0,function*(){console.log("[InboxService.getItems]"),console.time("InboxService.getItems");let t=yield this.conversationService.conversations();t=t.filter(r=>!r.is_deleted);for(const r of t){let i=yield this.messageService.messages({conversation_id:r.id});i.sort((o,s)=>new Date(o.created_at)<new Date(s.created_at)?1:-1),r.messages=i}return t.sort((r,i)=>r>i?1:-1),console.timeEnd("InboxService.getItems"),t})}deleteItem(t){return $(this,void 0,void 0,function*(){return console.log("[InboxService.deleteItem]"),this.conversationService.deleteConversation(t.id)})}updateDataItem(t,r){return $(this,void 0,void 0,function*(){return console.log("[InboxService.updateDataItem]",{dataItem:r}),this.conversationService.updateConversation(t.id,{dataItem:r})})}}return n.\u0275fac=function(t){return new(t||n)(Fe(dr),Fe(Ji),Fe(_i),Fe(gd),Fe(yp))},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ghe(n,e){if(1&n&&(w(0,"div",12),Ve(1,"ion-icon",13),C()),2&n){const t=it().$implicit;W(1),le("name",t.is_starred?"star":"")}}function zhe(n,e){if(1&n&&(w(0,"ion-text")(1,"div",14),oe(2),C()()),2&n){const t=it().$implicit;W(2),on(null==t||null==t.participant?null:t.participant.fullname)}}function Whe(n,e){if(1&n&&(w(0,"ion-text")(1,"div",15),oe(2),C()()),2&n){const t=it().$implicit;W(2),on(null==t||null==t.participant?null:t.participant.fullname)}}function qhe(n,e){if(1&n&&(w(0,"ion-text")(1,"div",16),oe(2),C(),w(3,"ion-label")(4,"div",17),oe(5),C()()()),2&n){const t=it().$implicit;W(2),on(t.subject),W(3),on(t.message)}}function Khe(n,e){if(1&n&&(w(0,"ion-text")(1,"div",18),oe(2),C(),w(3,"ion-label")(4,"div",17),oe(5),C()()()),2&n){const t=it().$implicit;W(2),on(t.subject),W(3),on(t.message)}}function Yhe(n,e){if(1&n){const t=Jt();w(0,"ion-item-option",20),xe("click",function(){Ot(t);const i=it(2).$implicit,o=cg(1);return Pt(it().unreadItem(i,o))}),Ve(1,"ion-icon",23),C()}}function Zhe(n,e){if(1&n){const t=Jt();w(0,"ion-item-options",19)(1,"ion-item-option",20),xe("click",function(){Ot(t);const i=it().$implicit,o=cg(1);return Pt(it().starredItem(i,o))}),Ve(2,"ion-icon",21),C(),at(3,Yhe,2,0,"ion-item-option",22),C()}if(2&n){const t=it().$implicit;W(3),le("ngIf",t.is_read)}}function Xhe(n,e){if(1&n){const t=Jt();w(0,"ion-item-options",24)(1,"ion-item-option",20),xe("click",function(){Ot(t);const i=it().$implicit,o=cg(1);return Pt(it().deleteItem(i,o))}),Ve(2,"ion-icon",25),C()()}}function Qhe(n,e){if(1&n){const t=Jt();w(0,"ion-item-sliding",null,1)(2,"ion-item",2),xe("click",function(){const o=Ot(t).$implicit;return Pt(it().actionItem(o))}),w(3,"table")(4,"tr")(5,"td",3)(6,"ion-avatar",4),oe(7),C()()(),w(8,"tr")(9,"td")(10,"table")(11,"tr")(12,"td",5)(13,"div",6),at(14,Ghe,2,1,"div",7),at(15,zhe,3,1,"ion-text",8),at(16,Whe,3,1,"ion-text",8),C()()()()()(),w(17,"tr")(18,"td",9),at(19,qhe,6,2,"ion-text",8),at(20,Khe,6,2,"ion-text",8),C()()()(),at(21,Zhe,4,1,"ion-item-options",10),at(22,Xhe,3,0,"ion-item-options",11),C()}if(2&n){const t=e.$implicit;W(6),le("ngClass","color-"+(null==t||null==t.participant?null:t.participant.fullname.charAt(0).toUpperCase())),W(1),Kr(" ",null==t||null==t.participant?null:t.participant.fullname.charAt(0).toUpperCase()," "),W(7),le("ngIf",t.is_starred),W(1),le("ngIf",t.is_read),W(1),le("ngIf",!t.is_read),W(3),le("ngIf",t.is_read),W(1),le("ngIf",!t.is_read),W(1),le("ngIf",!t.is_deleted),W(1),le("ngIf",!t.is_deleted)}}let Ry=(()=>{class n{constructor(t,r,i,o){this.eventService=t,this.utilsService=r,this.router=i,this.conversationService=o,this.items=[],this.actionItem=Function,this.MY_SHARED_PREFERENCES=ln}deleteItem(t,r){return $(this,void 0,void 0,function*(){console.log("[MessageItemsComponent.deleteItem]",{item:t});const i=()=>this.conversationService.updateConversation(t.id,{dataItem:{is_deleted:!0,deleted_at:this.utilsService.toISOStringDate(),updated_at:this.utilsService.toISOStringDate()}}).then(()=>{this.eventService.publish(),this.presentToast("Mensaje eliminado")}).catch(o=>{console.error(o)});if(!this.MY_SHARED_PREFERENCES.SETTINGS.GENERAL_CONFIRM_BEFORE_MESSAGE_TRASH)return i();yield this.utilsService.presentAlert({subHeader:"\xbfEst\xe1 seguro de eliminar el mensaje?",message:"Esta acci\xf3n enviar\xe1 tu mensaje a la bandeja de eliminados.",buttons:[{text:"OK",role:"ok",handler:()=>i()},{handler:()=>({})}]})})}starredItem(t,r){return $(this,void 0,void 0,function*(){return console.log("[MessageItemsComponent.starredItem]",{item:t}),(()=>this.conversationService.updateConversation(t.id,{dataItem:{is_starred:!t.is_starred,updated_at:this.utilsService.toISOStringDate()}}).then(()=>{t.is_starred=!t.is_starred,r.close(),this.presentToast("Mensaje actualizado")}).catch(o=>{console.error(o)}))()})}unreadItem(t,r){return $(this,void 0,void 0,function*(){return console.log("[MessageItemsComponent.unreadItem]",{item:t}),(()=>this.conversationService.updateConversation(t.id,{dataItem:{is_read:!1,updated_at:this.utilsService.toISOStringDate()}}).then(()=>{t.is_read=!1,r.close(),this.presentToast("Mensaje actualizado")}).catch(o=>{console.error(o)}))()})}presentToast(t){return $(this,void 0,void 0,function*(){console.log("[MessageItemsComponent.presentToast]"),yield this.utilsService.presentToast({message:t})})}}return n.\u0275fac=function(t){return new(t||n)(g(ti),g(dr),g(Dt),g(gd))},n.\u0275cmp=Se({type:n,selectors:[["app-message-items"]],inputs:{items:"items",actionItem:"actionItem"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],["itemSliding",""],["lines","full",3,"click"],["rowspan","3",2,"padding","0 0.75rem 0 0"],[2,"opacity","0.8","width","2.75rem","height","2.75rem",3,"ngClass"],[2,"padding","0.75rem 0 0 0.25rem"],[2,"display","flex"],["style","margin: 0 0.5rem 0 0",4,"ngIf"],[4,"ngIf"],[2,"padding","0.25rem 0.75rem 0.75rem 0.25rem"],["side","start",4,"ngIf"],["side","end",4,"ngIf"],[2,"margin","0 0.5rem 0 0"],["size","small","color","warning","slot","icon-only",2,"margin","0",3,"name"],[2,"font-size","1rem","margin-top","0.085rem"],[2,"font-size","1rem","font-weight","700","margin-top","0.085rem"],[2,"font-size","0.95rem"],[2,"font-size","0.85rem"],[2,"font-size","0.95rem","font-weight","600"],["side","start"],["color","dark",3,"click"],["slot","start","name","star","size","large"],["color","dark",3,"click",4,"ngIf"],["slot","start","name","mail","size","large"],["side","end"],["slot","start","name","trash","size","large"]],template:function(t,r){1&t&&at(0,Qhe,23,9,"ion-item-sliding",0),2&t&&le("ngForOf",r.items)},dependencies:[iu,Wi,Ti,bu,_n,pn,kE,NE,OE,Dn,jh],encapsulation:2}),n})();function Jhe(n,e){if(1&n){const t=Jt();w(0,"ion-button",5),xe("click",function(){return Ot(t),Pt(it().viewSearch())}),Ve(1,"ion-icon",13),C()}}function efe(n,e){if(1&n&&(w(0,"ion-list"),Ve(1,"app-message-items",14),C()),2&n){const t=it();W(1),le("items",t.items)("actionItem",t.viewDetail)}}function tfe(n,e){1&n&&(w(0,"ion-list",15)(1,"ion-label"),Ve(2,"ion-icon",16),w(3,"div"),oe(4,"No tienes mensajes en tu bandeja."),C()()())}let nfe=(()=>{class n{constructor(t,r,i,o,s){this.inboxService=t,this.utilsService=r,this.eventService=i,this.apiService=o,this.router=s,this.MY_SHARED_PREFERENCES=ln,this.items=[],console.log("[ListInbox.constructor]"),this.mySubscribe$=this.eventService.dataSource.subscribe(()=>this.listInbox()),this.listInbox().then()}ngOnDestroy(){return $(this,void 0,void 0,function*(){console.log("[ListInbox.ngOnDestroy]"),this.mySubscribe$.unsubscribe()})}listInbox(t=!0){return $(this,void 0,void 0,function*(){let r;console.log("[ListInbox.listInbox]"),t&&(r=yield this.utilsService.showLoading()),this.items=yield this.inboxService.getItems(),t&&(yield r.dismiss())})}refreshList(t){return $(this,void 0,void 0,function*(){console.log("[ListInbox.refreshList]"),setTimeout(()=>$(this,void 0,void 0,function*(){yield this.listInbox(!1),t.target.complete()}),2e3)})}viewDetail(t){return $(this,void 0,void 0,function*(){console.log("[ListInbox.viewDetail]");const r={item:t,path:"mail/inbox"};yield this.router.navigate(["mail/inbox-detail"],{state:r})})}viewSearch(){return $(this,void 0,void 0,function*(){console.log("[ListInbox.fnViewSearch]"),yield this.router.navigate(["mail/search"],{state:{database:"conversations",path:"mail/inbox"}})})}viewCreatePage(){return $(this,void 0,void 0,function*(){console.log("[ListInbox.viewCreatePage]"),yield this.router.navigate(["mail/create"],{state:{path:"mail/inbox"}})})}presentPopover(t){return $(this,void 0,void 0,function*(){console.log("[ListInbox.presentPopover]"),yield this.utilsService.presentPopover({component:Hhe,event:t})})}}return n.\u0275fac=function(t){return new(t||n)(g(o1),g(dr),g(ti),g(_i),g(Dt))},n.\u0275cmp=Se({type:n,selectors:[["app-list-inbox"]],decls:20,vars:3,consts:[["color","danger"],["slot","start"],["slot","icon-only","name","menu"],["slot","end"],[3,"click",4,"ngIf"],[3,"click"],["slot","icon-only","name","ellipsis-vertical"],["slot","fixed",3,"ionRefresh"],[4,"ngIf"],["class","ion-padding","style","height: 100%; display: flex; justify-content: center; align-items: center; text-align: center",4,"ngIf"],["slot","fixed","vertical","bottom","horizontal","end"],["color","danger",1,"my-icon",3,"click"],["name","create"],["slot","icon-only","name","search"],[3,"items","actionItem"],[1,"ion-padding",2,"height","100%","display","flex","justify-content","center","align-items","center","text-align","center"],["slot","icon-only","name","mail-outline","size","large"]],template:function(t,r){1&t&&(w(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1)(3,"ion-menu-toggle")(4,"ion-button"),Ve(5,"ion-icon",2),C()()(),w(6,"ion-title"),oe(7,"Inbox"),C(),w(8,"ion-buttons",3),at(9,Jhe,2,0,"ion-button",4),w(10,"ion-button",5),xe("click",function(o){return r.presentPopover(o)}),Ve(11,"ion-icon",6),C()()()(),w(12,"ion-content")(13,"ion-refresher",7),xe("ionRefresh",function(o){return r.refreshList(o)}),Ve(14,"ion-refresher-content"),C(),at(15,efe,2,2,"ion-list",8),at(16,tfe,5,0,"ion-list",9),w(17,"ion-fab",10)(18,"ion-fab-button",11),xe("click",function(){return r.viewCreatePage()}),Ve(19,"ion-icon",12),C()()()),2&t&&(W(9),le("ngIf",r.MY_SHARED_PREFERENCES.SETTINGS.INBOX_SHOW_BUTTON_SEARCH),W(6),le("ngIf",r.items.length>0),W(1),le("ngIf",r.items.length<1))},dependencies:[Ti,Cn,jn,nn,Lh,$h,Rn,_n,Dn,Qn,Tc,Bh,Uh,Xr,kn,Ry],encapsulation:2}),n})(),rfe=(()=>{class n{constructor(t,r){this.preferencesService=t,this.router=r,this.MY_SHARED_PREFERENCES=ln,console.log("[ModalSettingsListInbox.constructor]")}back(){return $(this,void 0,void 0,function*(){console.log("[ModalSettingsListInbox.back]"),yield this.router.navigate(["mail/inbox"])})}updateMyPreferences(){return $(this,void 0,void 0,function*(){console.log("[ModalSettingsListInbox.updateMyPreferences]"),yield this.preferencesService.update(this.MY_SHARED_PREFERENCES)})}}return n.\u0275fac=function(t){return new(t||n)(g(us),g(Dt))},n.\u0275cmp=Se({type:n,selectors:[["app-modal-settings-list-inbox"]],decls:19,vars:1,consts:[["color","danger"],["slot","start"],[3,"click"],["slot","icon-only","name","arrow-back"],["lines","full"],[3,"ngModel","ngModelChange","click"]],template:function(t,r){1&t&&(w(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1)(3,"ion-button",2),xe("click",function(){return r.back()}),Ve(4,"ion-icon",3),C()(),w(5,"ion-title"),oe(6,"Configuraci\xf3n"),C()()(),w(7,"ion-content")(8,"ion-list")(9,"ion-list-header")(10,"h3"),oe(11,"Acciones"),C()(),w(12,"ion-item",4)(13,"ion-label")(14,"h2"),oe(15,"Bot\xf3n buscar"),C(),w(16,"p"),oe(17,"Mostrar bot\xf3n de b\xfasqueda en la barra principal."),C()(),w(18,"ion-checkbox",5),xe("ngModelChange",function(o){return r.MY_SHARED_PREFERENCES.SETTINGS.INBOX_SHOW_BUTTON_SEARCH=o})("click",function(){return r.updateMyPreferences()}),C()()()()),2&t&&(W(18),le("ngModel",r.MY_SHARED_PREFERENCES.SETTINGS.INBOX_SHOW_BUTTON_SEARCH))},dependencies:[Ai,go,Cn,jn,Fo,nn,Rn,_n,pn,Dn,Qn,Lo,Xr,kn,Po],encapsulation:2}),n})();function ife(n,e){if(1&n){const t=Jt();w(0,"ion-item",1),xe("click",function(){const o=Ot(t).$implicit;return Pt(it().open(o))}),oe(1),C()}if(2&n){const t=e.$implicit;le("button",!0)("detail",!1),W(1),Kr(" ",t.title," ")}}let ofe=(()=>{class n{constructor(t){this.router=t,this.items=[{title:"Configuraci\xf3n",path:"mail/inbox-detail-settings"}],console.log("[PopoverDetailInbox.constructor]")}open(t){return $(this,void 0,void 0,function*(){console.log("[PopoverDetailInbox.open]"),yield this.router.navigate([t.path])})}}return n.\u0275fac=function(t){return new(t||n)(g(Dt))},n.\u0275cmp=Se({type:n,selectors:[["app-popover-detail-inbox"]],decls:2,vars:1,consts:[[3,"button","detail","click",4,"ngFor","ngForOf"],[3,"button","detail","click"]],template:function(t,r){1&t&&(w(0,"ion-content"),at(1,ife,2,3,"ion-item",0),C()),2&t&&(W(1),le("ngForOf",r.items))},dependencies:[Wi,nn,pn],encapsulation:2}),n})(),s1=(()=>{class n{constructor(t,r,i){this.messageService=t,this.firebaseService=r,this.conversationService=i,this.MY_SHARED_PREFERENCES=ln,console.log("[StarredService.constructor]")}getItems(){return $(this,void 0,void 0,function*(){console.log("[StarredService.getItems]");let t=yield this.conversationService.conversations();t=t.filter(r=>r.is_starred);for(const r of t){const i=yield this.messageService.messages({conversation_id:r.id});i.sort((o,s)=>o>s?1:-1),r.messages=i}return t.sort((r,i)=>r>i?1:-1),t})}updateDataItem(t,r){return $(this,void 0,void 0,function*(){return console.log("[StarredService.updateDataItem]",{dataItem:r}),this.conversationService.updateConversation(t.id,{dataItem:r})})}}return n.\u0275fac=function(t){return new(t||n)(Fe(yp),Fe(Ji),Fe(gd))},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sfe(n,e){if(1&n){const t=Jt();w(0,"ion-button",2),xe("click",function(){return Ot(t),Pt(it().deleteMessage())}),Ve(1,"ion-icon",11),C(),w(2,"ion-button",12),xe("click",function(){return Ot(t),Pt(it().undoMessage())}),Ve(3,"ion-icon",13),C()}}function afe(n,e){if(1&n){const t=Jt();w(0,"ion-button",2),xe("click",function(){return Ot(t),Pt(it(2).starredMessage("Mensaje marcado como destacado"))}),Ve(1,"ion-icon",17),C()}if(2&n){const t=it(2);W(1),le("name",null!=t.item&&t.item.is_starred?"star":"star-outline")}}function cfe(n,e){1&n&&(w(0,"ion-button"),Ve(1,"ion-icon",18),C())}function lfe(n,e){if(1&n){const t=Jt();w(0,"ion-button",2),xe("click",function(){return Ot(t),Pt(it(2).trashMessage())}),Ve(1,"ion-icon",11),C()}}function ufe(n,e){if(1&n){const t=Jt();w(0,"ion-button",2),xe("click",function(){return Ot(t),Pt(it(2).readUnreadMessage(!1,"Mensaje marcado como no le\xeddo"))}),Ve(1,"ion-icon",19),C()}}function dfe(n,e){if(1&n){const t=Jt();at(0,afe,2,1,"ion-button",14),at(1,cfe,2,0,"ion-button",15),at(2,lfe,2,0,"ion-button",14),at(3,ufe,2,0,"ion-button",14),w(4,"ion-button",12),xe("click",function(i){return Ot(t),Pt(it().presentPopover(i))}),Ve(5,"ion-icon",16),C()}if(2&n){const t=it();le("ngIf",t.MY_SHARED_PREFERENCES.SETTINGS.INBOX_SHOW_BUTTON_STARRED),W(1),le("ngIf",t.MY_SHARED_PREFERENCES.SETTINGS.INBOX_SHOW_BUTTON_ARCHIVE),W(1),le("ngIf",t.MY_SHARED_PREFERENCES.SETTINGS.INBOX_SHOW_BUTTON_REMOVE),W(1),le("ngIf",t.MY_SHARED_PREFERENCES.SETTINGS.INBOX_SHOW_BUTTON_UN_READ)}}function hfe(n,e){if(1&n){const t=Jt();w(0,"div",34),xe("click",function(){Ot(t);const i=it().$implicit;return Pt(it().viewCreatePage(i,!1))}),w(1,"ion-button",35),Ve(2,"ion-icon",36),w(3,"ion-text"),oe(4,"\xa0Reenviar"),C()()(),w(5,"div",37)(6,"ion-button",38),xe("click",function(){Ot(t);const i=it().$implicit;return Pt(it().viewCreatePage(i,!0))}),Ve(7,"ion-icon",39),w(8,"ion-text"),oe(9,"\xa0Responder"),C()()()}}function ffe(n,e){if(1&n&&(w(0,"ion-accordion",20)(1,"ion-item",21)(2,"ion-label")(3,"table",22)(4,"tr")(5,"td",23)(6,"ion-avatar",24),oe(7),C()(),w(8,"td",25)(9,"div",26)(10,"ion-text")(11,"div",27),oe(12),C(),w(13,"div",28),oe(14),C()()(),w(15,"div",29)(16,"ion-text")(17,"p",30),oe(18),C()()()()()()()(),w(19,"div",31)(20,"ion-grid")(21,"ion-row")(22,"ion-col",7)(23,"div",32)(24,"span",30),oe(25),C(),w(26,"span",30),oe(27),C()()(),w(28,"ion-col",7),Ve(29,"div",33),C(),w(30,"ion-col",7),at(31,hfe,10,0,"ng-template",5),C()()(),Ve(32,"ion-item-divider",9),C()()),2&n){const t=e.$implicit,r=e.index,i=it();let o,s;le("value",r),W(6),le("ngClass","color-"+(null==t||null==t.from||null==t.from.participant||null==t.from.participant.fullname||null==(o=t.from.participant.fullname.charAt(0))?null:o.toUpperCase())),W(1),Kr(" ",null==t||null==t.from||null==t.from.participant||null==t.from.participant.fullname||null==(s=t.from.participant.fullname.charAt(0))?null:s.toUpperCase()," "),W(5),on(null==t||null==t.from||null==t.from.participant?null:t.from.participant.fullname),W(2),Kr("De: ",null==t||null==t.from?null:t.from.email,""),W(4),on(i.utilsService.formatDate(t.created_at,"hh:mm A")),W(7),Kr("Para: ",null==t||null==t.to?null:t.to.email,". "),W(2),on(i.utilsService.formatDate(t.created_at,"MMM DD, hh:mm A")),W(2),le("innerHTML",null==t?null:t.message,nM),W(2),le("ngIf",!(null!=i.item&&i.item.is_deleted))}}let pfe=(()=>{class n{constructor(t,r,i,o,s,a){this.inboxService=t,this.starredService=r,this.utilsService=i,this.eventService=o,this.storage=s,this.router=a,this.MY_SHARED_PREFERENCES=ln,console.log("[DetailInbox.constructor]"),this.getState(),this.readUnreadMessage(!0,"Mensaje leido")}ngOnInit(){console.log("[DetailInbox.ngOnInit]"),this.getState()}getState(){var t;console.log("[DetailInbox.getState]"),this.data=null===(t=this.router.getCurrentNavigation())||void 0===t?void 0:t.extras.state,this.item=this.data.item}back(){return $(this,void 0,void 0,function*(){console.log("[DetailInbox.back]"),yield this.router.navigate([this.data.path])})}trashMessage(){return $(this,void 0,void 0,function*(){if(console.log("[DetailInbox.trashMessage]"),!this.item)return;const t=()=>this.inboxService.updateDataItem(this.item,{is_deleted:!0,deleted_at:this.utilsService.toISOStringDate()}).then(()=>{this.eventService.publish(),this.back(),this.presentToast("Mensaje movido")});if(!this.MY_SHARED_PREFERENCES.SETTINGS.GENERAL_CONFIRM_BEFORE_MESSAGE_TRASH)return t();yield this.utilsService.presentAlert({subHeader:"\xbfEst\xe1 seguro de eliminar este mensaje?",message:"Esta acci\xf3n mover\xe1 tu mensaje a la bandeja de eliminados.",buttons:[{text:"OK",role:"ok",handler:()=>t()},{handler:()=>({})}]})})}deleteMessage(){return $(this,void 0,void 0,function*(){if(console.log("[DetailInbox.deleteMessage]"),!this.item)return;const t=()=>this.inboxService.deleteItem(this.item).then(()=>{this.eventService.publish(),this.back(),this.presentToast("Mensaje eliminado")});if(!this.MY_SHARED_PREFERENCES.SETTINGS.GENERAL_CONFIRM_BEFORE_MESSAGE_DELETE)return t();yield this.utilsService.presentAlert({subHeader:"\xbfEst\xe1 seguro de eliminar este mensaje?",message:"Esta acci\xf3n eliminar\xe1 tu mensaje definitivamente.",buttons:[{text:"OK",role:"ok",handler:()=>t()},{handler:()=>({})}]})})}undoMessage(){return $(this,void 0,void 0,function*(){if(console.log("[DetailInbox.undoMessage]"),!this.item)return;const t=()=>this.inboxService.updateDataItem(this.item,{is_deleted:!1,deleted_at:null,updated_at:this.utilsService.toISOStringDate()}).then(()=>{this.eventService.publish(),this.back(),this.presentToast("Mensaje movido")});if(!this.MY_SHARED_PREFERENCES.SETTINGS.GENERAL_CONFIRM_BEFORE_MESSAGE_INBOX)return t();yield this.utilsService.presentAlert({subHeader:"\xbfEst\xe1 seguro de actualizar este mensaje eliminado?",message:"Esta acci\xf3n mover\xe1 tu mensaje a la bandeja de entrada.",buttons:[{text:"OK",role:"ok",handler:()=>t()},{handler:()=>({})}]})})}readUnreadMessage(t,r){if(console.log("[DetailInbox.readUnreadMessage]"),!this.item)throw new Error;this.item.is_read=t;const i=t,o=t;return this.inboxService.updateDataItem(this.item,{is_read:this.item.is_read,updated_at:this.utilsService.toISOStringDate()}).then(()=>$(this,void 0,void 0,function*(){i||(yield this.back()),o||(yield this.presentToast(r))}))}starredMessage(t){if(console.log("[DetailInbox.starredMessage]"),!this.item)return;this.item.is_starred=!this.item.is_starred;const s=!this.item.is_starred;this.starredService.updateDataItem(this.item,{is_starred:this.item.is_starred,updated_at:this.utilsService.toISOStringDate()}).then(()=>$(this,void 0,void 0,function*(){yield this.back(),s||(yield this.presentToast(t))}))}viewCreatePage(t,r=!1){return $(this,void 0,void 0,function*(){console.log("[DetailInbox.viewCreatePage]");const i=Object.assign({},t);if(r){const s=i.from;i.from=i.to,i.to=s}const o={path:"mail/inbox-detail",item:i,payload:{fromTo:r}};yield this.router.navigate(["mail/create"],{state:o})})}presentPopover(t){return $(this,void 0,void 0,function*(){console.log("[DetailInbox.presentPopover]"),yield this.utilsService.presentPopover({component:ofe,event:t})})}presentToast(t){return $(this,void 0,void 0,function*(){console.log("[DetailInbox.presentToast]"),yield this.utilsService.presentToast({message:t})})}}return n.\u0275fac=function(t){return new(t||n)(g(o1),g(s1),g(dr),g(ti),g(_p),g(Dt))},n.\u0275cmp=Se({type:n,selectors:[["app-detail-inbox"]],decls:17,vars:6,consts:[["color","danger"],["slot","start"],[3,"click"],["slot","icon-only","name","arrow-back"],["slot","end"],[3,"ngIf"],["value","0",3,"multiple","animated"],["size","12"],[2,"font-size","1.5rem","font-weight","500","padding","0.35rem 0"],[2,"margin","0"],["toggle-icon-slot","none",3,"value",4,"ngFor","ngForOf"],["slot","icon-only","name","trash"],[1,"p-r-15","my-icon",3,"click"],["slot","icon-only","name","arrow-undo"],[3,"click",4,"ngIf"],[4,"ngIf"],["slot","icon-only","name","ellipsis-vertical"],["slot","icon-only",3,"name"],["slot","icon-only","name","archive"],["slot","icon-only","name","mail"],["toggle-icon-slot","none",3,"value"],["slot","header","lines","full"],[2,"width","100%"],[2,"width","10%"],[2,"opacity","0.8","width","2.5rem","height","2.5rem",3,"ngClass"],[2,"padding-left","0.75rem","vertical-align","middle","width","80%"],[1,"ion-float-start"],[2,"font-size","1rem","font-weight","500","margin-bottom","0.15rem"],[2,"font-size","0.8rem","margin","0.15rem 0"],[1,"ion-float-end"],[2,"font-size","0.8rem"],["slot","content"],[1,"ion-float-left"],[2,"white-space","pre-line","text-align","justify","text-justify","inter-word",3,"innerHTML"],[1,"ion-float-left",3,"click"],["fill","clear","slot","end","color","danger"],["slot","icon-only","name","return-up-forward-outline"],[1,"ion-float-right"],["fill","clear","slot","start","color","danger",3,"click"],["slot","icon-only","name","return-up-back-outline"]],template:function(t,r){1&t&&(w(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1)(3,"ion-button",2),xe("click",function(){return r.back()}),Ve(4,"ion-icon",3),C()(),w(5,"ion-buttons",4),at(6,sfe,4,0,"ng-template",5),at(7,dfe,6,4,"ng-template",5),C()()(),w(8,"ion-content")(9,"ion-accordion-group",6)(10,"ion-grid")(11,"ion-row")(12,"ion-col",7)(13,"div",8),oe(14),C()()()(),Ve(15,"ion-item-divider",9),at(16,ffe,33,10,"ion-accordion",10),C()()),2&t&&(W(6),le("ngIf",null==r.item?null:r.item.is_deleted),W(1),le("ngIf",!(null!=r.item&&r.item.is_deleted)),W(2),le("multiple",!0)("animated",!0),W(5),on(null==r.item?null:r.item.subject),W(2),le("ngForOf",null==r.item?null:r.item.messages))},dependencies:[iu,Wi,Ti,pL,gL,bu,Cn,jn,Cc,nn,Dc,Rn,_n,pn,RE,Dn,Ac,jh,kn],styles:["ion-footer[_ngcontent-%COMP%]{background-color:#fff}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{padding:0 .5rem}ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{display:none;background-color:#0d0d0d}"]}),n})(),gfe=(()=>{class n{constructor(t,r){this.preferencesService=t,this.router=r,this.MY_SHARED_PREFERENCES=ln,console.log("[ModalSettingsDetailInbox.constructor]")}back(){return $(this,void 0,void 0,function*(){console.log("[ModalSettingsDetailInbox.back]"),yield this.router.navigate(["mail/inbox-detail"])})}updateMyPreferences(){return $(this,void 0,void 0,function*(){console.log("[ModalSettingsDetailInbox.updateMyPreferences]"),yield this.preferencesService.update(this.MY_SHARED_PREFERENCES)})}}return n.\u0275fac=function(t){return new(t||n)(g(us),g(Dt))},n.\u0275cmp=Se({type:n,selectors:[["app-modal-settings-detail-inbox"]],decls:50,vars:5,consts:[["color","danger"],["slot","start"],[3,"click"],["slot","icon-only","name","arrow-back"],["lines","full"],[3,"ngModel","ngModelChange","click"]],template:function(t,r){1&t&&(w(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1)(3,"ion-button",2),xe("click",function(){return r.back()}),Ve(4,"ion-icon",3),C()(),w(5,"ion-title"),oe(6,"Configuraci\xf3n"),C()()(),w(7,"ion-content")(8,"ion-list")(9,"ion-list-header")(10,"h3"),oe(11,"Acciones"),C()(),w(12,"ion-item",4)(13,"ion-label")(14,"h2"),oe(15,"Bot\xf3n eliminar"),C(),w(16,"p"),oe(17,"Mostrar bot\xf3n eliminar mensaje."),C()(),w(18,"ion-checkbox",5),xe("ngModelChange",function(o){return r.MY_SHARED_PREFERENCES.SETTINGS.INBOX_SHOW_BUTTON_REMOVE=o})("click",function(){return r.updateMyPreferences()}),C()(),w(19,"ion-item",4)(20,"ion-label")(21,"h2"),oe(22,"Bot\xf3n destacar"),C(),w(23,"p"),oe(24,"Mostrar bot\xf3n destacar mensaje."),C()(),w(25,"ion-checkbox",5),xe("ngModelChange",function(o){return r.MY_SHARED_PREFERENCES.SETTINGS.INBOX_SHOW_BUTTON_STARRED=o})("click",function(){return r.updateMyPreferences()}),C()(),w(26,"ion-item",4)(27,"ion-label")(28,"h2"),oe(29,"Bot\xf3n archivar"),C(),w(30,"p"),oe(31,"Mostrar bot\xf3n archivar mensaje."),C()(),w(32,"ion-checkbox",5),xe("ngModelChange",function(o){return r.MY_SHARED_PREFERENCES.SETTINGS.INBOX_SHOW_BUTTON_ARCHIVE=o})("click",function(){return r.updateMyPreferences()}),C()(),w(33,"ion-item",4)(34,"ion-label")(35,"h2"),oe(36,"Bot\xf3n no le\xeddo"),C(),w(37,"p"),oe(38,"Mostrar bot\xf3n mensaje no le\xeddo."),C()(),w(39,"ion-checkbox",5),xe("ngModelChange",function(o){return r.MY_SHARED_PREFERENCES.SETTINGS.INBOX_SHOW_BUTTON_UN_READ=o})("click",function(){return r.updateMyPreferences()}),C()(),w(40,"ion-list-header")(41,"h3"),oe(42,"Preguntar antes de"),C()(),w(43,"ion-item",4)(44,"ion-label")(45,"h2"),oe(46,"Eliminar mensaje"),C(),w(47,"p"),oe(48,"Solicitar confirmaci\xf3n antes de eliminar mensaje."),C()(),w(49,"ion-checkbox",5),xe("ngModelChange",function(o){return r.MY_SHARED_PREFERENCES.SETTINGS.GENERAL_CONFIRM_BEFORE_MESSAGE_TRASH=o})("click",function(){return r.updateMyPreferences()}),C()()()()),2&t&&(W(18),le("ngModel",r.MY_SHARED_PREFERENCES.SETTINGS.INBOX_SHOW_BUTTON_REMOVE),W(7),le("ngModel",r.MY_SHARED_PREFERENCES.SETTINGS.INBOX_SHOW_BUTTON_STARRED),W(7),le("ngModel",r.MY_SHARED_PREFERENCES.SETTINGS.INBOX_SHOW_BUTTON_ARCHIVE),W(7),le("ngModel",r.MY_SHARED_PREFERENCES.SETTINGS.INBOX_SHOW_BUTTON_UN_READ),W(10),le("ngModel",r.MY_SHARED_PREFERENCES.SETTINGS.GENERAL_CONFIRM_BEFORE_MESSAGE_TRASH))},dependencies:[Ai,go,Cn,jn,Fo,nn,Rn,_n,pn,Dn,Qn,Lo,Xr,kn,Po],encapsulation:2}),n})();function mfe(n,e){if(1&n){const t=Jt();w(0,"ion-item",1),xe("click",function(){const o=Ot(t).$implicit;return Pt(it().open(o))}),oe(1),C()}if(2&n){const t=e.$implicit;le("button",!0)("detail",!1),W(1),Kr(" ",t.title," ")}}let vfe=(()=>{class n{constructor(t,r,i,o){this.utilsService=t,this.eventService=r,this.apiService=i,this.router=o,this.myDatabase="DATABASE_INBOX",this.items=[{title:"Configuraci\xf3n",path:"mail/sent-settings"}],console.log("[PopoverListSent.constructor]")}open(t){return $(this,void 0,void 0,function*(){console.log("[PopoverListSent.open]"),t.path?yield this.router.navigate([t.path]):"presentAlert"===t.dispatch&&(yield this.presentAlert())})}presentAlert(){return $(this,void 0,void 0,function*(){console.log("[PopoverListSent.presentAlert]"),yield this.utilsService.presentAlert({subHeader:"\xbfEst\xe1 seguro de limpiar la base de datos INBOX?",message:"Esta acci\xf3n eliminar\xe1 todos los registros.",buttons:[{handler:()=>{this.apiService.purgeItems(this.myDatabase).then(()=>{this.eventService.publish(),this.presentToast("Base de datos limpiada")})}},{handler:()=>({})}]})})}presentToast(t){return $(this,void 0,void 0,function*(){console.log("[PopoverListSent.presentToast]"),yield this.utilsService.presentToast({message:t})})}}return n.\u0275fac=function(t){return new(t||n)(g(dr),g(ti),g(_i),g(Dt))},n.\u0275cmp=Se({type:n,selectors:[["app-popover-list-sent"]],decls:2,vars:1,consts:[[3,"button","detail","click",4,"ngFor","ngForOf"],[3,"button","detail","click"]],template:function(t,r){1&t&&(w(0,"ion-content"),at(1,mfe,2,3,"ion-item",0),C()),2&t&&(W(1),le("ngForOf",r.items))},dependencies:[Wi,nn,pn],encapsulation:2}),n})();function yfe(n,e){if(1&n){const t=Jt();w(0,"ion-button",5),xe("click",function(){return Ot(t),Pt(it().viewSearch())}),Ve(1,"ion-icon",13),C()}}function _fe(n,e){if(1&n&&(w(0,"ion-list"),Ve(1,"app-message-items",14),C()),2&n){const t=it();W(1),le("items",t.items)("actionItem",t.viewDetail)}}function bfe(n,e){1&n&&(w(0,"ion-list",15)(1,"ion-label"),Ve(2,"ion-icon",16),w(3,"div"),oe(4,"No tienes mensajes enviados."),C()()())}let Efe=(()=>{class n{constructor(t,r,i,o,s){this.sentService=t,this.utilsService=r,this.eventService=i,this.apiService=o,this.router=s,this.MY_SHARED_PREFERENCES=ln,this.items=[],console.log("[ListSent.constructor]"),this.mySubscribe$=this.eventService.dataSource.subscribe(()=>this.listSentMessages()),this.listSentMessages().then()}ngOnInit(){console.log("[ListSent.ngOnInit]"),this.listSentMessages().then()}ngOnDestroy(){console.log("[ListSent.ngOnDestroy]"),this.mySubscribe$.unsubscribe()}listSentMessages(t=!0){return $(this,void 0,void 0,function*(){let r;console.log("[ListSent.listSentMessages]"),t&&(r=yield this.utilsService.showLoading()),this.items=yield this.sentService.getItems(),t&&(yield r.dismiss())})}refreshList(t){return $(this,void 0,void 0,function*(){console.log("[ListSent.refreshList]"),setTimeout(()=>{this.listSentMessages(),t.target.complete()},2e3)})}viewDetail(t){return $(this,void 0,void 0,function*(){console.log("[ListSent.viewDetail]");const r={item:t,path:"mail/sent"};yield this.router.navigate(["mail/inbox-detail"],{state:r})})}viewCreatePage(){return $(this,void 0,void 0,function*(){console.log("[ListSent.viewCreatePage]"),yield this.router.navigate(["mail/create"],{state:{database:"conversations",path:"mail/sent"}})})}viewSearch(){return $(this,void 0,void 0,function*(){console.log("[ListSent.viewSearch]"),yield this.router.navigate(["mail/search"],{state:{database:"conversations",path:"mail/sent"}})})}presentPopover(t){return $(this,void 0,void 0,function*(){console.log("[ListSent.presentPopover]"),yield this.utilsService.presentPopover({component:vfe,event:t})})}}return n.\u0275fac=function(t){return new(t||n)(g(cH),g(dr),g(ti),g(_i),g(Dt))},n.\u0275cmp=Se({type:n,selectors:[["app-list-sent"]],decls:20,vars:3,consts:[["color","danger"],["slot","start"],["slot","icon-only","name","menu"],["slot","end"],[3,"click",4,"ngIf"],[3,"click"],["slot","icon-only","name","ellipsis-vertical"],["slot","fixed",3,"ionRefresh"],[4,"ngIf"],["class","ion-padding","style","height: 100%; display: flex; justify-content: center; align-items: center; text-align: center",4,"ngIf"],["slot","fixed","vertical","bottom","horizontal","end"],["color","danger",1,"my-icon",3,"click"],["name","create"],["slot","icon-only","name","search"],[3,"items","actionItem"],[1,"ion-padding",2,"height","100%","display","flex","justify-content","center","align-items","center","text-align","center"],["slot","icon-only","name","mail-open-outline","size","large"]],template:function(t,r){1&t&&(w(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1)(3,"ion-menu-toggle")(4,"ion-button"),Ve(5,"ion-icon",2),C()()(),w(6,"ion-title"),oe(7,"Enviados"),C(),w(8,"ion-buttons",3),at(9,yfe,2,0,"ion-button",4),w(10,"ion-button",5),xe("click",function(o){return r.presentPopover(o)}),Ve(11,"ion-icon",6),C()()()(),w(12,"ion-content")(13,"ion-refresher",7),xe("ionRefresh",function(o){return r.refreshList(o)}),Ve(14,"ion-refresher-content"),C(),at(15,_fe,2,2,"ion-list",8),at(16,bfe,5,0,"ion-list",9),w(17,"ion-fab",10)(18,"ion-fab-button",11),xe("click",function(){return r.viewCreatePage()}),Ve(19,"ion-icon",12),C()()()),2&t&&(W(9),le("ngIf",r.MY_SHARED_PREFERENCES.SETTINGS.SENT_SHOW_BUTTON_SEARCH),W(6),le("ngIf",r.items.length>0),W(1),le("ngIf",r.items.length<1))},dependencies:[Ti,Cn,jn,nn,Lh,$h,Rn,_n,Dn,Qn,Tc,Bh,Uh,Xr,kn,Ry],encapsulation:2}),n})(),Ife=(()=>{class n{constructor(t,r){this.preferencesService=t,this.router=r,this.MY_SHARED_PREFERENCES=ln,console.log("[ModalSettingsListSent.constructor]")}back(){return $(this,void 0,void 0,function*(){console.log("[ModalSettingsListSent.back]"),yield this.router.navigate(["mail/sent"])})}updateMyPreferences(){return $(this,void 0,void 0,function*(){console.log("[ModalSettingsListSent.updateMyPreferences]"),yield this.preferencesService.update(this.MY_SHARED_PREFERENCES)})}}return n.\u0275fac=function(t){return new(t||n)(g(us),g(Dt))},n.\u0275cmp=Se({type:n,selectors:[["app-modal-settings-list-sent"]],decls:19,vars:1,consts:[["color","danger"],["slot","start"],[3,"click"],["slot","icon-only","name","arrow-back"],["lines","full"],[3,"ngModel","ngModelChange","click"]],template:function(t,r){1&t&&(w(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1)(3,"ion-button",2),xe("click",function(){return r.back()}),Ve(4,"ion-icon",3),C()(),w(5,"ion-title"),oe(6,"Configuraci\xf3n"),C()()(),w(7,"ion-content")(8,"ion-list")(9,"ion-list-header")(10,"h3"),oe(11,"Acciones"),C()(),w(12,"ion-item",4)(13,"ion-label")(14,"h2"),oe(15,"Bot\xf3n buscar"),C(),w(16,"p"),oe(17,"Mostrar bot\xf3n de b\xfasqueda en la barra principal."),C()(),w(18,"ion-checkbox",5),xe("ngModelChange",function(o){return r.MY_SHARED_PREFERENCES.SETTINGS.SENT_SHOW_BUTTON_SEARCH=o})("click",function(){return r.updateMyPreferences()}),C()()()()),2&t&&(W(18),le("ngModel",r.MY_SHARED_PREFERENCES.SETTINGS.SENT_SHOW_BUTTON_SEARCH))},dependencies:[Ai,go,Cn,jn,Fo,nn,Rn,_n,pn,Dn,Qn,Lo,Xr,kn,Po],encapsulation:2}),n})();function Sfe(n,e){if(1&n){const t=Jt();w(0,"ion-item",1),xe("click",function(){const o=Ot(t).$implicit;return Pt(it().open(o))}),oe(1),C()}if(2&n){const t=e.$implicit;le("button",!0)("detail",!1),W(1),Kr(" ",t.title," ")}}let wfe=(()=>{class n{constructor(t,r,i,o){this.utilsService=t,this.eventService=r,this.apiService=i,this.router=o,this.items=[{title:"Configuraci\xf3n",path:"mail/starred-settings"}],console.log("[PopoverListStarred.constructor]")}open(t){return $(this,void 0,void 0,function*(){console.log("[PopoverListStarred.open]"),yield this.router.navigate([t.path])})}}return n.\u0275fac=function(t){return new(t||n)(g(dr),g(ti),g(_i),g(Dt))},n.\u0275cmp=Se({type:n,selectors:[["app-popover-list-starred"]],decls:2,vars:1,consts:[[3,"button","detail","click",4,"ngFor","ngForOf"],[3,"button","detail","click"]],template:function(t,r){1&t&&(w(0,"ion-content"),at(1,Sfe,2,3,"ion-item",0),C()),2&t&&(W(1),le("ngForOf",r.items))},dependencies:[Wi,nn,pn],encapsulation:2}),n})();function Cfe(n,e){if(1&n){const t=Jt();w(0,"ion-button",5),xe("click",function(){return Ot(t),Pt(it().viewSearch())}),Ve(1,"ion-icon",13),C()}}function Dfe(n,e){if(1&n&&(w(0,"ion-list"),Ve(1,"app-message-items",14),C()),2&n){const t=it();W(1),le("items",t.items)("actionItem",t.viewDetail)}}function Tfe(n,e){1&n&&(w(0,"ion-list",15)(1,"ion-label"),Ve(2,"ion-icon",16),w(3,"div"),oe(4,"No tienes mensajes destacados."),C()()())}let Afe=(()=>{class n{constructor(t,r,i,o,s){this.starredService=t,this.utilsService=r,this.eventService=i,this.apiService=o,this.router=s,this.MY_SHARED_PREFERENCES=ln,this.items=[],console.log("[ListStarred.constructor]"),this.mySubscribe$=this.eventService.dataSource.subscribe(()=>this.listStarredMessages()),this.listStarredMessages().then()}ngOnDestroy(){console.log("[ListStarred.ngOnDestroy]"),this.mySubscribe$.unsubscribe()}listStarredMessages(t=!0){return $(this,void 0,void 0,function*(){let r;console.log("[ListStarred.listStarredMessages]"),t&&(r=yield this.utilsService.showLoading()),this.items=yield this.starredService.getItems(),t&&(yield r.dismiss())})}refreshList(t){return $(this,void 0,void 0,function*(){console.log("[ListStarred.refreshList]"),setTimeout(()=>$(this,void 0,void 0,function*(){yield this.listStarredMessages(),t.target.complete()}),2e3)})}viewDetail(t){return $(this,void 0,void 0,function*(){console.log("[ListStarred.viewDetail]");const r={item:t,path:"mail/starred"};yield this.router.navigate(["mail/inbox-detail"],{state:r})})}viewCreatePage(){return $(this,void 0,void 0,function*(){console.log("[ListStarred.viewCreatePage]"),yield this.router.navigate(["mail/create"],{state:{database:"conversations",path:"mail/starred"}})})}viewSearch(){return $(this,void 0,void 0,function*(){console.log("[ListStarred.viewSearch]"),yield this.router.navigate(["mail/search"],{state:{database:"conversations",path:"mail/starred"}})})}presentPopover(t){return $(this,void 0,void 0,function*(){console.log("[ListStarred.presentPopover]"),yield this.utilsService.presentPopover({component:wfe,event:t})})}}return n.\u0275fac=function(t){return new(t||n)(g(s1),g(dr),g(ti),g(_i),g(Dt))},n.\u0275cmp=Se({type:n,selectors:[["app-list-starred"]],decls:20,vars:3,consts:[["color","danger"],["slot","start"],["slot","icon-only","name","menu"],["slot","end"],[3,"click",4,"ngIf"],[3,"click"],["slot","icon-only","name","ellipsis-vertical"],["slot","fixed",3,"ionRefresh"],[4,"ngIf"],["class","ion-padding","style","height: 100%; display: flex; justify-content: center; align-items: center; text-align: center",4,"ngIf"],["slot","fixed","vertical","bottom","horizontal","end"],["color","danger",1,"my-icon",3,"click"],["name","create"],["slot","icon-only","name","search"],[3,"items","actionItem"],[1,"ion-padding",2,"height","100%","display","flex","justify-content","center","align-items","center","text-align","center"],["slot","icon-only","name","star-outline","size","large"]],template:function(t,r){1&t&&(w(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1)(3,"ion-menu-toggle")(4,"ion-button"),Ve(5,"ion-icon",2),C()()(),w(6,"ion-title"),oe(7,"Destacados"),C(),w(8,"ion-buttons",3),at(9,Cfe,2,0,"ion-button",4),w(10,"ion-button",5),xe("click",function(o){return r.presentPopover(o)}),Ve(11,"ion-icon",6),C()()()(),w(12,"ion-content")(13,"ion-refresher",7),xe("ionRefresh",function(o){return r.refreshList(o)}),Ve(14,"ion-refresher-content"),C(),at(15,Dfe,2,2,"ion-list",8),at(16,Tfe,5,0,"ion-list",9),w(17,"ion-fab",10)(18,"ion-fab-button",11),xe("click",function(){return r.viewCreatePage()}),Ve(19,"ion-icon",12),C()()()),2&t&&(W(9),le("ngIf",r.MY_SHARED_PREFERENCES.SETTINGS.STARRED_SHOW_BUTTON_SEARCH),W(6),le("ngIf",r.items.length>0),W(1),le("ngIf",r.items.length<1))},dependencies:[Ti,Cn,jn,nn,Lh,$h,Rn,_n,Dn,Qn,Tc,Bh,Uh,Xr,kn,Ry],encapsulation:2}),n})(),xfe=(()=>{class n{constructor(t,r){this.preferencesService=t,this.router=r,this.MY_SHARED_PREFERENCES=ln,console.log("[ModalSettingsListStarred.constructor]")}back(){return $(this,void 0,void 0,function*(){console.log("[ModalSettingsListStarred.back]"),yield this.router.navigate(["mail/starred"])})}updateMyPreferences(){return $(this,void 0,void 0,function*(){console.log("[ModalSettingsListStarred.updateMyPreferences]"),yield this.preferencesService.update(this.MY_SHARED_PREFERENCES)})}}return n.\u0275fac=function(t){return new(t||n)(g(us),g(Dt))},n.\u0275cmp=Se({type:n,selectors:[["app-modal-settings-list-starred"]],decls:19,vars:1,consts:[["color","danger"],["slot","start"],[3,"click"],["slot","icon-only","name","arrow-back"],["lines","full"],[3,"ngModel","ngModelChange","click"]],template:function(t,r){1&t&&(w(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1)(3,"ion-button",2),xe("click",function(){return r.back()}),Ve(4,"ion-icon",3),C()(),w(5,"ion-title"),oe(6,"Configuraci\xf3n"),C()()(),w(7,"ion-content")(8,"ion-list")(9,"ion-list-header")(10,"h3"),oe(11,"Acciones"),C()(),w(12,"ion-item",4)(13,"ion-label")(14,"h2"),oe(15,"Bot\xf3n buscar"),C(),w(16,"p"),oe(17,"Mostrar bot\xf3n de b\xfasqueda en la barra principal."),C()(),w(18,"ion-checkbox",5),xe("ngModelChange",function(o){return r.MY_SHARED_PREFERENCES.SETTINGS.STARRED_SHOW_BUTTON_SEARCH=o})("click",function(){return r.updateMyPreferences()}),C()()()()),2&t&&(W(18),le("ngModel",r.MY_SHARED_PREFERENCES.SETTINGS.STARRED_SHOW_BUTTON_SEARCH))},dependencies:[Ai,go,Cn,jn,Fo,nn,Rn,_n,pn,Dn,Qn,Lo,Xr,kn,Po],encapsulation:2}),n})(),dH=(()=>{class n{constructor(t,r,i){this.messageService=t,this.firebaseService=r,this.conversationService=i,this.MY_SHARED_PREFERENCES=ln,console.log("[TrashService.constructor]")}getItems(){return $(this,void 0,void 0,function*(){console.log("[TrashService.getItems]");let t=yield this.conversationService.conversations();t=t.filter(r=>r.is_deleted);for(const r of t){const i=yield this.messageService.messages({conversation_id:r.id});i.sort((o,s)=>o>s?1:-1),r.messages=i}return t.sort((r,i)=>r>i?1:-1),t})}}return n.\u0275fac=function(t){return new(t||n)(Fe(yp),Fe(Ji),Fe(gd))},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Mfe(n,e){if(1&n){const t=Jt();w(0,"ion-button",11),xe("click",function(){return Ot(t),Pt(it().viewSearch())}),Ve(1,"ion-icon",12),C()}}function Rfe(n,e){if(1&n&&(w(0,"ion-list"),Ve(1,"app-message-items",13),C()),2&n){const t=it();W(1),le("items",t.items)("actionItem",t.viewDetail)}}function kfe(n,e){1&n&&(w(0,"ion-list",14)(1,"ion-label"),Ve(2,"ion-icon",15),w(3,"div"),oe(4,"No tienes mensajes eliminados."),C()()())}let Nfe=(()=>{class n{constructor(t,r,i,o,s){this.trashService=t,this.utilsService=r,this.eventService=i,this.apiService=o,this.router=s,this.MY_SHARED_PREFERENCES=ln,this.items=[],console.log("[ListTrash.constructor]"),this.mySubscribe$=this.eventService.dataSource.subscribe(()=>this.listTrashMessages()),this.listTrashMessages().then()}ngOnDestroy(){console.log("[ListTrash.ngOnDestroy]"),this.mySubscribe$.unsubscribe()}listTrashMessages(t=!0){return $(this,void 0,void 0,function*(){let r;console.log("[ListTrash.listTrashMessages]"),t&&(r=yield this.utilsService.showLoading()),this.items=yield this.trashService.getItems(),t&&(yield r.dismiss())})}refreshList(t){return $(this,void 0,void 0,function*(){console.log("[ListTrash.refreshList]"),setTimeout(()=>$(this,void 0,void 0,function*(){yield this.listTrashMessages(),t.target.complete()}),2e3)})}viewDetail(t){return $(this,void 0,void 0,function*(){console.log("[ListTrash.viewDetail]");const r={item:t,path:"mail/trash"};yield this.router.navigate(["mail/inbox-detail"],{state:r})})}viewCreatePage(){return $(this,void 0,void 0,function*(){console.log("[ListTrash.viewCreatePage]"),yield this.router.navigate(["mail/create"],{state:{database:"conversations",path:"mail/trash"}})})}viewSearch(){return $(this,void 0,void 0,function*(){console.log("[ListTrash.viewSearch]"),yield this.router.navigate(["mail/search"],{state:{database:"conversations",path:"mail/trash"}})})}}return n.\u0275fac=function(t){return new(t||n)(g(dH),g(dr),g(ti),g(_i),g(Dt))},n.\u0275cmp=Se({type:n,selectors:[["app-list"]],decls:18,vars:3,consts:[["color","danger"],["slot","start"],["slot","icon-only","name","menu"],["slot","end"],[3,"click",4,"ngIf"],["slot","fixed",3,"ionRefresh"],[4,"ngIf"],["class","ion-padding","style","height: 100%; display: flex; justify-content: center; align-items: center; text-align: center",4,"ngIf"],["slot","fixed","vertical","bottom","horizontal","end"],["color","danger",1,"my-icon",3,"click"],["name","create"],[3,"click"],["slot","icon-only","name","search"],[3,"items","actionItem"],[1,"ion-padding",2,"height","100%","display","flex","justify-content","center","align-items","center","text-align","center"],["slot","icon-only","name","trash-outline","size","large"]],template:function(t,r){1&t&&(w(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1)(3,"ion-menu-toggle")(4,"ion-button"),Ve(5,"ion-icon",2),C()()(),w(6,"ion-title"),oe(7,"Eliminados"),C(),w(8,"ion-buttons",3),at(9,Mfe,2,0,"ion-button",4),C()()(),w(10,"ion-content")(11,"ion-refresher",5),xe("ionRefresh",function(o){return r.refreshList(o)}),Ve(12,"ion-refresher-content"),C(),at(13,Rfe,2,2,"ion-list",6),at(14,kfe,5,0,"ion-list",7),w(15,"ion-fab",8)(16,"ion-fab-button",9),xe("click",function(){return r.viewCreatePage()}),Ve(17,"ion-icon",10),C()()()),2&t&&(W(9),le("ngIf",r.MY_SHARED_PREFERENCES.SETTINGS.TRASH_SHOW_BUTTON_SEARCH),W(4),le("ngIf",r.items.length>0),W(1),le("ngIf",r.items.length<1))},dependencies:[Ti,Cn,jn,nn,Lh,$h,Rn,_n,Dn,Qn,Tc,Bh,Uh,Xr,kn,Ry],encapsulation:2}),n})();const Ofe=function(){return["/signup"]},Pfe=function(){return["/signin"]};let Ffe=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Se({type:n,selectors:[["app-home"]],decls:10,vars:4,consts:[["id","ion-form",1,"ion-padding"],["size-xs","12","size-sm","12","size-md","7","size-lg","4","size-xl","4",1,"ion-align-self-center"],["size","large","expand","block","color","danger","fill","outline",3,"routerLink"],[1,"divider","line","one-line"],["size","large","expand","block","color","danger",3,"routerLink"]],template:function(t,r){1&t&&(w(0,"ion-content",0)(1,"ion-grid")(2,"ion-row")(3,"ion-col",1)(4,"ion-button",2),oe(5,"Registrarme"),C(),w(6,"span",3),oe(7,"o"),C(),w(8,"ion-button",4),oe(9,"Iniciar Sesi\xf3n"),C()()()()()),2&t&&(W(4),le("routerLink",x0(2,Ofe)),W(4),le("routerLink",x0(3,Pfe)))},dependencies:[Cn,Cc,nn,Dc,Ac,$E,Ec],styles:['.divider[_ngcontent-%COMP%]{display:flex}.divider[_ngcontent-%COMP%]:before, .divider[_ngcontent-%COMP%]:after{content:"";flex:1}.line[_ngcontent-%COMP%]{align-items:center;margin:1em -1em;color:#eb445a}.line[_ngcontent-%COMP%]:before, .line[_ngcontent-%COMP%]:after{height:1px;margin:0 1em}.one-line[_ngcontent-%COMP%]:before, .one-line[_ngcontent-%COMP%]:after{background:#eb445a}#ion-form[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%], #ion-form[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{height:100%;justify-content:center}.already[_ngcontent-%COMP%]{display:block;text-align:center;padding-bottom:.5rem}']}),n})();const Lfe=["*"];let hH=(()=>{class n{constructor(){this.showPassword=!1}toggleShow(){this.showPassword=!this.showPassword,this.input&&(this.input.type=this.showPassword?"text":"password")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Se({type:n,selectors:[["app-show-hide-password"]],contentQueries:function(t,r,i){if(1&t&&ks(i,Vh,5),2&t){let o;Mo(o=Ro())&&(r.input=o.first)}},ngContentSelectors:Lfe,decls:4,vars:2,consts:[["size","default","color","danger","fill","clear",3,"click"],["slot","icon-only","name","eye-off-outline",3,"hidden"],["slot","icon-only","name","eye-outline",3,"hidden"]],template:function(t,r){1&t&&(Ke(),We(0),w(1,"ion-button",0),xe("click",function(){return r.toggleShow()}),Ve(2,"ion-icon",1)(3,"ion-icon",2),C()),2&t&&(W(2),le("hidden",r.showPassword),W(1),le("hidden",!r.showPassword))},dependencies:[Cn,_n],styles:["[_nghost-%COMP%]{margin-top:-.595rem!important;display:flex;width:100%;align-items:center}[_nghost-%COMP%]   .type-toggle[_ngcontent-%COMP%]{-webkit-padding-start:.5rem;padding-inline-start:.5rem}[_nghost-%COMP%]   .type-toggle[_ngcontent-%COMP%]   .show-option[_ngcontent-%COMP%], [_nghost-%COMP%]   .type-toggle[_ngcontent-%COMP%]   .hide-option[_ngcontent-%COMP%]{font-size:1.2rem;display:block}[_nghost-%COMP%]   .type-toggle[_ngcontent-%COMP%]   .show-option[_ngcontent-%COMP%]:not(ion-icon), [_nghost-%COMP%]   .type-toggle[_ngcontent-%COMP%]   .hide-option[_ngcontent-%COMP%]:not(ion-icon){text-transform:uppercase;font-size:1rem}"]}),n})();function $fe(n,e){if(1&n){const t=Jt();w(0,"ion-button",16),xe("click",function(){return Ot(t),Pt(it().onSubmit())}),oe(1,"Entrar"),C()}}function Vfe(n,e){1&n&&(w(0,"ion-button",17),oe(1,"Entrando..."),C()),2&n&&le("disabled",!0)}let fH=(()=>{class n{constructor(t,r,i,o){this.authService=t,this.router=r,this.formBuilder=i,this.utilsService=o,this.loading=!1,console.log("[SigninComponent.constructor]"),this.formGroup=this.formGroupInitialize()}back(){return $(this,void 0,void 0,function*(){console.log("[SigninComponent.back]"),yield this.router.navigate(["/home"])})}formGroupInitialize(){return console.log("[SigninComponent.formGroupInitialize]"),this.formBuilder.group({email:this.formBuilder.control("u22211827@utp.edu.pe",[Un.required,Un.email]),password:this.formBuilder.control("Alex.2023",[Un.required,Un.pattern(/^(?=.*[A-Z])(?=.*[.!@#$&*])(?=.*[0-9])(?=.*[a-z]).{6,16}$/)])})}onSubmit(){return $(this,void 0,void 0,function*(){console.log("[SigninComponent.onSubmit]"),this.submitted=!0,this.loading=!0;const t=()=>{this.submitted=!1,this.loading=!1};if(this.formGroup.invalid)return t(),this.utilsService.presentAlert({header:"Error",subHeader:"Inicio de sesi\xf3n",message:"No cumple con las reglas de validaci\xf3n",buttons:[{handler:()=>{}}]});const{email:r,password:i}=this.formGroup.value;return this.authService.signIn(r,i).then(()=>$(this,void 0,void 0,function*(){yield this.router.navigate(["mail/inbox"]),t()})).catch(()=>$(this,void 0,void 0,function*(){return t(),this.utilsService.presentAlert({header:"Error",subHeader:"Inicio de sesi\xf3n",message:"El email o la contrase\xf1a no es correcto",buttons:[{handler:()=>{}}]})}))})}}return n.\u0275fac=function(t){return new(t||n)(g(Ji),g(Dt),g(DE),g(dr))},n.\u0275cmp=Se({type:n,selectors:[["app-login"]],decls:33,vars:3,consts:[["slot","start"],[3,"click"],["slot","icon-only","name","arrow-back"],[1,"ion-padding"],[3,"formGroup"],["size-xs","12","size-sm","12","size-md","7","size-lg","4","size-xl","4"],[2,"text-align","center"],["color","danger","slot","icon-only","name","logo-ionic",2,"width","3.5rem","height","3.5rem"],["size-xs","12","size-sm","12","size-md","7","size-lg","4"],["color","danger","position","floating"],["formControlName","email","type","email"],["formControlName","password","type","password",2,"margin-top","0.675rem !important"],[2,"text-align","right"],["fill","clear","color","danger","href","#"],["size","large","color","danger","expand","block",3,"click",4,"ngIf"],["size","large","color","danger","expand","block",3,"disabled",4,"ngIf"],["size","large","color","danger","expand","block",3,"click"],["size","large","color","danger","expand","block",3,"disabled"]],template:function(t,r){1&t&&(w(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),xe("click",function(){return r.back()}),Ve(4,"ion-icon",2),C()()()(),w(5,"ion-content",3)(6,"form",4)(7,"ion-grid")(8,"ion-row")(9,"ion-col",5)(10,"div",6),Ve(11,"ion-icon",7),C()()(),w(12,"ion-row")(13,"ion-col",8)(14,"ion-list")(15,"ion-item")(16,"ion-label",9),oe(17,"Email"),C(),Ve(18,"ion-input",10),C(),w(19,"ion-item")(20,"ion-label",9),oe(21,"Contrase\xf1a"),C(),w(22,"app-show-hide-password"),Ve(23,"ion-input",11),C()()()()(),w(24,"ion-row")(25,"ion-col",5)(26,"div",12)(27,"ion-button",13),oe(28,"Forgot password"),C()()()(),w(29,"ion-row")(30,"ion-col",5),at(31,$fe,2,0,"ion-button",14),at(32,Vfe,2,1,"ion-button",15),C()()()()()),2&t&&(W(6),le("formGroup",r.formGroup),W(25),le("ngIf",!r.submitted),W(1),le("ngIf",r.submitted))},dependencies:[Im,Ai,fm,mu,Nh,Ti,Cn,jn,Cc,nn,Dc,Rn,_n,Vh,pn,Dn,Qn,Ac,kn,_u,hH],styles:["ion-header[_ngcontent-%COMP%]:after{background-image:none}"]}),n})(),pH=(()=>{class n{constructor(t,r){this.router=t,this.firebaseService=r}canActivate(){return $(this,void 0,void 0,function*(){return console.log("[LogoutGuard.canActivate]"),this.signOut().then(()=>this.router.createUrlTree(["signin"]))})}signOut(){return $(this,void 0,void 0,function*(){return console.log("[LogoutGuard.signOut]"),this.firebaseService.signOut()})}}return n.\u0275fac=function(t){return new(t||n)(Fe(Dt),Fe(Ji))},n.\u0275prov=Je({token:n,factory:n.\u0275fac}),n})();function Bfe(n,e){if(1&n){const t=Jt();w(0,"ion-item",1),xe("click",function(){const o=Ot(t).$implicit;return Pt(it().open(o))}),oe(1),C()}if(2&n){const t=e.$implicit;le("button",!0)("detail",!1),W(1),Kr(" ",t.title," ")}}let Ufe=(()=>{class n{constructor(t,r,i,o){this.utilsService=t,this.eventService=r,this.apiService=i,this.router=o,this.items=[{title:"Depurar bases de datos",dispatch:"presentAlert"}],console.log("[PopoverSettingsGeneral.constructor]")}open(t){return $(this,void 0,void 0,function*(){console.log("[PopoverSettingsGeneral.open]"),t.path?yield this.router.navigate([t.path]):"presentAlert"===t.dispatch&&(yield this.presentAlert())})}presentAlert(){return $(this,void 0,void 0,function*(){console.log("[PopoverSettingsGeneral.presentAlert]"),yield this.utilsService.presentAlert({subHeader:"\xbfEst\xe1 seguro de depurar todas las bases de datos que se utilizan en la aplicaci\xf3n?",message:"Esta acci\xf3n eliminar\xe1 todos los registros.",buttons:[{handler:()=>{const t=this.apiService.getDatabases;for(const r of t)"VERSION"!==r&&this.apiService.purgeItems(r);this.eventService.publish(),this.presentToast("Base de datos depurada").then(()=>{for(const r of t)"VERSION"!==r&&this.apiService.loadDatabase(r)})}},{handler:()=>({})}]})})}presentToast(t){return $(this,void 0,void 0,function*(){console.log("[PopoverSettingsGeneral.presentToast]"),yield this.utilsService.presentToast({message:t})})}}return n.\u0275fac=function(t){return new(t||n)(g(dr),g(ti),g(_i),g(Dt))},n.\u0275cmp=Se({type:n,selectors:[["app-popover-settings-general"]],decls:2,vars:1,consts:[[3,"button","detail","click",4,"ngFor","ngForOf"],[3,"button","detail","click"]],template:function(t,r){1&t&&(w(0,"ion-content"),at(1,Bfe,2,3,"ion-item",0),C()),2&t&&(W(1),le("ngForOf",r.items))},dependencies:[Wi,nn,pn],encapsulation:2}),n})();function jfe(n,e){if(1&n){const t=Jt();w(0,"ion-item",8),xe("click",function(){const o=Ot(t).$implicit;return Pt(it().viewCustomPage(o))}),w(1,"ion-label")(2,"h2"),oe(3),C(),w(4,"p"),oe(5),C()()()}if(2&n){const t=e.$implicit;le("button",!0)("detail",!0),W(3),on(t.title),W(2),on(t.description)}}function Hfe(n,e){if(1&n){const t=Jt();w(0,"ion-item",9)(1,"ion-label")(2,"h2"),oe(3),C(),w(4,"p"),oe(5),C()(),w(6,"ion-checkbox",10),xe("ngModelChange",function(i){return Pt(Ot(t).$implicit.fieldNgModel=i)})("click",function(){const o=Ot(t).$implicit;return Pt(null==o?null:o.fieldCallback(o))}),C()()}if(2&n){const t=e.$implicit;W(3),on(t.title),W(2),on(t.description),W(1),le("ngModel",t.fieldNgModel)}}let Gfe=(()=>{class n{constructor(t,r,i,o,s){this.apiService=t,this.utilsService=r,this.eventService=i,this.preferencesService=o,this.router=s,this.MY_SHARED_PREFERENCES=ln,this.items=[{id:1,title:"Inbox",description:"Configuraci\xf3n general para el menu Inbox.",path:"/mail/general/settings/inbox",database:"DATABASE_INBOX"},{id:2,title:"Enviados",description:"Configuraci\xf3n general para el menu Enviados.",path:"/mail/general/settings/sent",database:"DATABASE_SENT"},{id:3,title:"Destacados",description:"Configuraci\xf3n general para el menu Destacados.",path:"/mail/general/settings/starred",database:"DATABASE_STARRED"},{id:4,title:"Eliminados",description:"Configuraci\xf3n general para el menu Eliminados.",path:"/mail/general/settings/trash",database:"DATABASE_STARRED"}],this.itemsQuestions=[{id:1,title:"Base de datos",description:"Inicializa la base con datos de prueba.",fieldNgModel:this.MY_SHARED_PREFERENCES.SETTINGS.GENERAL_INITIALIZE_DATABASE,fieldCallback:this.updateMyPreferences.bind(this)},{id:2,title:"Mover mensaje a eliminado",description:"Mueve el mensaje a la bandeja de eliminados.",fieldNgModel:this.MY_SHARED_PREFERENCES.SETTINGS.GENERAL_CONFIRM_BEFORE_MESSAGE_TRASH,fieldCallback:this.updateMyPreferences.bind(this)},{id:3,title:"Mover mensaje a inbox",description:"Mueve el mensaje a la bandeja de entrada.",fieldNgModel:this.MY_SHARED_PREFERENCES.SETTINGS.GENERAL_CONFIRM_BEFORE_MESSAGE_INBOX,fieldCallback:this.updateMyPreferences.bind(this)},{id:4,title:"Eliminar mensaje",description:"Elimina el mensaje de la base de datos para siempre.",fieldNgModel:this.MY_SHARED_PREFERENCES.SETTINGS.GENERAL_CONFIRM_BEFORE_MESSAGE_DELETE,fieldCallback:this.updateMyPreferences.bind(this)}],console.log("[SettingsComponent.constructor]")}updateMyPreferences(t){return $(this,void 0,void 0,function*(){switch(console.log("[SettingsComponent.updateMyPreferences]",this),t.id){case 1:this.MY_SHARED_PREFERENCES.SETTINGS.GENERAL_INITIALIZE_DATABASE=!t.fieldNgModel;break;case 2:this.MY_SHARED_PREFERENCES.SETTINGS.GENERAL_CONFIRM_BEFORE_MESSAGE_TRASH=!t.fieldNgModel;break;case 3:this.MY_SHARED_PREFERENCES.SETTINGS.GENERAL_CONFIRM_BEFORE_MESSAGE_INBOX=!t.fieldNgModel;break;case 4:this.MY_SHARED_PREFERENCES.SETTINGS.GENERAL_CONFIRM_BEFORE_MESSAGE_DELETE=!t.fieldNgModel;break;default:throw new Error("Shared preferences no existe")}return this.preferencesService.update(this.MY_SHARED_PREFERENCES)})}viewCustomPage(t){return $(this,void 0,void 0,function*(){return console.log("[SettingsComponent.viewCustomPage]"),this.router.navigate([t.path],{state:{path:"mail/general/settings"}})})}presentPopover(t){return $(this,void 0,void 0,function*(){return console.log("[ModalSettingsGeneralInbox.presentPopover]"),this.utilsService.presentPopover({component:Ufe,event:t})})}}return n.\u0275fac=function(t){return new(t||n)(g(_i),g(dr),g(ti),g(us),g(Dt))},n.\u0275cmp=Se({type:n,selectors:[["app-settings"]],decls:21,vars:2,consts:[["color","danger"],["slot","start"],["slot","icon-only","name","menu"],["slot","end"],[3,"click"],["slot","icon-only","name","ellipsis-vertical"],["lines","full",3,"button","detail","click",4,"ngFor","ngForOf"],["lines","full",4,"ngFor","ngForOf"],["lines","full",3,"button","detail","click"],["lines","full"],[3,"ngModel","ngModelChange","click"]],template:function(t,r){1&t&&(w(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1)(3,"ion-menu-toggle")(4,"ion-button"),Ve(5,"ion-icon",2),C()()(),w(6,"ion-title"),oe(7,"General"),C(),w(8,"ion-buttons",3)(9,"ion-button",4),xe("click",function(o){return r.presentPopover(o)}),Ve(10,"ion-icon",5),C()()()(),w(11,"ion-content")(12,"ion-list")(13,"ion-list-header")(14,"h3"),oe(15,"Acciones"),C()(),at(16,jfe,6,4,"ion-item",6),w(17,"ion-list-header")(18,"h3"),oe(19,"Preguntar antes de"),C()(),at(20,Hfe,7,3,"ion-item",7),C()()),2&t&&(W(16),le("ngForOf",r.items),W(4),le("ngForOf",r.itemsQuestions))},dependencies:[Ai,go,Wi,Cn,jn,Fo,nn,Rn,_n,pn,Dn,Qn,Lo,Tc,Xr,kn,Po],encapsulation:2}),n})(),zfe=(()=>{class n{constructor(t,r){this.preferencesService=t,this.router=r,this.MY_SHARED_PREFERENCES=ln,console.log("[ModalSettingsGeneralInbox.constructor]"),this.getState()}getState(){var t;console.log("[ModalSettingsGeneralInbox.getState]"),this.data=null===(t=this.router.getCurrentNavigation())||void 0===t?void 0:t.extras.state}back(){return $(this,void 0,void 0,function*(){console.log("[ModalSettingsGeneralInbox.back]"),yield this.router.navigate([this.data.path])})}updateMyPreferences(){return $(this,void 0,void 0,function*(){console.log("[ModalSettingsGeneralInbox.updateMyPreferences]"),yield this.preferencesService.update(this.MY_SHARED_PREFERENCES)})}}return n.\u0275fac=function(t){return new(t||n)(g(us),g(Dt))},n.\u0275cmp=Se({type:n,selectors:[["app-modal-settings-general-inbox"]],decls:64,vars:7,consts:[["color","danger"],["slot","start"],[3,"click"],["slot","icon-only","name","arrow-back"],["lines","full"],[3,"ngModel","ngModelChange","click"]],template:function(t,r){1&t&&(w(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1)(3,"ion-button",2),xe("click",function(){return r.back()}),Ve(4,"ion-icon",3),C()(),w(5,"ion-title"),oe(6,"Configuraci\xf3n"),C()()(),w(7,"ion-content")(8,"ion-list")(9,"ion-list-header")(10,"h3"),oe(11,"Acciones"),C()(),w(12,"ion-item",4)(13,"ion-label")(14,"h2"),oe(15,"Bot\xf3n buscar"),C(),w(16,"p"),oe(17,"Mostrar bot\xf3n de b\xfasqueda en la barra principal."),C()(),w(18,"ion-checkbox",5),xe("ngModelChange",function(o){return r.MY_SHARED_PREFERENCES.SETTINGS.INBOX_SHOW_BUTTON_SEARCH=o})("click",function(){return r.updateMyPreferences()}),C()(),w(19,"ion-item",4)(20,"ion-label")(21,"h2"),oe(22,"Bot\xf3n destacar"),C(),w(23,"p"),oe(24,"Mostrar bot\xf3n destacar mensaje."),C()(),w(25,"ion-checkbox",5),xe("ngModelChange",function(o){return r.MY_SHARED_PREFERENCES.SETTINGS.INBOX_SHOW_BUTTON_STARRED=o})("click",function(){return r.updateMyPreferences()}),C()(),w(26,"ion-item",4)(27,"ion-label")(28,"h2"),oe(29,"Bot\xf3n eliminar"),C(),w(30,"p"),oe(31,"Mostrar bot\xf3n eliminar mensaje."),C()(),w(32,"ion-checkbox",5),xe("ngModelChange",function(o){return r.MY_SHARED_PREFERENCES.SETTINGS.INBOX_SHOW_BUTTON_REMOVE=o})("click",function(){return r.updateMyPreferences()}),C()(),w(33,"ion-item",4)(34,"ion-label")(35,"h2"),oe(36,"Bot\xf3n archivar"),C(),w(37,"p"),oe(38,"Mostrar bot\xf3n archivar mensaje."),C()(),w(39,"ion-checkbox",5),xe("ngModelChange",function(o){return r.MY_SHARED_PREFERENCES.SETTINGS.INBOX_SHOW_BUTTON_ARCHIVE=o})("click",function(){return r.updateMyPreferences()}),C()(),w(40,"ion-item",4)(41,"ion-label")(42,"h2"),oe(43,"Bot\xf3n no le\xeddo"),C(),w(44,"p"),oe(45,"Mostrar bot\xf3n mensaje no le\xeddo."),C()(),w(46,"ion-checkbox",5),xe("ngModelChange",function(o){return r.MY_SHARED_PREFERENCES.SETTINGS.INBOX_SHOW_BUTTON_UN_READ=o})("click",function(){return r.updateMyPreferences()}),C()(),w(47,"ion-list-header")(48,"h3"),oe(49,"Preguntar antes de"),C()(),w(50,"ion-item",4)(51,"ion-label")(52,"h2"),oe(53,"Enviar mensaje"),C(),w(54,"p"),oe(55,"Solicitar confirmaci\xf3n antes de enviar."),C()(),w(56,"ion-checkbox",5),xe("ngModelChange",function(o){return r.MY_SHARED_PREFERENCES.SETTINGS.INBOX_CONFIRM_BEFORE_SENT=o})("click",function(){return r.updateMyPreferences()}),C()(),w(57,"ion-item",4)(58,"ion-label")(59,"h2"),oe(60,"Eliminar mensaje"),C(),w(61,"p"),oe(62,"Solicitar confirmaci\xf3n antes de eliminar mensaje."),C()(),w(63,"ion-checkbox",5),xe("ngModelChange",function(o){return r.MY_SHARED_PREFERENCES.SETTINGS.GENERAL_CONFIRM_BEFORE_MESSAGE_TRASH=o})("click",function(){return r.updateMyPreferences()}),C()()()()),2&t&&(W(18),le("ngModel",r.MY_SHARED_PREFERENCES.SETTINGS.INBOX_SHOW_BUTTON_SEARCH),W(7),le("ngModel",r.MY_SHARED_PREFERENCES.SETTINGS.INBOX_SHOW_BUTTON_STARRED),W(7),le("ngModel",r.MY_SHARED_PREFERENCES.SETTINGS.INBOX_SHOW_BUTTON_REMOVE),W(7),le("ngModel",r.MY_SHARED_PREFERENCES.SETTINGS.INBOX_SHOW_BUTTON_ARCHIVE),W(7),le("ngModel",r.MY_SHARED_PREFERENCES.SETTINGS.INBOX_SHOW_BUTTON_UN_READ),W(10),le("ngModel",r.MY_SHARED_PREFERENCES.SETTINGS.INBOX_CONFIRM_BEFORE_SENT),W(7),le("ngModel",r.MY_SHARED_PREFERENCES.SETTINGS.GENERAL_CONFIRM_BEFORE_MESSAGE_TRASH))},dependencies:[Ai,go,Cn,jn,Fo,nn,Rn,_n,pn,Dn,Qn,Lo,Xr,kn,Po],encapsulation:2}),n})(),Wfe=(()=>{class n{constructor(t,r,i,o,s){this.apiService=t,this.utilsService=r,this.eventService=i,this.preferencesService=o,this.router=s,this.MY_SHARED_PREFERENCES=ln,console.log("[ModalSettingsGeneralSent.constructor]"),this.getState()}ngOnInit(){console.log("[ModalSettingsGeneralSent.constructor]"),this.getState()}getState(){var t;console.log("[ModalSettingsGeneralSent.getState]"),this.data=null===(t=this.router.getCurrentNavigation())||void 0===t?void 0:t.extras.state}back(){return $(this,void 0,void 0,function*(){console.log("[ModalSettingsGeneralSent.back]"),yield this.router.navigate([this.data.path])})}updateMyPreferences(){return $(this,void 0,void 0,function*(){console.log("[ModalSettingsGeneralSent.updateMyPreferences]"),yield this.preferencesService.update(this.MY_SHARED_PREFERENCES)})}}return n.\u0275fac=function(t){return new(t||n)(g(_i),g(dr),g(ti),g(us),g(Dt))},n.\u0275cmp=Se({type:n,selectors:[["app-modal-settings-general-sent"]],decls:19,vars:1,consts:[["color","danger"],["slot","start"],[3,"click"],["slot","icon-only","name","arrow-back"],["lines","full"],[3,"ngModel","ngModelChange","click"]],template:function(t,r){1&t&&(w(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1)(3,"ion-button",2),xe("click",function(){return r.back()}),Ve(4,"ion-icon",3),C()(),w(5,"ion-title"),oe(6,"Configuraci\xf3n"),C()()(),w(7,"ion-content")(8,"ion-list")(9,"ion-list-header")(10,"h3"),oe(11,"Acciones"),C()(),w(12,"ion-item",4)(13,"ion-label")(14,"h2"),oe(15,"Bot\xf3n buscar"),C(),w(16,"p"),oe(17,"Mostrar bot\xf3n de b\xfasqueda en la barra principal."),C()(),w(18,"ion-checkbox",5),xe("ngModelChange",function(o){return r.MY_SHARED_PREFERENCES.SETTINGS.SENT_SHOW_BUTTON_SEARCH=o})("click",function(){return r.updateMyPreferences()}),C()()()()),2&t&&(W(18),le("ngModel",r.MY_SHARED_PREFERENCES.SETTINGS.SENT_SHOW_BUTTON_SEARCH))},dependencies:[Ai,go,Cn,jn,Fo,nn,Rn,_n,pn,Dn,Qn,Lo,Xr,kn,Po],encapsulation:2}),n})(),qfe=(()=>{class n{constructor(t,r,i,o,s){this.apiService=t,this.utilsService=r,this.eventService=i,this.preferencesService=o,this.router=s,this.MY_SHARED_PREFERENCES=ln,console.log("[ModalSettingsGeneralStarred.constructor]"),this.getState()}ngOnInit(){console.log("[ModalSettingsGeneralStarred.constructor]"),this.getState()}getState(){var t;console.log("[ModalSettingsGeneralStarred.getState]"),this.data=null===(t=this.router.getCurrentNavigation())||void 0===t?void 0:t.extras.state}back(){return $(this,void 0,void 0,function*(){console.log("[ModalSettingsGeneralStarred.back]"),yield this.router.navigate([this.data.path])})}updateMyPreferences(){return $(this,void 0,void 0,function*(){console.log("[ModalSettingsGeneralStarred.updateMyPreferences]"),yield this.preferencesService.update(this.MY_SHARED_PREFERENCES)})}}return n.\u0275fac=function(t){return new(t||n)(g(_i),g(dr),g(ti),g(us),g(Dt))},n.\u0275cmp=Se({type:n,selectors:[["app-modal-settings-general-starred"]],decls:19,vars:1,consts:[["color","danger"],["slot","start"],[3,"click"],["slot","icon-only","name","arrow-back"],["lines","full"],[3,"ngModel","ngModelChange","click"]],template:function(t,r){1&t&&(w(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1)(3,"ion-button",2),xe("click",function(){return r.back()}),Ve(4,"ion-icon",3),C()(),w(5,"ion-title"),oe(6,"Configuraci\xf3n"),C()()(),w(7,"ion-content")(8,"ion-list")(9,"ion-list-header")(10,"h3"),oe(11,"Acciones"),C()(),w(12,"ion-item",4)(13,"ion-label")(14,"h2"),oe(15,"Bot\xf3n buscar"),C(),w(16,"p"),oe(17,"Mostrar bot\xf3n de b\xfasqueda en la barra principal."),C()(),w(18,"ion-checkbox",5),xe("ngModelChange",function(o){return r.MY_SHARED_PREFERENCES.SETTINGS.STARRED_SHOW_BUTTON_SEARCH=o})("click",function(){return r.updateMyPreferences()}),C()()()()),2&t&&(W(18),le("ngModel",r.MY_SHARED_PREFERENCES.SETTINGS.STARRED_SHOW_BUTTON_SEARCH))},dependencies:[Ai,go,Cn,jn,Fo,nn,Rn,_n,pn,Dn,Qn,Lo,Xr,kn,Po],encapsulation:2}),n})(),Kfe=(()=>{class n{constructor(t,r,i,o,s){this.apiService=t,this.utilsService=r,this.eventService=i,this.preferencesService=o,this.router=s,this.MY_SHARED_PREFERENCES=ln,console.log("[ModalSettingsGeneralTrash.constructor]"),this.getState()}ngOnInit(){console.log("[ModalSettingsGeneralTrash.constructor]"),this.getState()}getState(){var t;console.log("[ModalSettingsGeneralTrash.getState]"),this.data=null===(t=this.router.getCurrentNavigation())||void 0===t?void 0:t.extras.state}back(){return $(this,void 0,void 0,function*(){console.log("[ModalSettingsGeneralTrash.back]"),yield this.router.navigate([this.data.path])})}updateMyPreferences(){return $(this,void 0,void 0,function*(){console.log("[ModalSettingsGeneralTrash.updateMyPreferences]"),yield this.preferencesService.update(this.MY_SHARED_PREFERENCES)})}}return n.\u0275fac=function(t){return new(t||n)(g(_i),g(dr),g(ti),g(us),g(Dt))},n.\u0275cmp=Se({type:n,selectors:[["app-modal-settings-general-tarsh"]],decls:19,vars:1,consts:[["color","danger"],["slot","start"],[3,"click"],["slot","icon-only","name","arrow-back"],["lines","full"],[3,"ngModel","ngModelChange","click"]],template:function(t,r){1&t&&(w(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1)(3,"ion-button",2),xe("click",function(){return r.back()}),Ve(4,"ion-icon",3),C()(),w(5,"ion-title"),oe(6,"Configuraci\xf3n"),C()()(),w(7,"ion-content")(8,"ion-list")(9,"ion-list-header")(10,"h3"),oe(11,"Acciones"),C()(),w(12,"ion-item",4)(13,"ion-label")(14,"h2"),oe(15,"Bot\xf3n buscar"),C(),w(16,"p"),oe(17,"Mostrar bot\xf3n de b\xfasqueda en la barra principal."),C()(),w(18,"ion-checkbox",5),xe("ngModelChange",function(o){return r.MY_SHARED_PREFERENCES.SETTINGS.TRASH_SHOW_BUTTON_SEARCH=o})("click",function(){return r.updateMyPreferences()}),C()()()()),2&t&&(W(18),le("ngModel",r.MY_SHARED_PREFERENCES.SETTINGS.TRASH_SHOW_BUTTON_SEARCH))},dependencies:[Ai,go,Cn,jn,Fo,nn,Rn,_n,pn,Dn,Qn,Lo,Xr,kn,Po],encapsulation:2}),n})();const a1=function(n){return[n]};function Yfe(n,e){if(1&n&&(w(0,"ion-menu-toggle",16)(1,"ion-item",17),Ve(2,"ion-icon",18),w(3,"ion-label"),oe(4),C()()()),2&n){const t=e.$implicit;W(1),le("routerLink",yg(4,a1,t.path)),W(1),le("ios",t.icon+"-outline")("md",t.icon+"-sharp"),W(2),on(t.title)}}function Zfe(n,e){1&n&&at(0,Yfe,5,6,"ion-menu-toggle",14),2&n&&le("ngForOf",it().pagesPrimary)}function Xfe(n,e){1&n&&(w(0,"div",12)(1,"ion-text"),oe(2,"Secundario"),C(),Ve(3,"ion-item-divider"),C())}function Qfe(n,e){if(1&n&&(w(0,"ion-menu-toggle",16)(1,"ion-item",19),Ve(2,"ion-icon",18),w(3,"ion-label"),oe(4),C()()()),2&n){const t=e.$implicit;W(1),le("routerLink",yg(4,a1,t.path)),W(1),le("ios",t.icon+"-outline")("md",t.icon+"-sharp"),W(2),on(t.title)}}function Jfe(n,e){1&n&&at(0,Qfe,5,6,"ion-menu-toggle",14),2&n&&le("ngForOf",it().pagesSecondary)}function epe(n,e){if(1&n&&(w(0,"ion-menu-toggle",16)(1,"ion-item",20),Ve(2,"ion-icon",18),w(3,"span"),oe(4),C()()()),2&n){const t=e.$implicit;W(1),le("routerLink",yg(4,a1,t.path)),W(1),le("ios",t.icon+"-outline")("md",t.icon+"-sharp"),W(2),on(t.title)}}let tpe=(()=>{class n{constructor(t){this.firebaseService=t,this.pagesPrimary=[],this.pagesSecondary=[],this.pagesTertiary=[],console.log("[MailComponent.constructor]"),this.pagesTertiary=[{title:"Logout",icon:"log-out",status:!1,path:"/mail/logout"}],this.firebaseService.getAuthUser().subscribe(r=>$(this,void 0,void 0,function*(){var i;console.log("Auth user session",{res:r}),r&&(this.user=yield this.firebaseService.singleCollection("users",null==r?void 0:r.uid),this.pagesPrimary.length<1&&(this.pagesPrimary=[{title:"Inbox",icon:"mail",status:!1,path:"/mail/inbox"},{title:"Enviados",icon:"mail-open",status:!1,path:"/mail/sent"},{title:"Destacados",icon:"star",status:!1,path:"/mail/starred"},{title:"Eliminados",icon:"trash",status:!1,path:"/mail/trash"}]),null!==(i=this.user)&&void 0!==i&&i.is_admin&&this.pagesSecondary.length<1&&(this.pagesSecondary=[{title:"Settings",icon:"cog",status:!1,path:"/mail/general/settings"}]))}))}}return n.\u0275fac=function(t){return new(t||n)(g(Ji))},n.\u0275cmp=Se({type:n,selectors:[["app-mail"]],decls:45,vars:8,consts:[["contentId","main-content"],["contentId","main-content","type","overlay"],["size","12"],["src","assets/imgs/gmail.svg","alt","",2,"height","1.75rem","width","1.75rem"],[2,"font-size","1.12rem","font-weight","500","padding","0.25rem 0 0 0","margin-left","0.5rem"],[2,"font-size","0.7rem","font-weight","300","margin-left","0.25rem"],[2,"opacity","0.8","width","3.5rem","height","3.5rem",3,"ngClass"],[2,"padding","0.75rem 0 0.75rem 0.75rem"],[2,"font-size","0.89rem","font-weight","500","margin","0","padding","0"],[2,"font-size","0.725rem"],[2,"font-size","0.525rem","padding","0.125rem 0"],["href","#",2,"text-decoration","none"],[1,"ion-padding-top"],[3,"ngIf"],["auto-hide","false",4,"ngFor","ngForOf"],["id","main-content"],["auto-hide","false"],["routerDirection","root","lines","none","detail","false","routerLinkActive","selected",3,"routerLink"],["slot","start",3,"ios","md"],["routerDirection","root","lines","none","detail","false","routerLinkActive","selected",1,"activeLink",3,"routerLink"],["routerDirection","root","lines","none","routerLinkActive","selected",3,"routerLink"]],template:function(t,r){1&t&&(w(0,"ion-app")(1,"ion-split-pane",0)(2,"ion-menu",1)(3,"ion-header")(4,"ion-toolbar")(5,"ion-grid")(6,"ion-row")(7,"ion-col",2)(8,"table")(9,"tr")(10,"td"),Ve(11,"img",3),C(),w(12,"td")(13,"div",4),oe(14," Gmail"),w(15,"span",5),oe(16,"(clone)"),C()()()()()()()()()(),w(17,"ion-content")(18,"table")(19,"tr")(20,"td")(21,"ion-avatar",6),oe(22),C()(),w(23,"td",7)(24,"div",8),oe(25),C(),w(26,"div",9),oe(27),C(),w(28,"div",10)(29,"a",11),oe(30,"Privacy Policy"),C(),w(31,"span"),oe(32,"\xa0.\xa0"),C(),w(33,"a",11),oe(34,"Terms of Service"),C()()()()(),w(35,"div",12)(36,"ion-text"),oe(37,"Principal"),C(),Ve(38,"ion-item-divider"),C(),at(39,Zfe,1,1,"ng-template",13),at(40,Xfe,4,0,"ng-template",13),at(41,Jfe,1,1,"ng-template",13),C(),w(42,"ion-footer"),at(43,epe,5,6,"ion-menu-toggle",14),C()(),Ve(44,"ion-router-outlet",15),C()()),2&t&&(W(21),le("ngClass","color-"+(null==r.user?null:r.user.fullname.charAt(0).toUpperCase())),W(1),Kr(" ",null==r.user?null:r.user.fullname.charAt(0).toUpperCase()," "),W(3),on(null==r.user?null:r.user.fullname),W(2),on(null==r.user?null:r.user.email),W(12),le("ngIf",r.pagesPrimary.length>0),W(1),le("ngIf",null==r.user?null:r.user.is_admin),W(1),le("ngIf",r.pagesSecondary.length>0),W(2),le("ngForOf",r.pagesTertiary))},dependencies:[iu,Wi,Ti,ME,bu,Cc,nn,mL,Dc,Rn,_n,pn,RE,Dn,vL,Tc,Ac,bL,jh,kn,Iu,$E,Ec,KP],styles:["ion-footer[_ngcontent-%COMP%]{padding:8px}"]}),n})();function npe(n,e){if(1&n&&(w(0,"div",21),Ve(1,"ion-icon",22),C()),2&n){const t=it().$implicit;W(1),le("name",null!=t&&t.is_starred?"star":"")}}function rpe(n,e){if(1&n&&(w(0,"ion-text")(1,"div",23),oe(2),C()()),2&n){const t=it().$implicit;W(2),on(null==t||null==t.participant?null:t.participant.fullname)}}function ipe(n,e){if(1&n&&(w(0,"ion-text")(1,"div",24),oe(2),C()()),2&n){const t=it().$implicit;W(2),on(null==t||null==t.participant?null:t.participant.fullname)}}function ope(n,e){if(1&n&&(w(0,"ion-text")(1,"div",25),oe(2),C(),w(3,"ion-label")(4,"div",26),oe(5),C()()()),2&n){const t=it().$implicit;W(2),on(t.subject),W(3),on(t.message)}}function spe(n,e){if(1&n&&(w(0,"ion-text")(1,"div",27),oe(2),C(),w(3,"ion-label")(4,"div",26),oe(5),C()()()),2&n){const t=it().$implicit;W(2),on(t.subject),W(3),on(t.message)}}function ape(n,e){if(1&n){const t=Jt();w(0,"ion-item-sliding",2),xe("click",function(){const o=Ot(t).$implicit;return Pt(it(2).fnViewDetail(o))}),w(1,"ion-item",8)(2,"table")(3,"tr")(4,"td",9)(5,"ion-avatar",10),oe(6),C()()(),w(7,"tr")(8,"td")(9,"table")(10,"tr")(11,"td",11)(12,"div",12),at(13,npe,2,1,"div",13),at(14,rpe,3,1,"ion-text",5),at(15,ipe,3,1,"ion-text",5),C()()()()()(),w(16,"tr")(17,"td",14),at(18,ope,6,2,"ion-text",5),at(19,spe,6,2,"ion-text",5),C()()()(),w(20,"ion-item-options",15)(21,"ion-item-option",16),Ve(22,"ion-icon",17),oe(23," Archivar "),C(),w(24,"ion-item-option",18),Ve(25,"ion-icon",19),oe(26," Eliminar "),C()(),w(27,"ion-item-options",20)(28,"ion-item-option",18),Ve(29,"ion-icon",19),oe(30," Eliminar "),C()()()}if(2&n){const t=e.$implicit;let r,i;W(5),le("ngClass","color-"+(null==t||null==t.participant||null==t.participant.fullname||null==(r=t.participant.fullname.charAt(0))?null:r.toUpperCase())),W(1),Kr(" ",null==t||null==t.participant||null==t.participant.fullname||null==(i=t.participant.fullname.charAt(0))?null:i.toUpperCase()," "),W(7),le("ngIf",null==t?null:t.is_starred),W(1),le("ngIf",null==t?null:t.is_read),W(1),le("ngIf",!(null!=t&&t.is_read)),W(3),le("ngIf",t.is_read),W(1),le("ngIf",!t.is_read)}}function cpe(n,e){if(1&n&&(w(0,"ion-list"),at(1,ape,31,7,"ion-item-sliding",7),C()),2&n){const t=it();W(1),le("ngForOf",t.items)}}function lpe(n,e){1&n&&(w(0,"ion-list",28)(1,"ion-label"),Ve(2,"ion-icon",29),w(3,"div"),oe(4,"No se han encontrado mensajes."),C()()())}let upe=(()=>{class n{constructor(t,r,i,o,s,a,c,l,u){this.utilsService=t,this.messageService=r,this.eventService=i,this.apiService=o,this.router=s,this.conversationService=a,this.starredService=c,this.inboxService=l,this.trashService=u,this.items=[],console.log("[SearchComponent.constructor]"),this.mySubscribe$=this.eventService.dataSource.subscribe(()=>$(this,void 0,void 0,function*(){const d=yield this.apiService.db().then(f=>f.get("TEXT_SEARCH"));yield this.getItems(d)})),this.getState()}ngOnInit(){console.log("[SearchComponent.ngOnInit]"),this.getState()}ngOnDestroy(){console.log("[SearchComponent.ngOnDestroy]"),this.mySubscribe$.unsubscribe()}getState(){var t;console.log("[SearchComponent.getState]"),this.data=null===(t=this.router.getCurrentNavigation())||void 0===t?void 0:t.extras.state,console.log("[SearchComponent.getState]",this.data)}back(){return $(this,void 0,void 0,function*(){console.log("[SearchComponent.back]"),yield this.router.navigate([this.data.path])})}fnViewDetail(t){return $(this,void 0,void 0,function*(){console.log("[SearchComponent.back]",{item:t});const r={item:t,path:"mail/search"};yield this.router.navigate(["mail/inbox-detail"],{state:r})})}searchByEvent(t){return $(this,void 0,void 0,function*(){console.log("[SearchComponent.searchByEvent]");const r=t.target.value.toString();if(r)return this.getItems(r)})}getItems(t){return $(this,void 0,void 0,function*(){if(console.log("[SearchComponent.getItems]",{searchText:t}),!t)return;let r=null;this.keyTimer&&clearTimeout(this.keyTimer),this.keyTimer=setTimeout(()=>$(this,void 0,void 0,function*(){r=yield this.utilsService.showLoading("Buscando..."),yield this.apiService.db().then(o=>o.create("TEXT_SEARCH",t)),this.items=[];let i=[];switch(this.data.path){case"mail/inbox":if(i=yield this.inboxService.getItems(),!i)return;break;case"mail/starred":if(i=yield this.starredService.getItems(),!i)return;break;case"mail/trash":if(i=yield this.trashService.getItems(),!i)return}i=i.filter(o=>{var s;return(null===(s=null==o?void 0:o.participant)||void 0===s?void 0:s.fullname.toLowerCase().indexOf(t.toLowerCase()))>-1||o.message.toLowerCase().indexOf(t.toLowerCase())>-1}),r&&(yield r.dismiss()),this.items=i}),500)})}}return n.\u0275fac=function(t){return new(t||n)(g(dr),g(yp),g(ti),g(_i),g(Dt),g(gd),g(s1),g(o1),g(dH))},n.\u0275cmp=Se({type:n,selectors:[["app-search"]],decls:9,vars:2,consts:[["color","danger"],["slot","start"],[3,"click"],["slot","icon-only","name","arrow-back"],["animated","true","placeholder","Buscar mensaje",3,"ionInput"],[4,"ngIf"],["class","ion-padding","style","height: 100%; display: flex; justify-content: center; align-items: center; text-align: center",4,"ngIf"],[3,"click",4,"ngFor","ngForOf"],["lines","full"],["rowspan","3",2,"padding","0 0.75rem 0 0"],[2,"opacity","0.8","width","2.75rem","height","2.75rem",3,"ngClass"],[2,"padding","0.75rem 0 0 0.25rem"],[2,"display","flex"],["style","margin: 0 0.5rem 0 0",4,"ngIf"],[2,"padding","0.25rem 0.75rem 0.75rem 0.25rem"],["side","start"],["color","medium"],["slot","start","name","archive"],["color","dark"],["slot","start","name","trash"],["side","end"],[2,"margin","0 0.5rem 0 0"],["size","small","color","warning","slot","icon-only",2,"margin","0",3,"name"],[2,"font-size","1rem","margin-top","0.085rem"],[2,"font-size","1rem","font-weight","700","margin-top","0.085rem"],[2,"font-size","0.8rem"],[2,"font-size","0.7rem"],[2,"font-size","0.8rem","font-weight","600"],[1,"ion-padding",2,"height","100%","display","flex","justify-content","center","align-items","center","text-align","center"],["slot","icon-only","name","mail-outline","size","large"]],template:function(t,r){1&t&&(w(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1)(3,"ion-button",2),xe("click",function(){return r.back()}),Ve(4,"ion-icon",3),C()(),w(5,"ion-searchbar",4),xe("ionInput",function(o){return r.searchByEvent(o)}),C()()(),w(6,"ion-content"),at(7,cpe,2,1,"ion-list",5),at(8,lpe,5,0,"ion-list",6),C()),2&t&&(W(7),le("ngIf",r.items.length>0),W(1),le("ngIf",r.items.length<1))},dependencies:[iu,Wi,Ti,bu,Cn,jn,nn,Rn,_n,pn,kE,NE,OE,Dn,Qn,PE,jh,kn,_u],encapsulation:2}),n})(),dpe=(()=>{class n{constructor(t){this.firebaseService=t,this.database="users"}user(t){return $(this,void 0,void 0,function*(){return console.log("[UserService.user]",{id:t}),this.firebaseService.singleCollection(this.database,t).then(r=>r||null)})}users(t){return $(this,void 0,void 0,function*(){return console.log("[UserService.users]",{payload:t}),this.firebaseService.getCollection(this.database).then(r=>r||[])})}createUser(t){return $(this,void 0,void 0,function*(){return console.log("[UserService.createUser]",{item:t}),this.firebaseService.setCollection(this.database,t)})}}return n.\u0275fac=function(t){return new(t||n)(Fe(Ji))},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function hpe(n,e){if(1&n){const t=Jt();w(0,"ion-button",16),xe("click",function(){return Ot(t),Pt(it().onSubmit())}),oe(1,"Crear cuenta"),C()}}function fpe(n,e){1&n&&(w(0,"ion-button",17),oe(1,"Creando..."),C()),2&n&&le("disabled",it().loading)}const ppe=[{path:"",redirectTo:"home",pathMatch:"full"},{title:"App",path:"home",component:Ffe},{title:"Iniciar sesi\xf3n",path:"signin",component:fH},{title:"Registro",path:"signup",component:(()=>{class n{constructor(t,r,i,o,s,a){this.userService=t,this.participantService=r,this.router=i,this.formBuilder=o,this.authService=s,this.utilsService=a,this.loading=!1,console.log("[SignupComponent.constructor]"),this.formGroup=this.formGroupInitialize()}back(){return $(this,void 0,void 0,function*(){console.log("[SignupComponent.back]"),yield this.router.navigate(["/home"])})}formGroupInitialize(){return console.log("[SignupComponent.formGroupInitialize]"),this.formBuilder.group({fullname:this.formBuilder.control(null),email:this.formBuilder.control(null,[Un.required,Un.email]),password:this.formBuilder.control(null,[Un.required,Un.pattern(/^(?=.*[A-Z])(?=.*[.!@#$&*])(?=.*[0-9])(?=.*[a-z]).{6,16}$/)]),confirm_password:this.formBuilder.control(null,[Un.required,Un.pattern(/^(?=.*[A-Z])(?=.*[.!@#$&*])(?=.*[0-9])(?=.*[a-z]).{6,16}$/)])})}onSubmit(){return $(this,void 0,void 0,function*(){console.log("[SignupComponent.onSubmit]"),this.submitted=!0,this.loading=!0;const t=()=>{this.submitted=!1,this.loading=!1};if(this.formGroup.invalid)return t(),this.utilsService.presentAlert({header:"Error",subHeader:"Crear cuenta",message:"No cumple con las reglas de validaci\xf3n",buttons:[{handler:()=>{}}]});const{fullname:r,email:i,password:o,confirm_password:s}=this.formGroup.value;return o!==s?(t(),this.utilsService.presentAlert({header:"Error",subHeader:"Crear cuenta",message:"Ls contrase\xf1as no coinciden",buttons:[{handler:()=>{}}]})):this.authService.signUp(i,o).then(a=>$(this,void 0,void 0,function*(){yield this.authService.updateAuthUser({displayName:r}),yield this.userService.createUser({id:a.user.uid,fullname:r,email:i,is_active:!0,is_admin:!1,created_at:this.utilsService.toISOStringDate()}),yield this.participantService.createParticipant({user_id:a.user.uid,fullname:r,email:i,is_active:!0,created_at:this.utilsService.toISOStringDate()}),yield this.router.navigate(["signin"]),t()})).catch(()=>(t(),this.utilsService.presentAlert({header:"Error",subHeader:"Crear cuenta",message:"No se ha podido crear una cuenta, vuelve a intentarlo",buttons:[{handler:()=>{}}]})))})}}return n.\u0275fac=function(t){return new(t||n)(g(dpe),g(Ay),g(Dt),g(DE),g(Ji),g(dr))},n.\u0275cmp=Se({type:n,selectors:[["app-signup"]],decls:37,vars:3,consts:[["slot","start"],[3,"click"],["slot","icon-only","name","arrow-back"],[1,"ion-padding"],[3,"formGroup"],["size-xs","12","size-sm","12","size-md","7","size-lg","4","size-xl","4"],[2,"text-align","center"],["color","danger","slot","icon-only","name","person-add",2,"width","3.5rem","height","3.5rem"],["size-xs","12","size-sm","12","size-md","7","size-lg","4"],["color","danger","position","floating"],["formControlName","fullname","type","text"],["formControlName","email","type","email"],["formControlName","password","type","password",2,"margin-top","0.675rem !important"],["formControlName","confirm_password","type","password",2,"margin-top","0.675rem !important"],["size","large","color","danger","expand","block",3,"click",4,"ngIf"],["size","large","color","danger","expand","block",3,"disabled",4,"ngIf"],["size","large","color","danger","expand","block",3,"click"],["size","large","color","danger","expand","block",3,"disabled"]],template:function(t,r){1&t&&(w(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),xe("click",function(){return r.back()}),Ve(4,"ion-icon",2),C()()()(),w(5,"ion-content",3)(6,"form",4)(7,"ion-grid")(8,"ion-row")(9,"ion-col",5)(10,"div",6),Ve(11,"ion-icon",7),C()()(),w(12,"ion-row")(13,"ion-col",8)(14,"ion-list")(15,"ion-item")(16,"ion-label",9),oe(17,"Nombre completo"),C(),Ve(18,"ion-input",10),C(),w(19,"ion-item")(20,"ion-label",9),oe(21,"Email"),C(),Ve(22,"ion-input",11),C(),w(23,"ion-item")(24,"ion-label",9),oe(25,"Contrase\xf1a"),C(),w(26,"app-show-hide-password"),Ve(27,"ion-input",12),C()(),w(28,"ion-item")(29,"ion-label",9),oe(30,"Confirmar contrase\xf1a"),C(),w(31,"app-show-hide-password"),Ve(32,"ion-input",13),C()()()()(),w(33,"ion-row")(34,"ion-col",5),at(35,hpe,2,0,"ion-button",14),at(36,fpe,2,1,"ion-button",15),C()()()()()),2&t&&(W(6),le("formGroup",r.formGroup),W(29),le("ngIf",!r.submitted),W(1),le("ngIf",r.submitted))},dependencies:[Im,Ai,fm,mu,Nh,Ti,Cn,jn,Cc,nn,Dc,Rn,_n,Vh,pn,Dn,Qn,Ac,kn,_u,hH],styles:["ion-header[_ngcontent-%COMP%]:after{background-image:none}"]}),n})()},{title:"Mail",path:"mail",component:tpe,children:[{title:"Buscar mensajes",path:"search",component:upe},{title:"Configuraci\xf3n general",path:"general/settings",component:Gfe},{title:"Configuraci\xf3n general",path:"general/settings/inbox",component:zfe},{title:"Configuraci\xf3n general",path:"general/settings/sent",component:Wfe},{title:"Configuraci\xf3n general",path:"general/settings/starred",component:qfe},{title:"Configuraci\xf3n general",path:"general/settings/trash",component:Kfe},{title:"Cerrar sesi\xf3n",path:"logout",component:fH,canActivate:[pH]},{title:"Destacados",path:"starred",component:Afe},{title:"Configuraci\xf3n General",path:"starred-settings",component:xfe},{title:"Enviados",path:"sent",component:Efe},{title:"Configuraci\xf3n General",path:"sent-settings",component:Ife},{title:"Bandeja de entrada",path:"inbox",component:nfe},{title:"Configuraci\xf3n General",path:"inbox-settings",component:rfe},{title:"Detalle",path:"inbox-detail",component:pfe},{title:"Configuraci\xf3n",path:"inbox-detail-settings",component:gfe},{title:"Nuevo mensaje",path:"create",component:Bhe},{title:"Configuraci\xf3n",path:"create-settings",component:Uhe},{title:"Eliminados",path:"trash",component:Nfe}]}];let gpe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jr({type:n}),n.\u0275inj=Dr({imports:[nF.forRoot(ppe,{preloadingStrategy:IZ,useHash:!0}),nF]}),n})();var vH;function sa(n,e,t,r){return new(t||(t=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}const yH=new lt("STORAGE_CONFIG_TOKEN");class vpe extends _p{constructor(){super()}create(){return sa(this,void 0,void 0,function*(){return this})}defineDriver(){return sa(this,void 0,void 0,function*(){})}get driver(){return"noop"}get(e){return sa(this,void 0,void 0,function*(){return null})}set(e,t){return sa(this,void 0,void 0,function*(){})}remove(e){return sa(this,void 0,void 0,function*(){})}clear(){return sa(this,void 0,void 0,function*(){})}length(){return sa(this,void 0,void 0,function*(){return 0})}keys(){return sa(this,void 0,void 0,function*(){return[]})}forEach(e){return sa(this,void 0,void 0,function*(){})}setEncryptionKey(e){}}function ype(n){return function Y7(n){return n===W7}(this.platformId)?new vpe:new _p(n)}let md=vH=class{static forRoot(e=null){return{ngModule:vH,providers:[{provide:yH,useValue:e},{provide:_p,useFactory:ype,deps:[yH]}]}}};md.\u0275fac=function(e){return new(e||md)},md.\u0275mod=jr({type:md}),md.\u0275inj=Dr({});const _pe={apiKey:"AIzaSyA_dqHXdIY_Em-pcZj5gWCQcxsQ8Cauo3c",authDomain:"fir-76297.firebaseapp.com",projectId:"fir-76297",storageBucket:"fir-76297.appspot.com",messagingSenderId:"1030473876835",appId:"1:1030473876835:web:052fe5c6d9d3b6ad05ff56",measurementId:"G-6PPYBFMGP2"};let bpe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=jr({type:n,bootstrap:[bJ]}),n.\u0275inj=Dr({providers:[{provide:qP,useClass:vJ},pH],imports:[PX,FX,KK,_J.forRoot(),gpe,md.forRoot(),fV,Yre(()=>Zre(_pe)),Dhe(()=>Ahe())]}),n})();window&&(window.console.log=window.console.warn=window.console.info=function(){}),qK().bootstrapModule(bpe).catch(n=>console.log(n))},1764:function(kt){kt.exports=function(){"use strict";var Re="millisecond",Ue="second",Y="minute",ce="hour",Oe="day",U="week",ve="month",we="quarter",ze="year",ue="date",ae="Invalid Date",H=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,de=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,ke={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(q){var G=["th","st","nd","rd"],F=q%100;return"["+q+(G[(F-20)%10]||G[F]||G[0])+"]"}},Te=function(q,G,F){var V=String(q);return!V||V.length>=G?q:""+Array(G+1-V.length).join(F)+q},ie={s:Te,z:function(q){var G=-q.utcOffset(),F=Math.abs(G),V=Math.floor(F/60),k=F%60;return(G<=0?"+":"-")+Te(V,2,"0")+":"+Te(k,2,"0")},m:function q(G,F){if(G.date()<F.date())return-q(F,G);var V=12*(F.year()-G.year())+(F.month()-G.month()),k=G.clone().add(V,ve),K=F-k<0,De=G.clone().add(V+(K?-1:1),ve);return+(-(V+(F-k)/(K?k-De:De-k))||0)},a:function(q){return q<0?Math.ceil(q)||0:Math.floor(q)},p:function(q){return{M:ve,y:ze,w:U,d:Oe,D:ue,h:ce,m:Y,s:Ue,ms:Re,Q:we}[q]||String(q||"").toLowerCase().replace(/s$/,"")},u:function(q){return void 0===q}},O="en",Ce={};Ce[O]=ke;var je=function(q){return q instanceof P},J=function q(G,F,V){var k;if(!G)return O;if("string"==typeof G){var K=G.toLowerCase();Ce[K]&&(k=K),F&&(Ce[K]=F,k=K);var De=G.split("-");if(!k&&De.length>1)return q(De[0])}else{var Pe=G.name;Ce[Pe]=G,k=Pe}return!V&&k&&(O=k),k||!V&&O},pe=function(q,G){if(je(q))return q.clone();var F="object"==typeof G?G:{};return F.date=q,F.args=arguments,new P(F)},he=ie;he.l=J,he.i=je,he.w=function(q,G){return pe(q,{locale:G.$L,utc:G.$u,x:G.$x,$offset:G.$offset})};var P=function(){function q(F){this.$L=J(F.locale,null,!0),this.parse(F)}var G=q.prototype;return G.parse=function(F){this.$d=function(V){var k=V.date,K=V.utc;if(null===k)return new Date(NaN);if(he.u(k))return new Date;if(k instanceof Date)return new Date(k);if("string"==typeof k&&!/Z$/i.test(k)){var De=k.match(H);if(De){var Pe=De[2]-1||0,ot=(De[7]||"0").substring(0,3);return K?new Date(Date.UTC(De[1],Pe,De[3]||1,De[4]||0,De[5]||0,De[6]||0,ot)):new Date(De[1],Pe,De[3]||1,De[4]||0,De[5]||0,De[6]||0,ot)}}return new Date(k)}(F),this.$x=F.x||{},this.init()},G.init=function(){var F=this.$d;this.$y=F.getFullYear(),this.$M=F.getMonth(),this.$D=F.getDate(),this.$W=F.getDay(),this.$H=F.getHours(),this.$m=F.getMinutes(),this.$s=F.getSeconds(),this.$ms=F.getMilliseconds()},G.$utils=function(){return he},G.isValid=function(){return this.$d.toString()!==ae},G.isSame=function(F,V){var k=pe(F);return this.startOf(V)<=k&&k<=this.endOf(V)},G.isAfter=function(F,V){return pe(F)<this.startOf(V)},G.isBefore=function(F,V){return this.endOf(V)<pe(F)},G.$g=function(F,V,k){return he.u(F)?this[V]:this.set(k,F)},G.unix=function(){return Math.floor(this.valueOf()/1e3)},G.valueOf=function(){return this.$d.getTime()},G.startOf=function(F,V){var k=this,K=!!he.u(V)||V,De=he.p(F),Pe=function(j,_e){var tt=he.w(k.$u?Date.UTC(k.$y,_e,j):new Date(k.$y,_e,j),k);return K?tt:tt.endOf(Oe)},ot=function(j,_e){return he.w(k.toDate()[j].apply(k.toDate("s"),(K?[0,0,0,0]:[23,59,59,999]).slice(_e)),k)},ee=this.$W,B=this.$M,Q=this.$D,fe="set"+(this.$u?"UTC":"");switch(De){case ze:return K?Pe(1,0):Pe(31,11);case ve:return K?Pe(1,B):Pe(0,B+1);case U:var ge=this.$locale().weekStart||0,ne=(ee<ge?ee+7:ee)-ge;return Pe(K?Q-ne:Q+(6-ne),B);case Oe:case ue:return ot(fe+"Hours",0);case ce:return ot(fe+"Minutes",1);case Y:return ot(fe+"Seconds",2);case Ue:return ot(fe+"Milliseconds",3);default:return this.clone()}},G.endOf=function(F){return this.startOf(F,!1)},G.$set=function(F,V){var k,K=he.p(F),De="set"+(this.$u?"UTC":""),Pe=(k={},k[Oe]=De+"Date",k[ue]=De+"Date",k[ve]=De+"Month",k[ze]=De+"FullYear",k[ce]=De+"Hours",k[Y]=De+"Minutes",k[Ue]=De+"Seconds",k[Re]=De+"Milliseconds",k)[K],ot=K===Oe?this.$D+(V-this.$W):V;if(K===ve||K===ze){var ee=this.clone().set(ue,1);ee.$d[Pe](ot),ee.init(),this.$d=ee.set(ue,Math.min(this.$D,ee.daysInMonth())).$d}else Pe&&this.$d[Pe](ot);return this.init(),this},G.set=function(F,V){return this.clone().$set(F,V)},G.get=function(F){return this[he.p(F)]()},G.add=function(F,V){var k,K=this;F=Number(F);var De=he.p(V),Pe=function(B){var Q=pe(K);return he.w(Q.date(Q.date()+Math.round(B*F)),K)};if(De===ve)return this.set(ve,this.$M+F);if(De===ze)return this.set(ze,this.$y+F);if(De===Oe)return Pe(1);if(De===U)return Pe(7);var ot=(k={},k[Y]=6e4,k[ce]=36e5,k[Ue]=1e3,k)[De]||1,ee=this.$d.getTime()+F*ot;return he.w(ee,this)},G.subtract=function(F,V){return this.add(-1*F,V)},G.format=function(F){var V=this,k=this.$locale();if(!this.isValid())return k.invalidDate||ae;var K=F||"YYYY-MM-DDTHH:mm:ssZ",De=he.z(this),Pe=this.$H,ot=this.$m,ee=this.$M,B=k.weekdays,Q=k.months,fe=function(_e,tt,be,vt){return _e&&(_e[tt]||_e(V,K))||be[tt].slice(0,vt)},ge=function(_e){return he.s(Pe%12||12,_e,"0")},ne=k.meridiem||function(_e,tt,be){var vt=_e<12?"AM":"PM";return be?vt.toLowerCase():vt},j={YY:String(this.$y).slice(-2),YYYY:this.$y,M:ee+1,MM:he.s(ee+1,2,"0"),MMM:fe(k.monthsShort,ee,Q,3),MMMM:fe(Q,ee),D:this.$D,DD:he.s(this.$D,2,"0"),d:String(this.$W),dd:fe(k.weekdaysMin,this.$W,B,2),ddd:fe(k.weekdaysShort,this.$W,B,3),dddd:B[this.$W],H:String(Pe),HH:he.s(Pe,2,"0"),h:ge(1),hh:ge(2),a:ne(Pe,ot,!0),A:ne(Pe,ot,!1),m:String(ot),mm:he.s(ot,2,"0"),s:String(this.$s),ss:he.s(this.$s,2,"0"),SSS:he.s(this.$ms,3,"0"),Z:De};return K.replace(de,function(_e,tt){return tt||j[_e]||De.replace(":","")})},G.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},G.diff=function(F,V,k){var K,De=he.p(V),Pe=pe(F),ot=6e4*(Pe.utcOffset()-this.utcOffset()),ee=this-Pe,B=he.m(this,Pe);return B=(K={},K[ze]=B/12,K[ve]=B,K[we]=B/3,K[U]=(ee-ot)/6048e5,K[Oe]=(ee-ot)/864e5,K[ce]=ee/36e5,K[Y]=ee/6e4,K[Ue]=ee/1e3,K)[De]||ee,k?B:he.a(B)},G.daysInMonth=function(){return this.endOf(ve).$D},G.$locale=function(){return Ce[this.$L]},G.locale=function(F,V){if(!F)return this.$L;var k=this.clone(),K=J(F,V,!0);return K&&(k.$L=K),k},G.clone=function(){return he.w(this.$d,this)},G.toDate=function(){return new Date(this.valueOf())},G.toJSON=function(){return this.isValid()?this.toISOString():null},G.toISOString=function(){return this.$d.toISOString()},G.toString=function(){return this.$d.toUTCString()},q}(),se=P.prototype;return pe.prototype=se,[["$ms",Re],["$s",Ue],["$m",Y],["$H",ce],["$W",Oe],["$M",ve],["$y",ze],["$D",ue]].forEach(function(q){se[q[1]]=function(G){return this.$g(G,q[0],q[1])}}),pe.extend=function(q,G){return q.$i||(q(G,P,pe),q.$i=!0),pe},pe.locale=J,pe.isDayjs=je,pe.unix=function(q){return pe(1e3*q)},pe.en=Ce[O],pe.Ls=Ce,pe.p={},pe}()},4424:kt=>{kt.exports=function Re(Ue,Y,ce){function Oe(we,ze){if(!Y[we]){if(!Ue[we]){if(U)return U(we,!0);var ae=new Error("Cannot find module '"+we+"'");throw ae.code="MODULE_NOT_FOUND",ae}var H=Y[we]={exports:{}};Ue[we][0].call(H.exports,function(de){return Oe(Ue[we][1][de]||de)},H,H.exports,Re,Ue,Y,ce)}return Y[we].exports}for(var U=void 0,ve=0;ve<ce.length;ve++)Oe(ce[ve]);return Oe}({1:[function(Re,Ue,Y){(function(ce){"use strict";var U,Oe=ce.MutationObserver||ce.WebKitMutationObserver;if(Oe){var ve=0,we=new Oe(de),ze=ce.document.createTextNode("");we.observe(ze,{characterData:!0}),U=function(){ze.data=ve=++ve%2}}else if(!ce.setImmediate&&typeof ce.MessageChannel<"u"){var ue=new ce.MessageChannel;ue.port1.onmessage=de,U=function(){ue.port2.postMessage(0)}}else U="document"in ce&&"onreadystatechange"in ce.document.createElement("script")?function(){var Te=ce.document.createElement("script");Te.onreadystatechange=function(){de(),Te.onreadystatechange=null,Te.parentNode.removeChild(Te),Te=null},ce.document.documentElement.appendChild(Te)}:function(){setTimeout(de,0)};var ae,H=[];function de(){ae=!0;for(var Te,ie,O=H.length;O;){for(ie=H,H=[],Te=-1;++Te<O;)ie[Te]();O=H.length}ae=!1}Ue.exports=function ke(Te){1===H.push(Te)&&!ae&&U()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(Re,Ue,Y){"use strict";var ce=Re(1);function Oe(){}var U={},ve=["REJECTED"],we=["FULFILLED"],ze=["PENDING"];function ue(J){if("function"!=typeof J)throw new TypeError("resolver must be a function");this.state=ze,this.queue=[],this.outcome=void 0,J!==Oe&&ke(this,J)}function ae(J,pe,he){this.promise=J,"function"==typeof pe&&(this.onFulfilled=pe,this.callFulfilled=this.otherCallFulfilled),"function"==typeof he&&(this.onRejected=he,this.callRejected=this.otherCallRejected)}function H(J,pe,he){ce(function(){var P;try{P=pe(he)}catch(se){return U.reject(J,se)}P===J?U.reject(J,new TypeError("Cannot resolve promise with itself")):U.resolve(J,P)})}function de(J){var pe=J&&J.then;if(J&&("object"==typeof J||"function"==typeof J)&&"function"==typeof pe)return function(){pe.apply(J,arguments)}}function ke(J,pe){var he=!1;function P(F){he||(he=!0,U.reject(J,F))}function se(F){he||(he=!0,U.resolve(J,F))}var G=Te(function q(){pe(se,P)});"error"===G.status&&P(G.value)}function Te(J,pe){var he={};try{he.value=J(pe),he.status="success"}catch(P){he.status="error",he.value=P}return he}Ue.exports=ue,ue.prototype.catch=function(J){return this.then(null,J)},ue.prototype.then=function(J,pe){if("function"!=typeof J&&this.state===we||"function"!=typeof pe&&this.state===ve)return this;var he=new this.constructor(Oe);return this.state!==ze?H(he,this.state===we?J:pe,this.outcome):this.queue.push(new ae(he,J,pe)),he},ae.prototype.callFulfilled=function(J){U.resolve(this.promise,J)},ae.prototype.otherCallFulfilled=function(J){H(this.promise,this.onFulfilled,J)},ae.prototype.callRejected=function(J){U.reject(this.promise,J)},ae.prototype.otherCallRejected=function(J){H(this.promise,this.onRejected,J)},U.resolve=function(J,pe){var he=Te(de,pe);if("error"===he.status)return U.reject(J,he.value);var P=he.value;if(P)ke(J,P);else{J.state=we,J.outcome=pe;for(var se=-1,q=J.queue.length;++se<q;)J.queue[se].callFulfilled(pe)}return J},U.reject=function(J,pe){J.state=ve,J.outcome=pe;for(var he=-1,P=J.queue.length;++he<P;)J.queue[he].callRejected(pe);return J},ue.resolve=function ie(J){return J instanceof this?J:U.resolve(new this(Oe),J)},ue.reject=function O(J){var pe=new this(Oe);return U.reject(pe,J)},ue.all=function Ce(J){var pe=this;if("[object Array]"!==Object.prototype.toString.call(J))return this.reject(new TypeError("must be an array"));var he=J.length,P=!1;if(!he)return this.resolve([]);for(var se=new Array(he),q=0,G=-1,F=new this(Oe);++G<he;)V(J[G],G);return F;function V(k,K){pe.resolve(k).then(function De(Pe){se[K]=Pe,++q===he&&!P&&(P=!0,U.resolve(F,se))},function(Pe){P||(P=!0,U.reject(F,Pe))})}},ue.race=function je(J){var pe=this;if("[object Array]"!==Object.prototype.toString.call(J))return this.reject(new TypeError("must be an array"));var he=J.length,P=!1;if(!he)return this.resolve([]);for(var se=-1,q=new this(Oe);++se<he;)pe.resolve(J[se]).then(function(V){P||(P=!0,U.resolve(q,V))},function(V){P||(P=!0,U.reject(q,V))});return q}},{1:1}],3:[function(Re,Ue,Y){(function(ce){"use strict";"function"!=typeof ce.Promise&&(ce.Promise=Re(2))}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(Re,Ue,Y){"use strict";var ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};var ve=function U(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch(b){return}}();function ze(b,A){b=b||[],A=A||{};try{return new Blob(b,A)}catch(_){if("TypeError"!==_.name)throw _;for(var p=new(typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder),y=0;y<b.length;y+=1)p.append(b[y]);return p.getBlob(A.type)}}typeof Promise>"u"&&Re(3);var ue=Promise;function ae(b,A){A&&b.then(function(h){A(null,h)},function(h){A(h)})}function H(b,A,h){"function"==typeof A&&b.then(A),"function"==typeof h&&b.catch(h)}function de(b){return"string"!=typeof b&&(console.warn(b+" used as a key, but it is not a string."),b=String(b)),b}function ke(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var Te="local-forage-detect-blob-support",ie=void 0,O={},Ce=Object.prototype.toString,je="readonly",J="readwrite";function pe(b){for(var A=b.length,h=new ArrayBuffer(A),p=new Uint8Array(h),y=0;y<A;y++)p[y]=b.charCodeAt(y);return h}function P(b){return"boolean"==typeof ie?ue.resolve(ie):function he(b){return new ue(function(A){var h=b.transaction(Te,J),p=ze([""]);h.objectStore(Te).put(p,"key"),h.onabort=function(y){y.preventDefault(),y.stopPropagation(),A(!1)},h.oncomplete=function(){var y=navigator.userAgent.match(/Chrome\/(\d+)/),_=navigator.userAgent.match(/Edge\//);A(_||!y||parseInt(y[1],10)>=43)}}).catch(function(){return!1})}(b).then(function(A){return ie=A})}function se(b){var A=O[b.name],h={};h.promise=new ue(function(p,y){h.resolve=p,h.reject=y}),A.deferredOperations.push(h),A.dbReady=A.dbReady?A.dbReady.then(function(){return h.promise}):h.promise}function q(b){var h=O[b.name].deferredOperations.pop();if(h)return h.resolve(),h.promise}function G(b,A){var p=O[b.name].deferredOperations.pop();if(p)return p.reject(A),p.promise}function F(b,A){return new ue(function(h,p){if(O[b.name]=O[b.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},b.db){if(!A)return h(b.db);se(b),b.db.close()}var y=[b.name];A&&y.push(b.version);var _=ve.open.apply(ve,y);A&&(_.onupgradeneeded=function(S){var m=_.result;try{m.createObjectStore(b.storeName),S.oldVersion<=1&&m.createObjectStore(Te)}catch(I){if("ConstraintError"!==I.name)throw I;console.warn('The database "'+b.name+'" has been upgraded from version '+S.oldVersion+" to version "+S.newVersion+', but the storage "'+b.storeName+'" already exists.')}}),_.onerror=function(S){S.preventDefault(),p(_.error)},_.onsuccess=function(){var S=_.result;S.onversionchange=function(m){m.target.close()},h(S),q(b)}})}function V(b){return F(b,!1)}function k(b){return F(b,!0)}function K(b,A){if(!b.db)return!0;var h=!b.db.objectStoreNames.contains(b.storeName),y=b.version>b.db.version;if(b.version<b.db.version&&(b.version!==A&&console.warn('The database "'+b.name+"\" can't be downgraded from version "+b.db.version+" to version "+b.version+"."),b.version=b.db.version),y||h){if(h){var _=b.db.version+1;_>b.version&&(b.version=_)}return!0}return!1}function Pe(b){return ze([pe(atob(b.data))],{type:b.type})}function ot(b){return b&&b.__local_forage_encoded_blob}function ee(b){var A=this,h=A._initReady().then(function(){var p=O[A._dbInfo.name];if(p&&p.dbReady)return p.dbReady});return H(h,b,b),h}function Q(b,A,h,p){void 0===p&&(p=1);try{var y=b.db.transaction(b.storeName,A);h(null,y)}catch(_){if(p>0&&(!b.db||"InvalidStateError"===_.name||"NotFoundError"===_.name))return ue.resolve().then(function(){if(!b.db||"NotFoundError"===_.name&&!b.db.objectStoreNames.contains(b.storeName)&&b.version<=b.db.version)return b.db&&(b.version=b.db.version+1),k(b)}).then(function(){return function B(b){se(b);for(var A=O[b.name],h=A.forages,p=0;p<h.length;p++){var y=h[p];y._dbInfo.db&&(y._dbInfo.db.close(),y._dbInfo.db=null)}return b.db=null,V(b).then(function(_){return b.db=_,K(b)?k(b):_}).then(function(_){b.db=A.db=_;for(var S=0;S<h.length;S++)h[S]._dbInfo.db=_}).catch(function(_){throw G(b,_),_})}(b).then(function(){Q(b,A,h,p-1)})}).catch(h);h(_)}}var ye={_driver:"asyncStorage",_initStorage:function ge(b){var A=this,h={db:null};if(b)for(var p in b)h[p]=b[p];var y=O[h.name];y||(O[h.name]=y={forages:[],db:null,dbReady:null,deferredOperations:[]}),y.forages.push(A),A._initReady||(A._initReady=A.ready,A.ready=ee);var _=[];function S(){return ue.resolve()}for(var m=0;m<y.forages.length;m++){var I=y.forages[m];I!==A&&_.push(I._initReady().catch(S))}var D=y.forages.slice(0);return ue.all(_).then(function(){return h.db=y.db,V(h)}).then(function(M){return h.db=M,K(h,A._defaultConfig.version)?k(h):M}).then(function(M){h.db=y.db=M,A._dbInfo=h;for(var L=0;L<D.length;L++){var R=D[L];R!==A&&(R._dbInfo.db=h.db,R._dbInfo.version=h.version)}})},_support:function we(){try{if(!ve||!ve.open)return!1;var b=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),A="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!b||A)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch(h){return!1}}(),iterate:function j(b,A){var h=this,p=new ue(function(y,_){h.ready().then(function(){Q(h._dbInfo,je,function(S,m){if(S)return _(S);try{var D=m.objectStore(h._dbInfo.storeName).openCursor(),M=1;D.onsuccess=function(){var L=D.result;if(L){var R=L.value;ot(R)&&(R=Pe(R));var Be=b(R,L.key,M++);void 0!==Be?y(Be):L.continue()}else y()},D.onerror=function(){_(D.error)}}catch(L){_(L)}})}).catch(_)});return ae(p,A),p},getItem:function ne(b,A){var h=this;b=de(b);var p=new ue(function(y,_){h.ready().then(function(){Q(h._dbInfo,je,function(S,m){if(S)return _(S);try{var D=m.objectStore(h._dbInfo.storeName).get(b);D.onsuccess=function(){var M=D.result;void 0===M&&(M=null),ot(M)&&(M=Pe(M)),y(M)},D.onerror=function(){_(D.error)}}catch(M){_(M)}})}).catch(_)});return ae(p,A),p},setItem:function _e(b,A,h){var p=this;b=de(b);var y=new ue(function(_,S){var m;p.ready().then(function(){return m=p._dbInfo,"[object Blob]"===Ce.call(A)?P(m.db).then(function(I){return I?A:function De(b){return new ue(function(A,h){var p=new FileReader;p.onerror=h,p.onloadend=function(y){var _=btoa(y.target.result||"");A({__local_forage_encoded_blob:!0,data:_,type:b.type})},p.readAsBinaryString(b)})}(A)}):A}).then(function(I){Q(p._dbInfo,J,function(D,M){if(D)return S(D);try{var L=M.objectStore(p._dbInfo.storeName);null===I&&(I=void 0);var R=L.put(I,b);M.oncomplete=function(){void 0===I&&(I=null),_(I)},M.onabort=M.onerror=function(){S(R.error?R.error:R.transaction.error)}}catch(Be){S(Be)}})}).catch(S)});return ae(y,h),y},removeItem:function tt(b,A){var h=this;b=de(b);var p=new ue(function(y,_){h.ready().then(function(){Q(h._dbInfo,J,function(S,m){if(S)return _(S);try{var D=m.objectStore(h._dbInfo.storeName).delete(b);m.oncomplete=function(){y()},m.onerror=function(){_(D.error)},m.onabort=function(){_(D.error?D.error:D.transaction.error)}}catch(M){_(M)}})}).catch(_)});return ae(p,A),p},clear:function be(b){var A=this,h=new ue(function(p,y){A.ready().then(function(){Q(A._dbInfo,J,function(_,S){if(_)return y(_);try{var I=S.objectStore(A._dbInfo.storeName).clear();S.oncomplete=function(){p()},S.onabort=S.onerror=function(){y(I.error?I.error:I.transaction.error)}}catch(D){y(D)}})}).catch(y)});return ae(h,b),h},length:function vt(b){var A=this,h=new ue(function(p,y){A.ready().then(function(){Q(A._dbInfo,je,function(_,S){if(_)return y(_);try{var I=S.objectStore(A._dbInfo.storeName).count();I.onsuccess=function(){p(I.result)},I.onerror=function(){y(I.error)}}catch(D){y(D)}})}).catch(y)});return ae(h,b),h},key:function qt(b,A){var h=this,p=new ue(function(y,_){b<0?y(null):h.ready().then(function(){Q(h._dbInfo,je,function(S,m){if(S)return _(S);try{var I=m.objectStore(h._dbInfo.storeName),D=!1,M=I.openKeyCursor();M.onsuccess=function(){var L=M.result;L?0===b||D?y(L.key):(D=!0,L.advance(b)):y(null)},M.onerror=function(){_(M.error)}}catch(L){_(L)}})}).catch(_)});return ae(p,A),p},keys:function zt(b){var A=this,h=new ue(function(p,y){A.ready().then(function(){Q(A._dbInfo,je,function(_,S){if(_)return y(_);try{var I=S.objectStore(A._dbInfo.storeName).openKeyCursor(),D=[];I.onsuccess=function(){var M=I.result;M?(D.push(M.key),M.continue()):p(D)},I.onerror=function(){y(I.error)}}catch(M){y(M)}})}).catch(y)});return ae(h,b),h},dropInstance:function Wt(b,A){A=ke.apply(this,arguments);var y,h=this.config();return(b="function"!=typeof b&&b||{}).name||(b.name=b.name||h.name,b.storeName=b.storeName||h.storeName),ae(y=b.name?(b.name===h.name&&this._dbInfo.db?ue.resolve(this._dbInfo.db):V(b).then(function(m){var I=O[b.name],D=I.forages;I.db=m;for(var M=0;M<D.length;M++)D[M]._dbInfo.db=m;return m})).then(b.storeName?function(m){if(m.objectStoreNames.contains(b.storeName)){var I=m.version+1;se(b);var D=O[b.name],M=D.forages;m.close();for(var L=0;L<M.length;L++){var R=M[L];R._dbInfo.db=null,R._dbInfo.version=I}return new ue(function(Ie,et){var Vt=ve.open(b.name,I);Vt.onerror=function(dn){Vt.result.close(),et(dn)},Vt.onupgradeneeded=function(){Vt.result.deleteObjectStore(b.storeName)},Vt.onsuccess=function(){var dn=Vt.result;dn.close(),Ie(dn)}}).then(function(Ie){D.db=Ie;for(var et=0;et<M.length;et++){var Vt=M[et];Vt._dbInfo.db=Ie,q(Vt._dbInfo)}}).catch(function(Ie){throw(G(b,Ie)||ue.resolve()).catch(function(){}),Ie})}}:function(m){se(b);var I=O[b.name],D=I.forages;m.close();for(var M=0;M<D.length;M++)D[M]._dbInfo.db=null;return new ue(function(Be,Ie){var et=ve.deleteDatabase(b.name);et.onerror=function(){var Vt=et.result;Vt&&Vt.close(),Ie(et.error)},et.onblocked=function(){console.warn('dropInstance blocked for database "'+b.name+'" until all open connections are closed')},et.onsuccess=function(){var Vt=et.result;Vt&&Vt.close(),Be(Vt)}}).then(function(Be){I.db=Be;for(var Ie=0;Ie<D.length;Ie++)q(D[Ie]._dbInfo)}).catch(function(Be){throw(G(b,Be)||ue.resolve()).catch(function(){}),Be})}):ue.reject("Invalid arguments"),A),y}};var Kn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Pi="~~local_forage_type~",yo=/^~~local_forage_type~([^~]+)~/,Sr="__lfsc__:",ds=Sr.length,$="arbf",hs="blob",An="si08",_o="ui08",bo="uic8",fs="si16",Za="si32",Vo="ur16",ps="ui32",hr="fl32",Fi="fl64",gs=ds+$.length,tr=Object.prototype.toString;function aa(b){var p,_,S,m,I,A=.75*b.length,h=b.length,y=0;"="===b[b.length-1]&&(A--,"="===b[b.length-2]&&A--);var D=new ArrayBuffer(A),M=new Uint8Array(D);for(p=0;p<h;p+=4)_=Kn.indexOf(b[p]),S=Kn.indexOf(b[p+1]),m=Kn.indexOf(b[p+2]),I=Kn.indexOf(b[p+3]),M[y++]=_<<2|S>>4,M[y++]=(15&S)<<4|m>>2,M[y++]=(3&m)<<6|63&I;return D}function Bo(b){var p,A=new Uint8Array(b),h="";for(p=0;p<A.length;p+=3)h+=Kn[A[p]>>2],h+=Kn[(3&A[p])<<4|A[p+1]>>4],h+=Kn[(15&A[p+1])<<2|A[p+2]>>6],h+=Kn[63&A[p+2]];return A.length%3==2?h=h.substring(0,h.length-1)+"=":A.length%3==1&&(h=h.substring(0,h.length-2)+"=="),h}var ms={serialize:function Xa(b,A){var h="";if(b&&(h=tr.call(b)),b&&("[object ArrayBuffer]"===h||b.buffer&&"[object ArrayBuffer]"===tr.call(b.buffer))){var p,y=Sr;b instanceof ArrayBuffer?(p=b,y+=$):(p=b.buffer,"[object Int8Array]"===h?y+=An:"[object Uint8Array]"===h?y+=_o:"[object Uint8ClampedArray]"===h?y+=bo:"[object Int16Array]"===h?y+=fs:"[object Uint16Array]"===h?y+=Vo:"[object Int32Array]"===h?y+=Za:"[object Uint32Array]"===h?y+=ps:"[object Float32Array]"===h?y+=hr:"[object Float64Array]"===h?y+=Fi:A(new Error("Failed to get type for BinaryArray"))),A(y+Bo(p))}else if("[object Blob]"===h){var _=new FileReader;_.onload=function(){var S=Pi+b.type+"~"+Bo(this.result);A(Sr+hs+S)},_.readAsArrayBuffer(b)}else try{A(JSON.stringify(b))}catch(S){console.error("Couldn't convert value into a JSON string: ",b),A(null,S)}},deserialize:function pl(b){if(b.substring(0,ds)!==Sr)return JSON.parse(b);var p,A=b.substring(gs),h=b.substring(ds,gs);if(h===hs&&yo.test(A)){var y=A.match(yo);p=y[1],A=A.substring(y[0].length)}var _=aa(A);switch(h){case $:return _;case hs:return ze([_],{type:p});case An:return new Int8Array(_);case _o:return new Uint8Array(_);case bo:return new Uint8ClampedArray(_);case fs:return new Int16Array(_);case Vo:return new Uint16Array(_);case Za:return new Int32Array(_);case ps:return new Uint32Array(_);case hr:return new Float32Array(_);case Fi:return new Float64Array(_);default:throw new Error("Unkown type: "+h)}},stringToBuffer:aa,bufferToString:Bo};function Qa(b,A,h,p){b.executeSql("CREATE TABLE IF NOT EXISTS "+A.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],h,p)}function wr(b,A,h,p,y,_){b.executeSql(h,p,y,function(S,m){m.code===m.SYNTAX_ERR?S.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[A.storeName],function(I,D){D.rows.length?_(I,m):Qa(I,A,function(){I.executeSql(h,p,y,_)},_)},_):_(S,m)},_)}function vs(b,A,h,p){var y=this;b=de(b);var _=new ue(function(S,m){y.ready().then(function(){void 0===A&&(A=null);var I=A,D=y._dbInfo;D.serializer.serialize(A,function(M,L){L?m(L):D.db.transaction(function(R){wr(R,D,"INSERT OR REPLACE INTO "+D.storeName+" (key, value) VALUES (?, ?)",[b,M],function(){S(I)},function(Be,Ie){m(Ie)})},function(R){if(R.code===R.QUOTA_ERR){if(p>0)return void S(vs.apply(y,[b,I,h,p-1]));m(R)}})})}).catch(m)});return ae(_,h),_}var ys={_driver:"webSQLStorage",_initStorage:function Ja(b){var A=this,h={db:null};if(b)for(var p in b)h[p]="string"!=typeof b[p]?b[p].toString():b[p];var y=new ue(function(_,S){try{h.db=openDatabase(h.name,String(h.version),h.description,h.size)}catch(m){return S(m)}h.db.transaction(function(m){Qa(m,h,function(){A._dbInfo=h,_()},function(I,D){S(D)})},S)});return h.serializer=ms,y},_support:function an(){return"function"==typeof openDatabase}(),iterate:function ca(b,A){var h=this,p=new ue(function(y,_){h.ready().then(function(){var S=h._dbInfo;S.db.transaction(function(m){wr(m,S,"SELECT * FROM "+S.storeName,[],function(I,D){for(var M=D.rows,L=M.length,R=0;R<L;R++){var Be=M.item(R),Ie=Be.value;if(Ie&&(Ie=S.serializer.deserialize(Ie)),void 0!==(Ie=b(Ie,Be.key,R+1)))return void y(Ie)}y()},function(I,D){_(D)})})}).catch(_)});return ae(p,A),p},getItem:function Eo(b,A){var h=this;b=de(b);var p=new ue(function(y,_){h.ready().then(function(){var S=h._dbInfo;S.db.transaction(function(m){wr(m,S,"SELECT * FROM "+S.storeName+" WHERE key = ? LIMIT 1",[b],function(I,D){var M=D.rows.length?D.rows.item(0).value:null;M&&(M=S.serializer.deserialize(M)),y(M)},function(I,D){_(D)})})}).catch(_)});return ae(p,A),p},setItem:function la(b,A,h){return vs.apply(this,[b,A,h,1])},removeItem:function Io(b,A){var h=this;b=de(b);var p=new ue(function(y,_){h.ready().then(function(){var S=h._dbInfo;S.db.transaction(function(m){wr(m,S,"DELETE FROM "+S.storeName+" WHERE key = ?",[b],function(){y()},function(I,D){_(D)})})}).catch(_)});return ae(p,A),p},clear:function Li(b){var A=this,h=new ue(function(p,y){A.ready().then(function(){var _=A._dbInfo;_.db.transaction(function(S){wr(S,_,"DELETE FROM "+_.storeName,[],function(){p()},function(m,I){y(I)})})}).catch(y)});return ae(h,b),h},length:function $i(b){var A=this,h=new ue(function(p,y){A.ready().then(function(){var _=A._dbInfo;_.db.transaction(function(S){wr(S,_,"SELECT COUNT(key) as c FROM "+_.storeName,[],function(m,I){var D=I.rows.item(0).c;p(D)},function(m,I){y(I)})})}).catch(y)});return ae(h,b),h},key:function un(b,A){var h=this,p=new ue(function(y,_){h.ready().then(function(){var S=h._dbInfo;S.db.transaction(function(m){wr(m,S,"SELECT key FROM "+S.storeName+" WHERE id = ? LIMIT 1",[b+1],function(I,D){var M=D.rows.length?D.rows.item(0).key:null;y(M)},function(I,D){_(D)})})}).catch(_)});return ae(p,A),p},keys:function Vr(b){var A=this,h=new ue(function(p,y){A.ready().then(function(){var _=A._dbInfo;_.db.transaction(function(S){wr(S,_,"SELECT key FROM "+_.storeName,[],function(m,I){for(var D=[],M=0;M<I.rows.length;M++)D.push(I.rows.item(M).key);p(D)},function(m,I){y(I)})})}).catch(y)});return ae(h,b),h},dropInstance:function ec(b,A){A=ke.apply(this,arguments);var h=this.config();(b="function"!=typeof b&&b||{}).name||(b.name=b.name||h.name,b.storeName=b.storeName||h.storeName);var y,p=this;return ae(y=b.name?new ue(function(_){var S;S=b.name===h.name?p._dbInfo.db:openDatabase(b.name,"","",0),_(b.storeName?{db:S,storeNames:[b.storeName]}:function vn(b){return new ue(function(A,h){b.transaction(function(p){p.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(y,_){for(var S=[],m=0;m<_.rows.length;m++)S.push(_.rows.item(m).name);A({db:b,storeNames:S})},function(y,_){h(_)})},function(p){h(p)})})}(S))}).then(function(_){return new ue(function(S,m){_.db.transaction(function(I){function D(Be){return new ue(function(Ie,et){I.executeSql("DROP TABLE IF EXISTS "+Be,[],function(){Ie()},function(Vt,dn){et(dn)})})}for(var M=[],L=0,R=_.storeNames.length;L<R;L++)M.push(D(_.storeNames[L]));ue.all(M).then(function(){S()}).catch(function(Be){m(Be)})},function(I){m(I)})})}):ue.reject("Invalid arguments"),A),y}};function ua(b,A){var h=b.name+"/";return b.storeName!==A.storeName&&(h+=b.storeName+"/"),h}function tc(){return!function da(){var b="_localforage_support_test";try{return localStorage.setItem(b,!0),localStorage.removeItem(b),!1}catch(A){return!0}}()||localStorage.length>0}var pa={_driver:"localStorageWrapper",_initStorage:function ha(b){var h={};if(b)for(var p in b)h[p]=b[p];return h.keyPrefix=ua(b,this._defaultConfig),tc()?(this._dbInfo=h,h.serializer=ms,ue.resolve()):ue.reject()},_support:function _s(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch(b){return!1}}(),iterate:function yn(b,A){var h=this,p=h.ready().then(function(){for(var y=h._dbInfo,_=y.keyPrefix,S=_.length,m=localStorage.length,I=1,D=0;D<m;D++){var M=localStorage.key(D);if(0===M.indexOf(_)){var L=localStorage.getItem(M);if(L&&(L=y.serializer.deserialize(L)),void 0!==(L=b(L,M.substring(S),I++)))return L}}});return ae(p,A),p},getItem:function fa(b,A){var h=this;b=de(b);var p=h.ready().then(function(){var y=h._dbInfo,_=localStorage.getItem(y.keyPrefix+b);return _&&(_=y.serializer.deserialize(_)),_});return ae(p,A),p},setItem:function bi(b,A,h){var p=this;b=de(b);var y=p.ready().then(function(){void 0===A&&(A=null);var _=A;return new ue(function(S,m){var I=p._dbInfo;I.serializer.serialize(A,function(D,M){if(M)m(M);else try{localStorage.setItem(I.keyPrefix+b,D),S(_)}catch(L){("QuotaExceededError"===L.name||"NS_ERROR_DOM_QUOTA_REACHED"===L.name)&&m(L),m(L)}})})});return ae(y,h),y},removeItem:function nc(b,A){var h=this;b=de(b);var p=h.ready().then(function(){localStorage.removeItem(h._dbInfo.keyPrefix+b)});return ae(p,A),p},clear:function ni(b){var A=this,h=A.ready().then(function(){for(var p=A._dbInfo.keyPrefix,y=localStorage.length-1;y>=0;y--){var _=localStorage.key(y);0===_.indexOf(p)&&localStorage.removeItem(_)}});return ae(h,b),h},length:function gl(b){var h=this.keys().then(function(p){return p.length});return ae(h,b),h},key:function eo(b,A){var h=this,p=h.ready().then(function(){var _,y=h._dbInfo;try{_=localStorage.key(b)}catch(S){_=null}return _&&(_=_.substring(y.keyPrefix.length)),_});return ae(p,A),p},keys:function Br(b){var A=this,h=A.ready().then(function(){for(var p=A._dbInfo,y=localStorage.length,_=[],S=0;S<y;S++){var m=localStorage.key(S);0===m.indexOf(p.keyPrefix)&&_.push(m.substring(p.keyPrefix.length))}return _});return ae(h,b),h},dropInstance:function fr(b,A){if(A=ke.apply(this,arguments),!(b="function"!=typeof b&&b||{}).name){var h=this.config();b.name=b.name||h.name,b.storeName=b.storeName||h.storeName}var y,p=this;return ae(y=b.name?new ue(function(_){_(b.storeName?ua(b,p._defaultConfig):b.name+"/")}).then(function(_){for(var S=localStorage.length-1;S>=0;S--){var m=localStorage.key(S);0===m.indexOf(_)&&localStorage.removeItem(m)}}):ue.reject("Invalid arguments"),A),y}},to=function(A,h){return A===h||"number"==typeof A&&"number"==typeof h&&isNaN(A)&&isNaN(h)},no=function(A,h){for(var p=A.length,y=0;y<p;){if(to(A[y],h))return!0;y++}return!1},pr=Array.isArray||function(b){return"[object Array]"===Object.prototype.toString.call(b)},Ur={},nr={},ri={INDEXEDDB:ye,WEBSQL:ys,LOCALSTORAGE:pa},ga=[ri.INDEXEDDB._driver,ri.WEBSQL._driver,ri.LOCALSTORAGE._driver],ro=["dropInstance"],io=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ro),ma={description:"",driver:ga.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function va(b,A){b[A]=function(){var h=arguments;return b.ready().then(function(){return b[A].apply(b,h)})}}function Kt(){for(var b=1;b<arguments.length;b++){var A=arguments[b];if(A)for(var h in A)A.hasOwnProperty(h)&&(arguments[0][h]=pr(A[h])?A[h].slice():A[h])}return arguments[0]}var Uo=function(){function b(A){for(var h in function Oe(b,A){if(!(b instanceof A))throw new TypeError("Cannot call a class as a function")}(this,b),ri)if(ri.hasOwnProperty(h)){var p=ri[h],y=p._driver;this[h]=y,Ur[y]||this.defineDriver(p)}this._defaultConfig=Kt({},ma),this._config=Kt({},this._defaultConfig,A),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return b.prototype.config=function(h){if("object"===(typeof h>"u"?"undefined":ce(h))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var p in h){if("storeName"===p&&(h[p]=h[p].replace(/\W/g,"_")),"version"===p&&"number"!=typeof h[p])return new Error("Database version must be a number.");this._config[p]=h[p]}return!("driver"in h)||!h.driver||this.setDriver(this._config.driver)}return"string"==typeof h?this._config[h]:this._config},b.prototype.defineDriver=function(h,p,y){var _=new ue(function(S,m){try{var I=h._driver,D=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!h._driver)return void m(D);for(var M=io.concat("_initStorage"),L=0,R=M.length;L<R;L++){var Be=M[L];if((!no(ro,Be)||h[Be])&&"function"!=typeof h[Be])return void m(D)}!function(){for(var gr=function(d1){return function(){var jo=new Error("Method "+d1+" is not implemented by the current driver"),Ny=ue.reject(jo);return ae(Ny,arguments[arguments.length-1]),Ny}},Vi=0,Cr=ro.length;Vi<Cr;Vi++){var bs=ro[Vi];h[bs]||(h[bs]=gr(bs))}}();var Vt=function(gr){Ur[I]&&console.info("Redefining LocalForage driver: "+I),Ur[I]=h,nr[I]=gr,S()};"_support"in h?h._support&&"function"==typeof h._support?h._support().then(Vt,m):Vt(!!h._support):Vt(!0)}catch(dn){m(dn)}});return H(_,p,y),_},b.prototype.driver=function(){return this._driver||null},b.prototype.getDriver=function(h,p,y){var _=Ur[h]?ue.resolve(Ur[h]):ue.reject(new Error("Driver not found."));return H(_,p,y),_},b.prototype.getSerializer=function(h){var p=ue.resolve(ms);return H(p,h),p},b.prototype.ready=function(h){var p=this,y=p._driverSet.then(function(){return null===p._ready&&(p._ready=p._initDriver()),p._ready});return H(y,h,h),y},b.prototype.setDriver=function(h,p,y){var _=this;pr(h)||(h=[h]);var S=this._getSupportedDrivers(h);function m(){_._config.driver=_.driver()}function I(L){return _._extend(L),m(),_._ready=_._initStorage(_._config),_._ready}var M=null!==this._driverSet?this._driverSet.catch(function(){return ue.resolve()}):ue.resolve();return this._driverSet=M.then(function(){var L=S[0];return _._dbInfo=null,_._ready=null,_.getDriver(L).then(function(R){_._driver=R._driver,m(),_._wrapLibraryMethodsWithReady(),_._initDriver=function D(L){return function(){var R=0;return function Be(){for(;R<L.length;){var Ie=L[R];return R++,_._dbInfo=null,_._ready=null,_.getDriver(Ie).then(I).catch(Be)}m();var et=new Error("No available storage method found.");return _._driverSet=ue.reject(et),_._driverSet}()}}(S)})}).catch(function(){m();var L=new Error("No available storage method found.");return _._driverSet=ue.reject(L),_._driverSet}),H(this._driverSet,p,y),this._driverSet},b.prototype.supports=function(h){return!!nr[h]},b.prototype._extend=function(h){Kt(this,h)},b.prototype._getSupportedDrivers=function(h){for(var p=[],y=0,_=h.length;y<_;y++){var S=h[y];this.supports(S)&&p.push(S)}return p},b.prototype._wrapLibraryMethodsWithReady=function(){for(var h=0,p=io.length;h<p;h++)va(this,io[h])},b.prototype.createInstance=function(h){return new b(h)},b}(),rc=new Uo;Ue.exports=rc},{3:3}]},{},[4])(4)},7805:kt=>{for(var gt=[],me=0;me<256;++me)gt[me]=(me+256).toString(16).substr(1);kt.exports=function te(Re,Ue){var Y=Ue||0;return[gt[Re[Y++]],gt[Re[Y++]],gt[Re[Y++]],gt[Re[Y++]],"-",gt[Re[Y++]],gt[Re[Y++]],"-",gt[Re[Y++]],gt[Re[Y++]],"-",gt[Re[Y++]],gt[Re[Y++]],"-",gt[Re[Y++]],gt[Re[Y++]],gt[Re[Y++]],gt[Re[Y++]],gt[Re[Y++]],gt[Re[Y++]]].join("")}},7142:kt=>{var gt=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(gt){var me=new Uint8Array(16);kt.exports=function(){return gt(me),me}}else{var te=new Array(16);kt.exports=function(){for(var Y,Ue=0;Ue<16;Ue++)3&Ue||(Y=4294967296*Math.random()),te[Ue]=Y>>>((3&Ue)<<3)&255;return te}}},1380:kt=>{"use strict";function gt(Re,Ue,Y,ce){switch(Re){case 0:return Ue&Y^~Ue&ce;case 1:case 3:return Ue^Y^ce;case 2:return Ue&Y^Ue&ce^Y&ce}}function me(Re,Ue){return Re<<Ue|Re>>>32-Ue}kt.exports=function te(Re){var Ue=[1518500249,1859775393,2400959708,3395469782],Y=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof Re){var ce=unescape(encodeURIComponent(Re));Re=new Array(ce.length);for(var Oe=0;Oe<ce.length;Oe++)Re[Oe]=ce.charCodeAt(Oe)}Re.push(128);var ve=Math.ceil((Re.length/4+2)/16),we=new Array(ve);for(Oe=0;Oe<ve;Oe++){we[Oe]=new Array(16);for(var ze=0;ze<16;ze++)we[Oe][ze]=Re[64*Oe+4*ze]<<24|Re[64*Oe+4*ze+1]<<16|Re[64*Oe+4*ze+2]<<8|Re[64*Oe+4*ze+3]}for(we[ve-1][14]=8*(Re.length-1)/Math.pow(2,32),we[ve-1][14]=Math.floor(we[ve-1][14]),we[ve-1][15]=8*(Re.length-1)&4294967295,Oe=0;Oe<ve;Oe++){for(var ue=new Array(80),ae=0;ae<16;ae++)ue[ae]=we[Oe][ae];for(ae=16;ae<80;ae++)ue[ae]=me(ue[ae-3]^ue[ae-8]^ue[ae-14]^ue[ae-16],1);var H=Y[0],de=Y[1],ke=Y[2],Te=Y[3],ie=Y[4];for(ae=0;ae<80;ae++){var O=Math.floor(ae/20),Ce=me(H,5)+gt(O,de,ke,Te)+ie+Ue[O]+ue[ae]>>>0;ie=Te,Te=ke,ke=me(de,30)>>>0,de=H,H=Ce}Y[0]=Y[0]+H>>>0,Y[1]=Y[1]+de>>>0,Y[2]=Y[2]+ke>>>0,Y[3]=Y[3]+Te>>>0,Y[4]=Y[4]+ie>>>0}return[Y[0]>>24&255,Y[0]>>16&255,Y[0]>>8&255,255&Y[0],Y[1]>>24&255,Y[1]>>16&255,Y[1]>>8&255,255&Y[1],Y[2]>>24&255,Y[2]>>16&255,Y[2]>>8&255,255&Y[2],Y[3]>>24&255,Y[3]>>16&255,Y[3]>>8&255,255&Y[3],Y[4]>>24&255,Y[4]>>16&255,Y[4]>>8&255,255&Y[4]]}},6988:(kt,gt,me)=>{var te=me(7805);kt.exports=function(Y,ce,Oe){var U=function(ve,we,ze,ue){var ae=ze&&ue||0;if("string"==typeof ve&&(ve=function Ue(Y){Y=unescape(encodeURIComponent(Y));for(var ce=new Array(Y.length),Oe=0;Oe<Y.length;Oe++)ce[Oe]=Y.charCodeAt(Oe);return ce}(ve)),"string"==typeof we&&(we=function Re(Y){var ce=[];return Y.replace(/[a-fA-F0-9]{2}/g,function(Oe){ce.push(parseInt(Oe,16))}),ce}(we)),!Array.isArray(ve))throw TypeError("value must be an array of bytes");if(!Array.isArray(we)||16!==we.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var H=Oe(we.concat(ve));if(H[6]=15&H[6]|ce,H[8]=63&H[8]|128,ze)for(var de=0;de<16;++de)ze[ae+de]=H[de];return ze||te(H)};try{U.name=Y}catch(ve){}return U.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",U.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",U}},6926:(kt,gt,me)=>{var te=me(7142),Re=me(7805);kt.exports=function Ue(Y,ce,Oe){var U=ce&&Oe||0;"string"==typeof Y&&(ce="binary"===Y?new Array(16):null,Y=null);var ve=(Y=Y||{}).random||(Y.rng||te)();if(ve[6]=15&ve[6]|64,ve[8]=63&ve[8]|128,ce)for(var we=0;we<16;++we)ce[U+we]=ve[we];return ce||Re(ve)}},5410:(kt,gt,me)=>{var te=me(6988),Re=me(1380);kt.exports=te("v5",80,Re)},8490:function(kt,gt,me){"use strict";var te=this&&this.__importDefault||function(ce){return ce&&ce.__esModule?ce:{default:ce}};Object.defineProperty(gt,"__esModule",{value:!0});const Re=te(me(6926)),Ue=te(me(5410)),Y=function(){return Re.default()};Y.regex={v4:/^(?:[a-f0-9]{8}-[a-f0-9]{4}-4[a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12})|(?:0{8}-0{4}-0{4}-0{4}-0{12})$/u,v5:/^(?:[a-f0-9]{8}-[a-f0-9]{4}-5[a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12})|(?:0{8}-0{4}-0{4}-0{4}-0{12})$/u},Y.is=function(ce){return Y.regex.v4.test(ce)||Y.regex.v5.test(ce)},Y.empty=function(){return"00000000-0000-0000-0000-000000000000"},Y.fromString=function(ce){return Ue.default(ce,"bb5d0ffa-9a4c-4d7c-8fc2-0a7d2220ba45")},gt.default=Y},863:(kt,gt,me)=>{var te={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,3236],"./ion-avatar_3.entry.js":[4753,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[5652,5652],"./ion-card_5.entry.js":[388,388],"./ion-checkbox.entry.js":[9922,9922],"./ion-chip.entry.js":[657,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime-button.entry.js":[9230,1435,9230],"./ion-datetime_3.entry.js":[4959,1435,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,5817],"./ion-input.entry.js":[1217,8592,1217],"./ion-item-option_3.entry.js":[2933,8592,4651],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,8592,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,8592,3804],"./ion-progress-bar.entry.js":[4174,4174],"./ion-radio_2.entry.js":[4432,4432],"./ion-range.entry.js":[1709,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,2175],"./ion-reorder_2.entry.js":[3583,8592,1186],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,2773],"./ion-slide_2.entry.js":[1650,1650],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,8592,1536],"./ion-text.entry.js":[4376,4376],"./ion-textarea.entry.js":[6560,6560],"./ion-toast.entry.js":[6120,8592,6120],"./ion-toggle.entry.js":[5168,8592,5168],"./ion-virtual-scroll.entry.js":[2289,2289]};function Re(Ue){if(!me.o(te,Ue))return Promise.resolve().then(()=>{var Oe=new Error("Cannot find module '"+Ue+"'");throw Oe.code="MODULE_NOT_FOUND",Oe});var Y=te[Ue],ce=Y[0];return Promise.all(Y.slice(1).map(me.e)).then(()=>me(ce))}Re.keys=()=>Object.keys(te),Re.id=863,kt.exports=Re},5861:(kt,gt,me)=>{"use strict";function te(Ue,Y,ce,Oe,U,ve,we){try{var ze=Ue[ve](we),ue=ze.value}catch(ae){return void ce(ae)}ze.done?Y(ue):Promise.resolve(ue).then(Oe,U)}function Re(Ue){return function(){var Y=this,ce=arguments;return new Promise(function(Oe,U){var ve=Ue.apply(Y,ce);function we(ue){te(ve,Oe,U,we,ze,"next",ue)}function ze(ue){te(ve,Oe,U,we,ze,"throw",ue)}we(void 0)})}}me.d(gt,{Z:()=>Re})}},kt=>{kt(kt.s=7088)}]);